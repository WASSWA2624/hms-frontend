Steps to review and implement:
- **11.10.1** Billing (main) -- `(main)/billing`
- **11.10.2.1** Invoice -- `(main)/billing/invoices`
- **11.10.2.2** Payment -- `(main)/billing/payments`
- **11.10.2.3** Refund -- `(main)/billing/refunds`
- **11.10.2.4** Pricing -- `(main)/billing/pricing-rules`
- **11.10.2.5** Coverage -- `(main)/billing/coverage-plans`
- **11.10.2.6** Claim -- `(main)/billing/insurance-claims`
- **11.10.2.7** Pre-auth -- `(main)/billing/pre-authorizations`
- **11.10.2.8** Adjustment -- `(main)/billing/billing-adjustments`
- **11.10.3** HR (main) -- `(main)/hr`
- **11.10.4.1** Staff -- `(main)/hr/staff-profiles`
- **11.10.4.2** Assignment -- `(main)/hr/staff-assignments`
- **11.10.4.3** Leave -- `(main)/hr/staff-leaves`
- **11.10.4.4** Shift -- `(main)/hr/shifts`
- **11.10.4.5** Nurse Timetable -- `(main)/hr/nurse-rosters`
- **11.10.4.6** Payroll -- `(main)/hr/payroll-runs`
- **11.10.5** Housekeeping (main) -- `(main)/housekeeping`
- **11.10.6.1** Task -- `(main)/housekeeping/housekeeping-tasks`
- **11.10.6.2** Schedule -- `(main)/housekeeping/housekeeping-schedules`
- **11.10.6.3** Maintenance -- `(main)/housekeeping/maintenance-requests`
- **11.10.6.4** Asset -- `(main)/housekeeping/assets`
- **11.10.6.5** Service Log -- `(main)/housekeeping/asset-service-logs`
- **11.10.7** Reports (main) -- `(main)/reports`
- **11.10.8** Communications (main) -- `(main)/communications`
- **11.10.9** Subscriptions (main) -- `(main)/subscriptions`
- **11.10.10** Integrations (main) -- `(main)/integrations`
- **11.10.11** Compliance (main) -- `(main)/compliance`

Review and implement all missing and non-compliant aspects of the provided dev step(s) as per `hms-frontend/dev-plan/P011_screens-routes.md`.

You must ensure 100% compliance with:
- All rules in `hms-frontend/.cursor/rules/*`
- `hms-frontend/dev-plan/P011_screens-routes.md`
- `hms-frontend/write-up.md`
- Backend contracts in `hms-backend/dev-plan/P010_api_endpoints.mdc` for selected Tier 10 resources
- Actual mounted backend routes in `hms-backend/src/app/router.js` and these Tier 10 module route files:
  - `hms-backend/src/modules/invoice/routes/invoice.routes.js`
  - `hms-backend/src/modules/invoice-item/routes/invoice-item.routes.js`
  - `hms-backend/src/modules/payment/routes/payment.routes.js`
  - `hms-backend/src/modules/refund/routes/refund.routes.js`
  - `hms-backend/src/modules/insurance-claim/routes/insurance-claim.routes.js`
  - `hms-backend/src/modules/pre-authorization/routes/pre-authorization.routes.js`
  - `hms-backend/src/modules/billing-adjustment/routes/billing-adjustment.routes.js`
  - `hms-backend/src/modules/staff-profile/routes/staff-profile.routes.js`
  - `hms-backend/src/modules/staff-assignment/routes/staff-assignment.routes.js`
  - `hms-backend/src/modules/staff-leave/routes/staff-leave.routes.js`
  - `hms-backend/src/modules/shift/routes/shift.routes.js`
  - `hms-backend/src/modules/nurse-roster/routes/nurse-roster.routes.js`
  - `hms-backend/src/modules/payroll-run/routes/payroll-run.routes.js`
  - `hms-backend/src/modules/payroll-item/routes/payroll-item.routes.js`
  - `hms-backend/src/modules/housekeeping-task/routes/housekeeping-task.routes.js`
  - `hms-backend/src/modules/housekeeping-schedule/routes/housekeeping-schedule.routes.js`
  - `hms-backend/src/modules/maintenance-request/routes/maintenance-request.routes.js`
  - `hms-backend/src/modules/asset/routes/asset.routes.js`
  - `hms-backend/src/modules/asset-service-log/routes/asset-service-log.routes.js`
  - `hms-backend/src/modules/dashboard-widget/routes/dashboard-widget.routes.js`
  - `hms-backend/src/modules/kpi-snapshot/routes/kpi-snapshot.routes.js`
  - `hms-backend/src/modules/analytics-event/routes/analytics-event.routes.js`
  - `hms-backend/src/modules/notification/routes/notification.routes.js`
  - `hms-backend/src/modules/notification-delivery/routes/notification-delivery.routes.js`
  - `hms-backend/src/modules/template/routes/template.routes.js`
  - `hms-backend/src/modules/template-variable/routes/template-variable.routes.js`
  - `hms-backend/src/modules/subscription-plan/routes/subscription-plan.routes.js`
  - `hms-backend/src/modules/subscription/routes/subscription.routes.js`
  - `hms-backend/src/modules/subscription-invoice/routes/subscription-invoice.routes.js`
  - `hms-backend/src/modules/module/routes/module.routes.js`
  - `hms-backend/src/modules/module-subscription/routes/module-subscription.routes.js`
  - `hms-backend/src/modules/license/routes/license.routes.js`
  - `hms-backend/src/modules/integration/routes/integration.routes.js`
  - `hms-backend/src/modules/integration-log/routes/integration-log.routes.js`
  - `hms-backend/src/modules/webhook-subscription/routes/webhook-subscription.routes.js`
  - `hms-backend/src/modules/audit-log/routes/audit-log.routes.js`
  - `hms-backend/src/modules/phi-access-log/routes/phi-access-log.routes.js`
  - `hms-backend/src/modules/data-processing-log/routes/data-processing-log.routes.js`
  - `hms-backend/src/modules/breach-notification/routes/breach-notification.routes.js`
  - `hms-backend/src/modules/system-change-log/routes/system-change-log.routes.js`
- Tier 10 modules that exist in backend code but are currently NOT mounted in `router.js` (treat as unavailable unless explicitly mounted by selected backend work):
  - `hms-backend/src/modules/pricing-rule/routes/pricing-rule.routes.js`
  - `hms-backend/src/modules/coverage-plan/routes/coverage-plan.routes.js`
  - `hms-backend/src/modules/report-definition/routes/report-definition.routes.js`
  - `hms-backend/src/modules/report-run/routes/report-run.routes.js`
  - `hms-backend/src/modules/conversation/*`
  - `hms-backend/src/modules/message/*`
- If backend changes are required, full compliance with `hms-backend/.cursor/rules/*` is mandatory

Only implement what is required for the selected Tier 10 screen(s) to function correctly.

---

## Step Selection Contract (Mandatory)

- The request can target one or more steps from `11.10.1` to `11.10.11`.
- Group labels `11.10.2`, `11.10.4`, and `11.10.6` are collections, not single resources.
- If a request selects `11.10.2`, implement all child billing tab steps `11.10.2.1` to `11.10.2.8`.
- If a request selects `11.10.4`, implement all child HR tab steps `11.10.4.1` to `11.10.4.6`.
- If a request selects `11.10.6`, implement all child housekeeping tab steps `11.10.6.1` to `11.10.6.5`.
- If a request selects specific child tab step IDs, implement only those.
- `11.10.4.5` Nurse Timetable maps to the Nurses Time-table Generator (`nurse-rosters`) per write-up section `5.17`.
- If a selected step depends on shared Tier 10 wiring, implement only minimal shared wiring required.
- Do NOT auto-implement unselected sibling steps.

---
## Scope

Implement full functionality required for the selected Tier 10 step(s):

- Route + screen wiring under selected groups:
  - `(main)/billing/*`
  - `(main)/hr/*`
  - `(main)/housekeeping/*`
  - `(main)/reports`
  - `(main)/communications`
  - `(main)/subscriptions`
  - `(main)/integrations`
  - `(main)/compliance`
- Backend-aligned API integration for selected resources
- Loading, empty, error, offline, and success states
- Validation for required create/edit inputs
- List, detail, create, edit, and delete flows where backend supports them
- Action endpoints only where mounted (for example publish/cancel/reactivate/resolve/approve/implement)
- Navigation (Back / Cancel / Save / Continue) with no dead ends
- Parent-child continuity from selected Tier 10 main screens to selected sub-resources
- Prefill and relationship handling from trusted context:
  - `tenant_id`, `facility_id`, `patient_id`, `invoice_id`, `payment_id`, `coverage_plan_id`, `plan_id`, `subscription_id`, `module_id`, `staff_profile_id`, `department_id`, `unit_id`, `room_id`, `asset_id`, `user_id`, `integration_id`, `notification_id`, `template_id`
- Role-feature access control for logged-in users on all selected Tier 10 routes/actions
- Accessibility control for all selected Tier 10 actions and route states

Frontend integration requirements for alignment with the current codebase:
- Reuse existing feature modules under `src/features/<resource>/*` for selected resources.
- Existing Tier 10 feature modules are available for:
  - Billing: `invoice`, `invoice-item`, `payment`, `refund`, `pricing-rule`, `coverage-plan`, `insurance-claim`, `pre-authorization`, `billing-adjustment`
  - HR: `staff-profile`, `staff-assignment`, `staff-leave`, `shift`, `nurse-roster`, `payroll-run`, `payroll-item`, `shift-assignment`, `shift-swap-request`, `shift-template`, `roster-day-off`, `staff-availability`
  - Housekeeping: `housekeeping-task`, `housekeeping-schedule`, `maintenance-request`, `asset`, `asset-service-log`
  - Reports: `dashboard-widget`, `kpi-snapshot`, `analytics-event`, `report-definition`, `report-run`
  - Communications: `notification`, `notification-delivery`, `template`, `template-variable`, `conversation`, `message`
  - Subscriptions: `subscription-plan`, `subscription`, `subscription-invoice`, `module`, `module-subscription`, `license`
  - Integrations: `integration`, `integration-log`, `webhook-subscription`
  - Compliance: `audit-log`, `phi-access-log`, `data-processing-log`, `breach-notification`, `system-change-log`
- Existing shared hooks currently available in `src/hooks` for Tier 10 include:
  - `useNotification`, `useNotificationDelivery`, `useTemplate`, `useTemplateVariable`
  - `useSubscriptionPlan`, `useSubscription`, `useSubscriptionInvoice`, `useModule`, `useModuleSubscription`, `useLicense`
  - `useNurseRoster`, `useShiftTemplate`, `useRosterDayOff`, `useStaffAvailability`
- If a selected Tier 10 resource hook is missing, create a minimal `useCrud` wrapper hook for that selected resource and export it in `src/hooks/index.js`.
- Do not create broad new abstractions unless inevitable; prefer existing route/list/detail/create/edit patterns already used in the app.
- Avoid introducing a heavy custom tab system unless inevitable.
- Avoid extra task/automation scaffolding ("tas") unless inevitable.
- If selected Tier 10 route groups or side-menu entries are missing, add only minimal wiring required and follow existing app patterns.

Do NOT implement steps outside the selected Tier 10 step(s).

---
## Backend Reality Check (Mandatory)

- Treat `hms-backend/src/app/router.js` + listed Tier 10 module route files as source of truth.
- Use only mounted top-level resources for selected Tier 10 routes:
  - `/api/v1/invoices`
  - `/api/v1/invoice-items`
  - `/api/v1/payments`
  - `/api/v1/refunds`
  - `/api/v1/insurance-claims`
  - `/api/v1/pre-authorizations`
  - `/api/v1/billing-adjustments`
  - `/api/v1/staff-profiles`
  - `/api/v1/staff-assignments`
  - `/api/v1/staff-leaves`
  - `/api/v1/shifts`
  - `/api/v1/nurse-rosters`
  - `/api/v1/payroll-runs`
  - `/api/v1/payroll-items`
  - `/api/v1/housekeeping-tasks`
  - `/api/v1/housekeeping-schedules`
  - `/api/v1/maintenance-requests`
  - `/api/v1/assets`
  - `/api/v1/asset-service-logs`
  - `/api/v1/dashboard-widgets`
  - `/api/v1/kpi-snapshots`
  - `/api/v1/analytics-events`
  - `/api/v1/notifications`
  - `/api/v1/notification-deliveries`
  - `/api/v1/templates`
  - `/api/v1/template-variables`
  - `/api/v1/subscription-plans`
  - `/api/v1/subscriptions`
  - `/api/v1/subscription-invoices`
  - `/api/v1/modules`
  - `/api/v1/module-subscriptions`
  - `/api/v1/licenses`
  - `/api/v1/integrations`
  - `/api/v1/integration-logs`
  - `/api/v1/webhook-subscriptions`
  - `/api/v1/audit-logs`
  - `/api/v1/phi-access-logs`
  - `/api/v1/data-processing-logs`
  - `/api/v1/breach-notifications`
  - `/api/v1/system-change-logs`

Mounted Tier 10 route caveats:
- `/api/v1/integration-logs` is read-only (`GET` only).
- `/api/v1/audit-logs` is read-only (`GET` only) and also has:
  - `/api/v1/audit-logs/user/:userId`
  - `/api/v1/audit-logs/entity/:entity/:entityId`
- `/api/v1/shifts` supports action endpoint `POST /:id/publish`.
- `/api/v1/nurse-rosters` supports action endpoint `POST /:id/publish`.
- `/api/v1/subscriptions` supports action endpoints `POST /:id/cancel` and `POST /:id/reactivate`.
- `/api/v1/breach-notifications` supports action endpoint `POST /:id/resolve`.
- `/api/v1/system-change-logs` supports action endpoints `POST /:id/approve` and `POST /:id/implement`.
- `/api/v1/integration-logs` also supports `GET /integration/:integrationId`.

Tier 10 resources that currently exist but are not mounted in `router.js`:
- `/api/v1/pricing-rules`
- `/api/v1/coverage-plans`
- `/api/v1/report-definitions`
- `/api/v1/report-runs`
- `/api/v1/conversations`
- `/api/v1/messages`

Respect actual filter support:
- Invoices: `tenant_id`, `facility_id`, `patient_id`, `status`, `billing_status`, `search`
- Payments: `tenant_id`, `facility_id`, `patient_id`, `invoice_id`, `status`, `method`, `paid_at_from`, `paid_at_to`, `search`
- Refunds: `payment_id`, `refunded_at_from`, `refunded_at_to`, `search`
- Insurance claims: `coverage_plan_id`, `invoice_id`, `status`, `submitted_at_from`, `submitted_at_to`
- Pre-authorizations: `coverage_plan_id`, `status`, `requested_at_from`, `requested_at_to`, `approved_at_from`, `approved_at_to`
- Billing adjustments: `invoice_id`, `status`, `search`
- Staff profiles: `tenant_id`, `user_id`, `department_id`, `staff_number`, `position`, `search`
- Staff assignments: `staff_profile_id`, `department_id`, `unit_id`
- Staff leaves: `staff_profile_id`, `status`
- Shifts: `tenant_id`, `facility_id`, `shift_type`, `status`, `start_time_from`, `start_time_to`, `end_time_from`, `end_time_to`
- Nurse rosters: `tenant_id`, `facility_id`, `department_id`, `status`, `period_start_from`, `period_start_to`
- Payroll runs: `tenant_id`, `status`, `period_start_from`, `period_start_to`, `period_end_from`, `period_end_to`
- Housekeeping tasks: `facility_id`, `room_id`, `assigned_to_staff_id`, `status`
- Housekeeping schedules: `facility_id`, `room_id`, `frequency`
- Maintenance requests: `facility_id`, `asset_id`, `status`, `search`
- Assets: `tenant_id`, `facility_id`, `name`, `asset_tag`, `status`, `search`
- Asset service logs: `asset_id`, `search`
- Dashboard widgets: `tenant_id`, `name`, `search`
- KPI snapshots: `tenant_id`, `name`, `search`, `recorded_at_from`, `recorded_at_to`
- Analytics events: `tenant_id`, `user_id`, `event_name`, `search`, `occurred_at_from`, `occurred_at_to`
- Notifications: `tenant_id`, `user_id`, `notification_type`, `priority`, `is_read`
- Notification deliveries: `notification_id`, `channel`, `status`
- Templates: `tenant_id`, `name`, `channel`, `search`
- Template variables: `template_id`, `key`, `search`
- Subscription plans: `tenant_id`, `name`, `billing_cycle`, `search`
- Subscriptions: `tenant_id`, `plan_id`, `status`, `search`
- Subscription invoices: `subscription_id`, `invoice_id`
- Modules: `search`
- Module subscriptions: `module_id`, `subscription_id`, `is_active`
- Licenses: `tenant_id`, `license_type`, `status`
- Integrations: `tenant_id`, `integration_type`, `status`, `name`, `search`
- Integration logs: `integration_id`, `status`, `search`
- Webhook subscriptions: `tenant_id`, `integration_id`, `event`, `is_active`, `search`
- Audit logs: `tenant_id`, `user_id`, `action`, `entity`, `entity_id`, `ip_address`, `date_from`, `date_to`
- PHI access logs: `tenant_id`, `user_id`, `patient_id`, `access_scope`, `date_from`, `date_to`
- Data processing logs: `tenant_id`, `user_id`, `purpose`, `legal_basis`, `date_from`, `date_to`
- Breach notifications: `severity`, `status`, `from_date`, `to_date`
- System change logs: `user_id`, `change_type`, `from_date`, `to_date`

Status/enum constraints that must match backend schema:
- Invoice `status`: `DRAFT`, `SENT`, `PAID`, `OVERDUE`, `CANCELLED`
- Invoice `billing_status`: `DRAFT`, `ISSUED`, `PAID`, `PARTIAL`, `CANCELLED`
- Payment `status`: `PENDING`, `COMPLETED`, `FAILED`, `REFUNDED`
- Payment `method`: `CASH`, `CREDIT_CARD`, `DEBIT_CARD`, `PREPAID_CARD`, `GIFT_CARD`, `VOUCHER`, `BANK_CHECK`, `MOBILE_MONEY`, `BANK_TRANSFER`, `INSURANCE`, `OTHER`
- Insurance claim `status`: `SUBMITTED`, `APPROVED`, `REJECTED`, `PAID`, `CANCELLED`
- Pre-authorization `status`: `PENDING`, `APPROVED`, `DENIED`, `EXPIRED`
- Billing adjustment `status`: `DRAFT`, `ISSUED`, `PAID`, `PARTIAL`, `CANCELLED`
- Staff leave `status`: `REQUESTED`, `APPROVED`, `REJECTED`, `CANCELLED`
- Shift `shift_type`: `DAY`, `NIGHT`, `SWING`, `ON_CALL`
- Shift `status`: `SCHEDULED`, `COMPLETED`, `CANCELLED`
- Nurse roster `status`: `DRAFT`, `PUBLISHED`
- Payroll run `status`: `DRAFT`, `PROCESSED`, `PAID`, `CANCELLED`
- Housekeeping task `status`: `PENDING`, `IN_PROGRESS`, `COMPLETED`, `CANCELLED`
- Maintenance request and asset `status`: `OPEN`, `IN_PROGRESS`, `COMPLETED`, `CANCELLED`
- Notification `notification_type`: `SYSTEM`, `APPOINTMENT`, `BILLING`, `LAB`, `PHARMACY`
- Notification `priority`: `LOW`, `MEDIUM`, `HIGH`, `URGENT`
- Notification delivery/template `channel`: `EMAIL`, `SMS`, `PUSH`, `WHATSAPP`, `IN_APP`
- Subscription plan `billing_cycle`: `MONTHLY`, `QUARTERLY`, `YEARLY`
- Subscription `status`: `ACTIVE`, `PAST_DUE`, `CANCELLED`, `TRIAL`
- License `license_type`: `PER_USER`, `PER_FACILITY`, `ENTERPRISE`
- License `status`: `ACTIVE`, `PAST_DUE`, `CANCELLED`, `TRIAL`
- Integration `integration_type`: `HL7`, `FHIR`, `LAB`, `RADIOLOGY`, `BILLING`, `OTHER`
- Integration and integration log `status`: `ACTIVE`, `INACTIVE`, `ERROR`
- Audit log `action`: `CREATE`, `UPDATE`, `DELETE`, `ACCESS`, `EXPORT`, `LOGIN`, `LOGOUT`
- PHI access log `access_scope`: `TENANT`, `FACILITY`, `DEPARTMENT`, `PATIENT`
- Data processing log `purpose`: `TREATMENT`, `BILLING`, `OPERATIONS`, `RESEARCH`, `MARKETING`
- Data processing log `legal_basis`: `CONSENT`, `CONTRACT`, `LEGAL_OBLIGATION`, `VITAL_INTERESTS`, `PUBLIC_INTEREST`, `LEGITIMATE_INTERESTS`
- Breach notification `severity`: `LOW`, `MEDIUM`, `HIGH`, `CRITICAL`
- Breach notification `status`: `OPEN`, `INVESTIGATING`, `RESOLVED`, `REPORTED`

Non-enum notes:
- `pricing-rules`, `coverage-plans`, `report-definitions`, `report-runs`, `conversations`, and `messages` are not mounted by `router.js`.
- `integration-logs` and `audit-logs` are read-only in the current routes.
- `notifications.is_read` filter is boolean-like (`'true'|'false'` transformed server-side).
- `module-subscriptions.is_active` filter is boolean-like (`'true'|'false'`).
- `webhook-subscriptions.is_active` filter is boolean-like (`'true'|'false'` transformed server-side).
- `payroll-runs` period filters use date coercion in backend schema.

Do not call frontend endpoint constants that are not mounted by backend routes.
Do not invent nested shortcut endpoints such as:
- `/api/v1/billing/invoices`
- `/api/v1/billing/:invoiceId/payments`
- `/api/v1/hr/staff`
- `/api/v1/hr/nurse-timetable`
- `/api/v1/housekeeping/assets/:id/service-logs`
- `/api/v1/reports/definitions`
- `/api/v1/communications/messages`
- `/api/v1/subscriptions/:id/licenses`
- `/api/v1/integrations/:id/logs`
- `/api/v1/compliance/audit`

Out-of-scope mounted dependency resources unless explicitly required by selected step context:
- `/api/v1/invoice-items`
- `/api/v1/payroll-items`
- `/api/v1/shift-assignments`
- `/api/v1/shift-swap-requests`
- `/api/v1/shift-templates`
- `/api/v1/roster-day-offs`
- `/api/v1/staff-availabilities`

If backend support does not exist for a selected write action, provide read-only/informational UX and block unsupported writes.

---

## Backend Change Policy (Mandatory)

- Modify backend only when strictly required for selected Tier 10 step(s).
- Any backend modification must follow `hms-backend/.cursor/rules/*`.
- Preserve backend architecture and conventions (versioned routing, module structure, validation, response format, auth/security, tests).
- Do not introduce ad-hoc backend behavior that bypasses established module patterns.

---

## Access Control (Mandatory)

- Enforce access using existing auth/session and role-feature hooks/utilities/patterns already used in the app.
- Use one source of truth per selected module for auth/session + role-feature access.
- Apply access checks to both:
  - UI actions (view/create/edit/delete/retry and action endpoints where applicable)
  - Route navigation (including direct deep links to selected Tier 10 routes)
- Never rely on UI hiding alone; route-level protection must prevent unauthorized access.
- Block unauthorized data actions before API calls and handle backend `401/403` responses with clear feedback.
- For unauthorized routes, redirect to nearest allowed main route and preserve safe navigation.

---

## Navigation + Routing Accessibility (Mandatory)

- Use semantic links for navigation and semantic buttons for actions; no clickable non-semantic containers.
- Ensure current location is perceivable via visible and accessible state.
- For visible-but-blocked actions, use `aria-disabled="true"` on web, prevent execution, and provide an accessible reason.
- Ensure keyboard navigation order, focus visibility, and focus restoration after submit/redirect/error.
- Provide screen-reader friendly feedback for loading, errors, denied actions, and successful actions.

---

## Layout Rules (Strict)

- Reuse existing Main Layout and route-group layout patterns for selected Tier 10 groups.
- If selected route groups are missing (`billing`, `hr`, `housekeeping`, `reports`, `communications`, `subscriptions`, `integrations`, `compliance`), create only minimal required group/layout wiring using existing composition patterns.
- No layout redesign.
- No nested scroll containers.
- No nested sidebars.
- Match current main/settings/dashboard/patients/scheduling/clinical screens visually and structurally.

---
## UI / UX Rules

- Clean, compact, modern UI.
- Fully responsive (mobile, tablet, desktop, web, iOS, Android).
- Clear action hierarchy.
- Human-friendly copy via i18n keys only.
- No duplicate UI.
- No oversized elements.
- No dead-end navigation.

Buttons:
- Use existing module button styles.
- Compact and consistent.

Forms:
- Clear labels and helpful placeholders.
- Inline validation messages.
- Required fields clearly indicated.
- Logical field order.
- Disable invalid submit actions while preserving accessible reason text.
- Enforce safe date-time ordering where required by backend contract, including:
  - `paid_at_from <= paid_at_to`
  - `refunded_at_from <= refunded_at_to`
  - `submitted_at_from <= submitted_at_to`
  - `requested_at_from <= requested_at_to`
  - `approved_at_from <= approved_at_to`
  - `start_time_from <= start_time_to`
  - `end_time_from <= end_time_to`
  - `period_start_from <= period_start_to`
  - `period_end_from <= period_end_to`
  - `recorded_at_from <= recorded_at_to`
  - `occurred_at_from <= occurred_at_to`
  - `date_from <= date_to`
  - `from_date <= to_date`

Tier 10 flow UX:
- Selected Tier 10 flow(s) must be self-directed for first-time billing/HR/ops/admin users without a manual.
- Keep primary actions obvious and reduce cognitive load.
- Preserve write-up alignment for nurses timetable behavior (section `5.17`) when implementing `11.10.4.5`.
- Minimize required data entry to backend-required fields only.
- Preserve selected context while navigating between selected sub-resources.

---

## Security by Design (Mandatory)

- Apply secure-by-default behavior across selected Tier 10 screens/actions.
- Collect only data required for the selected step; do not request unnecessary sensitive data.
- Never expose secrets/tokens/PII in logs, analytics, or UI debug text.
- Prevent duplicate/replay-like submissions with pending/disabled action states.
- Validate and sanitize all route/query params before use:
  - `id`, `tenant_id`, `facility_id`, `patient_id`, `invoice_id`, `payment_id`, `coverage_plan_id`, `plan_id`, `subscription_id`, `module_id`, `staff_profile_id`, `department_id`, `unit_id`, `room_id`, `asset_id`, `user_id`, `integration_id`, `notification_id`, `template_id`, pagination/filter values
- Use existing secure auth/session storage and request utilities.
- Enforce route/action guards before API calls, not only via UI visibility.
- For blocked/unauthorized states, show clear non-technical feedback without leaking sensitive details.

---

## Reliability

- Handle API/network errors gracefully.
- Human-readable, actionable error messages.
- Clear success/failure feedback for every supported action.
- Disable duplicate submissions while pending.
- Preserve user state where possible (filters, selected context, pagination).
- Ensure all enabled actions are fully wired to backend endpoints/contracts (no placeholders).
- Keep behavior robust but simple: prefer existing hooks/components/patterns over new abstractions.
- Use existing query/mutation patterns with proper loading, retry, cancellation, and stale-response safety.

---
## Backend Linkage (Mandatory)

Every implemented feature/action must call real backend endpoints for the selected Tier 10 step(s):

- `11.10.1` Billing (main) (`(main)/billing`)
  - At minimum: `GET /api/v1/invoices`
  - If showing summary cards, use mounted billing endpoints (`payments`, `refunds`, `insurance-claims`, `pre-authorizations`, `billing-adjustments`) with valid filters
  - Do not invent aggregate dashboard endpoints

- `11.10.2.1` Invoice (`(main)/billing/invoices`)
  - `GET /api/v1/invoices`
  - `GET /api/v1/invoices/:id`
  - `POST /api/v1/invoices`
  - `PUT /api/v1/invoices/:id`
  - `DELETE /api/v1/invoices/:id`

- `11.10.2.2` Payment (`(main)/billing/payments`)
  - `GET /api/v1/payments`
  - `GET /api/v1/payments/:id`
  - `POST /api/v1/payments`
  - `PUT /api/v1/payments/:id`
  - `DELETE /api/v1/payments/:id`

- `11.10.2.3` Refund (`(main)/billing/refunds`)
  - `GET /api/v1/refunds`
  - `GET /api/v1/refunds/:id`
  - `POST /api/v1/refunds`
  - `PUT /api/v1/refunds/:id`
  - `DELETE /api/v1/refunds/:id`

- `11.10.2.4` Pricing (`(main)/billing/pricing-rules`)
  - Backend route is currently not mounted in `router.js`
  - If backend is unchanged: implement read-only/informational UX and block writes
  - If selected backend work mounts this resource, then use:
    - `GET /api/v1/pricing-rules`
    - `GET /api/v1/pricing-rules/:id`
    - `POST /api/v1/pricing-rules`
    - `PUT /api/v1/pricing-rules/:id`
    - `DELETE /api/v1/pricing-rules/:id`

- `11.10.2.5` Coverage (`(main)/billing/coverage-plans`)
  - Backend route is currently not mounted in `router.js`
  - If backend is unchanged: implement read-only/informational UX and block writes
  - If selected backend work mounts this resource, then use:
    - `GET /api/v1/coverage-plans`
    - `GET /api/v1/coverage-plans/:id`
    - `POST /api/v1/coverage-plans`
    - `PUT /api/v1/coverage-plans/:id`
    - `DELETE /api/v1/coverage-plans/:id`

- `11.10.2.6` Claim (`(main)/billing/insurance-claims`)
  - `GET /api/v1/insurance-claims`
  - `GET /api/v1/insurance-claims/:id`
  - `POST /api/v1/insurance-claims`
  - `PUT /api/v1/insurance-claims/:id`
  - `DELETE /api/v1/insurance-claims/:id`

- `11.10.2.7` Pre-auth (`(main)/billing/pre-authorizations`)
  - `GET /api/v1/pre-authorizations`
  - `GET /api/v1/pre-authorizations/:id`
  - `POST /api/v1/pre-authorizations`
  - `PUT /api/v1/pre-authorizations/:id`
  - `DELETE /api/v1/pre-authorizations/:id`

- `11.10.2.8` Adjustment (`(main)/billing/billing-adjustments`)
  - `GET /api/v1/billing-adjustments`
  - `GET /api/v1/billing-adjustments/:id`
  - `POST /api/v1/billing-adjustments`
  - `PUT /api/v1/billing-adjustments/:id`
  - `DELETE /api/v1/billing-adjustments/:id`

- `11.10.3` HR (main) (`(main)/hr`)
  - At minimum: `GET /api/v1/staff-profiles`
  - For summary cards, use mounted HR endpoints (`staff-assignments`, `staff-leaves`, `shifts`, `nurse-rosters`, `payroll-runs`) with valid filters

- `11.10.4.1` Staff (`(main)/hr/staff-profiles`)
  - `GET /api/v1/staff-profiles`
  - `GET /api/v1/staff-profiles/:id`
  - `POST /api/v1/staff-profiles`
  - `PUT /api/v1/staff-profiles/:id`
  - `DELETE /api/v1/staff-profiles/:id`

- `11.10.4.2` Assignment (`(main)/hr/staff-assignments`)
  - `GET /api/v1/staff-assignments`
  - `GET /api/v1/staff-assignments/:id`
  - `POST /api/v1/staff-assignments`
  - `PUT /api/v1/staff-assignments/:id`
  - `DELETE /api/v1/staff-assignments/:id`

- `11.10.4.3` Leave (`(main)/hr/staff-leaves`)
  - `GET /api/v1/staff-leaves`
  - `GET /api/v1/staff-leaves/:id`
  - `POST /api/v1/staff-leaves`
  - `PUT /api/v1/staff-leaves/:id`
  - `DELETE /api/v1/staff-leaves/:id`

- `11.10.4.4` Shift (`(main)/hr/shifts`)
  - `GET /api/v1/shifts`
  - `GET /api/v1/shifts/:id`
  - `POST /api/v1/shifts`
  - `PUT /api/v1/shifts/:id`
  - `DELETE /api/v1/shifts/:id`
  - Optional selected action: `POST /api/v1/shifts/:id/publish`

- `11.10.4.5` Nurse Timetable (`(main)/hr/nurse-rosters`)
  - `GET /api/v1/nurse-rosters`
  - `GET /api/v1/nurse-rosters/:id`
  - `POST /api/v1/nurse-rosters`
  - `PUT /api/v1/nurse-rosters/:id`
  - `DELETE /api/v1/nurse-rosters/:id`
  - Optional selected action: `POST /api/v1/nurse-rosters/:id/publish`

- `11.10.4.6` Payroll (`(main)/hr/payroll-runs`)
  - `GET /api/v1/payroll-runs`
  - `GET /api/v1/payroll-runs/:id`
  - `POST /api/v1/payroll-runs`
  - `PUT /api/v1/payroll-runs/:id`
  - `DELETE /api/v1/payroll-runs/:id`
  - Use `/api/v1/payroll-items` only if selected flow explicitly requires it

- `11.10.5` Housekeeping (main) (`(main)/housekeeping`)
  - At minimum: `GET /api/v1/housekeeping-tasks`
  - For summary cards, use mounted housekeeping endpoints (`housekeeping-schedules`, `maintenance-requests`, `assets`, `asset-service-logs`) with valid filters

- `11.10.6.1` Task (`(main)/housekeeping/housekeeping-tasks`)
  - `GET /api/v1/housekeeping-tasks`
  - `GET /api/v1/housekeeping-tasks/:id`
  - `POST /api/v1/housekeeping-tasks`
  - `PUT /api/v1/housekeeping-tasks/:id`
  - `DELETE /api/v1/housekeeping-tasks/:id`

- `11.10.6.2` Schedule (`(main)/housekeeping/housekeeping-schedules`)
  - `GET /api/v1/housekeeping-schedules`
  - `GET /api/v1/housekeeping-schedules/:id`
  - `POST /api/v1/housekeeping-schedules`
  - `PUT /api/v1/housekeeping-schedules/:id`
  - `DELETE /api/v1/housekeeping-schedules/:id`

- `11.10.6.3` Maintenance (`(main)/housekeeping/maintenance-requests`)
  - `GET /api/v1/maintenance-requests`
  - `GET /api/v1/maintenance-requests/:id`
  - `POST /api/v1/maintenance-requests`
  - `PUT /api/v1/maintenance-requests/:id`
  - `DELETE /api/v1/maintenance-requests/:id`

- `11.10.6.4` Asset (`(main)/housekeeping/assets`)
  - `GET /api/v1/assets`
  - `GET /api/v1/assets/:id`
  - `POST /api/v1/assets`
  - `PUT /api/v1/assets/:id`
  - `DELETE /api/v1/assets/:id`

- `11.10.6.5` Service Log (`(main)/housekeeping/asset-service-logs`)
  - `GET /api/v1/asset-service-logs`
  - `GET /api/v1/asset-service-logs/:id`
  - `POST /api/v1/asset-service-logs`
  - `PUT /api/v1/asset-service-logs/:id`
  - `DELETE /api/v1/asset-service-logs/:id`

- `11.10.7` Reports (main) (`(main)/reports`)
  - At minimum: `GET /api/v1/dashboard-widgets`
  - For report/analytics views, use mounted endpoints: `kpi-snapshots`, `analytics-events`
  - Do not call unmounted report endpoints (`report-definitions`, `report-runs`) unless selected backend work mounts them

- `11.10.8` Communications (main) (`(main)/communications`)
  - At minimum: `GET /api/v1/notifications`
  - For communications workflows use mounted endpoints: `notification-deliveries`, `templates`, `template-variables`
  - Do not call unmounted conversation/message endpoints unless selected backend work mounts them

- `11.10.9` Subscriptions (main) (`(main)/subscriptions`)
  - At minimum: `GET /api/v1/subscriptions`
  - Use mounted subscription endpoints as required: `subscription-plans`, `subscription-invoices`, `modules`, `module-subscriptions`, `licenses`
  - Optional selected actions: `POST /api/v1/subscriptions/:id/cancel`, `POST /api/v1/subscriptions/:id/reactivate`

- `11.10.10` Integrations (main) (`(main)/integrations`)
  - At minimum: `GET /api/v1/integrations`
  - Use mounted endpoints as required: `integration-logs` (read-only), `webhook-subscriptions`
  - If needed, use `GET /api/v1/integration-logs/integration/:integrationId`

- `11.10.11` Compliance (main) (`(main)/compliance`)
  - At minimum: `GET /api/v1/audit-logs`
  - Use mounted compliance endpoints as required: `phi-access-logs`, `data-processing-logs`, `breach-notifications`, `system-change-logs`
  - Optional selected actions:
    - `POST /api/v1/breach-notifications/:id/resolve`
    - `POST /api/v1/system-change-logs/:id/approve`
    - `POST /api/v1/system-change-logs/:id/implement`

Keep request/response fields strictly aligned with backend schema/validation rules.
Do not ship mock data, fake success states, or disconnected UI actions.
If backend intentionally lacks support for an action, expose read-only/informational UX and block unsupported writes.

All operations MUST match backend schema and endpoint behavior exactly.

---

## Constraints

Do NOT:

- Modify Tier 1, Tier 2, Tier 3, Tier 4, Tier 5, Tier 6, Tier 7, Tier 8, Tier 9, or Tier 11 screens/flows unless required by selected Tier 10 step(s)
- Change layout or routing architecture outside required Tier 10 route wiring
- Add global components or new platform patterns
- Invent backend fields, endpoints, or behaviors
- Implement screens outside selected Tier 10 step(s)

---

## Acceptance Criteria

- 100% rules compliance
- Existing layout patterns reused
- Backend-aligned functionality for selected Tier 10 step(s)
- Responsive UI with clear validation and feedback
- No nested scroll
- Screen(s) work independently and integrate with current main navigation
- Access control is enforced for actions and routes (including deep links)
- Accessibility is preserved for all states, including unauthorized/disabled states
- Selected Tier 10 flow can be completed without a manual
- Selected Tier 10 flow remains secure by default (no data leakage, no insecure shortcuts)
- All applicable features/actions are fully functional and backend-linked
- Unauthorized users cannot execute restricted actions via URL, keyboard, or direct API-triggering UI paths

---

## Deliverables

Return ONLY:

1. Screen/Page component(s) for selected Tier 10 step(s)
2. Form component(s) (if applicable)
3. API integration hook usage/updates (if applicable)
4. Validation logic (if applicable)
5. State handling logic
6. Loading + empty + error + offline UI
7. Success/failure feedback implementation
8. Navigation handlers
9. Backend contract alignment confirmation
10. Access control implementation confirmation (actions + routes)
11. Accessibility control confirmation for all states
12. Route-guard + navigation accessibility confirmation (keyboard/focus/blocked actions)
13. Action-to-backend linkage confirmation for all enabled features in selected screen(s)
14. Explicit note for any selected action intentionally read-only due to missing backend support

Do NOT include files or logic outside selected Tier 10 screen(s).

