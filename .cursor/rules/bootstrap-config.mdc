---
alwaysApply: true
---

# Bootstrap & Configuration Standards

## Purpose
Define startup orchestration and global provider placement.
This file is the owner for initialization order and provider mounting.

## Bootstrap Ownership
Bootstrap owns:
- Startup sequencing
- Provider composition
- Fatal startup handling

Bootstrap must not own:
- Feature domain logic
- UI rendering logic beyond provider composition
- Navigation policy rules

## Folder Structure
```txt
src/bootstrap/
  index.js
  init.security.js
  init.store.js
  init.theme.js
  init.offline.js
```

## Entry Rules
- Export a single async `bootstrapApp()` function.
- `bootstrapApp()` must be deterministic and idempotent.
- Startup failures must be logged; fatal failures block normal render.

## Mandatory Startup Order
1. Security init
2. Store init
3. Theme init
4. Offline init
5. App Router render

## Provider Placement
Global providers are mounted only in `src/app/_layout.jsx`.
Canonical global providers:
- Redux provider
- Theme provider
- Localization provider
- Global error boundary
- Feature flag provider (if used)

Do not mount competing global providers inside screens/components.

## Configuration Rules
- Runtime config reads go through `src/config/`.
- Config modules must be side-effect free.
- Do not treat client environment variables as secrets.

## Related Owners
- Routing/layout rules: `app-router.mdc`
- Theme rules: `theme-design.mdc`
- State rules: `state-management.mdc`
- Security startup requirements: `security.mdc`
- Error boundary behavior: `errors-logging.mdc`
