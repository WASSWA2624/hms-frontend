---
alwaysApply: true
---

# Performance & Efficiency Standards

## Purpose
Set mandatory performance expectations for rendering, networking, memory, and startup behavior.

## Core Runtime Rules
- Prevent avoidable re-renders (memoization, stable props/callbacks/selectors).
- Use virtualization for large lists.
- Prefer incremental loading over full upfront payloads.
- Keep expensive work out of render paths and main-thread critical phases.

## Asset and Bundle Rules
- Keep initial bundle lean; lazy-load heavy routes/features where feasible.
- Optimize image formats/sizes for target platform and viewport.
- Remove unused dependencies and code paths.

## Networking Rules
- Deduplicate repeat requests where practical.
- Use caching/pagination for large or repeated data flows.
- Route mutation reliability through offline queue policy when needed.

## Memory and Lifecycle Rules
- Clean up subscriptions/timers/listeners.
- Avoid stale closures and long-lived retained objects.
- Validate behavior on lower-end devices.

## Motion and Responsiveness
- Respect reduced-motion preferences.
- Keep interactions smooth and avoid animation-heavy default paths.
- Prefer responsive layout strategies from theme/breakpoint owners.

## Performance Budgets
- Initial load target: under 3s on constrained network/device conditions.
- Time to interactive target: under 5s.
- Critical API latency target: under 500ms for key user flows (where backend allows).

## Profiling and Enforcement
- Measure before/after for high-impact changes.
- Profile on real devices in addition to simulators.
- Performance regressions require explicit mitigation before merge.

## Related Owners
- Structure and boundaries: `project-structure.mdc`
- Styling/breakpoints: `theme-design.mdc`
- Offline runtime behavior: `offline-sync.mdc`
- Testing/perf validation: `testing.mdc`