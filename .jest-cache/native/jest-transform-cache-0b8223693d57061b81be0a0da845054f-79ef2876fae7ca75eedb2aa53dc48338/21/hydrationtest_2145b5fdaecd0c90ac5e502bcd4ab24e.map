{"version":3,"names":["_getJestObj","mock","getQueue","jest","fn","handleError","_interopRequireDefault","require","default","_asyncToGenerator2","_errors","_queue","_hydration","_require","describe","beforeEach","clearAllMocks","it","queue","id","url","mockResolvedValue","result","hydrate","expect","toEqual","toHaveBeenCalled","not","resolves","mockRejectedValue","Error"],"sources":["hydration.test.js"],"sourcesContent":["/**\r\n * Hydration Tests\r\n * File: hydration.test.js\r\n */\r\nimport { handleError } from '@errors';\r\nimport { getQueue } from '@offline/queue';\r\nimport { hydrate } from '@offline/hydration';\r\n\r\njest.mock('@offline/queue', () => ({\r\n  getQueue: jest.fn(),\r\n}));\r\n\r\njest.mock('@errors', () => ({\r\n  handleError: jest.fn(),\r\n}));\r\n\r\ndescribe('Hydration', () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n  });\r\n\r\n  describe('hydrate', () => {\r\n    it('hydrates queue from storage', async () => {\r\n      const queue = [\r\n        { id: '1', url: '/api/test1' },\r\n        { id: '2', url: '/api/test2' },\r\n      ];\r\n      getQueue.mockResolvedValue(queue);\r\n\r\n      const result = await hydrate();\r\n\r\n      expect(result).toEqual({ queue });\r\n      expect(getQueue).toHaveBeenCalled();\r\n      expect(handleError).not.toHaveBeenCalled();\r\n    });\r\n\r\n    it('returns empty queue when no items exist', async () => {\r\n      getQueue.mockResolvedValue([]);\r\n      await expect(hydrate()).resolves.toEqual({ queue: [] });\r\n    });\r\n\r\n    it('handles errors gracefully (returns empty queue + reports)', async () => {\r\n      getQueue.mockRejectedValue(new Error('Storage error'));\r\n\r\n      const result = await hydrate();\r\n\r\n      expect(result).toEqual({ queue: [] });\r\n      expect(handleError).toHaveBeenCalled();\r\n    });\r\n  });\r\n});\r\n\r\n"],"mappings":"AAQAA,WAAA,GAAKC,IAAI,wBAAmB;EAAA,OAAO;IACjCC,QAAQ,EAAEC,IAAI,CAACC,EAAE,CAAC;EACpB,CAAC;AAAA,CAAC,CAAC;AAEHJ,WAAA,GAAKC,IAAI,iBAAY;EAAA,OAAO;IAC1BI,WAAW,EAAEF,IAAI,CAACC,EAAE,CAAC;EACvB,CAAC;AAAA,CAAC,CAAC;AAAC,IAAAE,sBAAA,GAAAC,OAAA,iDAAAC,OAAA;AAAA,IAAAC,kBAAA,GAAAH,sBAAA,CAAAC,OAAA;AAVJ,IAAAG,OAAA,GAAAH,OAAA;AACA,IAAAI,MAAA,GAAAJ,OAAA;AACA,IAAAK,UAAA,GAAAL,OAAA;AAA6C,SAAAP,YAAA;EAAA,IAAAa,QAAA,GAAAN,OAAA;IAAAJ,IAAA,GAAAU,QAAA,CAAAV,IAAA;EAAAH,WAAA,YAAAA,YAAA;IAAA,OAAAG,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAU7CW,QAAQ,CAAC,WAAW,EAAE,YAAM;EAC1BC,UAAU,CAAC,YAAM;IACfZ,IAAI,CAACa,aAAa,CAAC,CAAC;EACtB,CAAC,CAAC;EAEFF,QAAQ,CAAC,SAAS,EAAE,YAAM;IACxBG,EAAE,CAAC,6BAA6B,MAAAR,kBAAA,CAAAD,OAAA,EAAE,aAAY;MAC5C,IAAMU,KAAK,GAAG,CACZ;QAAEC,EAAE,EAAE,GAAG;QAAEC,GAAG,EAAE;MAAa,CAAC,EAC9B;QAAED,EAAE,EAAE,GAAG;QAAEC,GAAG,EAAE;MAAa,CAAC,CAC/B;MACDlB,eAAQ,CAACmB,iBAAiB,CAACH,KAAK,CAAC;MAEjC,IAAMI,MAAM,SAAS,IAAAC,kBAAO,EAAC,CAAC;MAE9BC,MAAM,CAACF,MAAM,CAAC,CAACG,OAAO,CAAC;QAAEP,KAAK,EAALA;MAAM,CAAC,CAAC;MACjCM,MAAM,CAACtB,eAAQ,CAAC,CAACwB,gBAAgB,CAAC,CAAC;MACnCF,MAAM,CAACnB,mBAAW,CAAC,CAACsB,GAAG,CAACD,gBAAgB,CAAC,CAAC;IAC5C,CAAC,EAAC;IAEFT,EAAE,CAAC,yCAAyC,MAAAR,kBAAA,CAAAD,OAAA,EAAE,aAAY;MACxDN,eAAQ,CAACmB,iBAAiB,CAAC,EAAE,CAAC;MAC9B,MAAMG,MAAM,CAAC,IAAAD,kBAAO,EAAC,CAAC,CAAC,CAACK,QAAQ,CAACH,OAAO,CAAC;QAAEP,KAAK,EAAE;MAAG,CAAC,CAAC;IACzD,CAAC,EAAC;IAEFD,EAAE,CAAC,2DAA2D,MAAAR,kBAAA,CAAAD,OAAA,EAAE,aAAY;MAC1EN,eAAQ,CAAC2B,iBAAiB,CAAC,IAAIC,KAAK,CAAC,eAAe,CAAC,CAAC;MAEtD,IAAMR,MAAM,SAAS,IAAAC,kBAAO,EAAC,CAAC;MAE9BC,MAAM,CAACF,MAAM,CAAC,CAACG,OAAO,CAAC;QAAEP,KAAK,EAAE;MAAG,CAAC,CAAC;MACrCM,MAAM,CAACnB,mBAAW,CAAC,CAACqB,gBAAgB,CAAC,CAAC;IACxC,CAAC,EAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}