{"version":3,"names":["_getJestObj","mock","apiClient","jest","fn","createCrudApi","list","get","create","update","remove","_interopRequireDefault","require","default","_asyncToGenerator2","_endpoints","_api","_userMfa","_require","describe","it","expect","toHaveBeenCalledWith","endpoints","USER_MFAS","userMfaApi","toBeDefined","mockResolvedValue","data","id","verifyUserMfaApi","code","enableUserMfaApi","enabled","disableUserMfaApi","url","VERIFY","method","body","ENABLE","DISABLE"],"sources":["user-mfa.api.test.js"],"sourcesContent":["/**\r\n * User MFA API Tests\r\n * File: user-mfa.api.test.js\r\n */\r\nimport { endpoints } from '@config/endpoints';\r\nimport { apiClient, createCrudApi } from '@services/api';\r\nimport { userMfaApi, verifyUserMfaApi, enableUserMfaApi, disableUserMfaApi } from '@features/user-mfa/user-mfa.api';\r\n\r\njest.mock('@services/api', () => ({\r\n  apiClient: jest.fn(),\r\n  createCrudApi: jest.fn(() => ({\r\n    list: jest.fn(),\r\n    get: jest.fn(),\r\n    create: jest.fn(),\r\n    update: jest.fn(),\r\n    remove: jest.fn(),\r\n  })),\r\n}));\r\n\r\ndescribe('user-mfa.api', () => {\r\n  it('creates crud api with user mfa endpoints', () => {\r\n    expect(createCrudApi).toHaveBeenCalledWith(endpoints.USER_MFAS);\r\n    expect(userMfaApi).toBeDefined();\r\n  });\r\n\r\n  it('posts mfa verify/enable/disable', async () => {\r\n    apiClient.mockResolvedValue({ data: { id: '1' } });\r\n    await verifyUserMfaApi('1', { code: '123456' });\r\n    await enableUserMfaApi('1', { enabled: true });\r\n    await disableUserMfaApi('1', { enabled: false });\r\n\r\n    expect(apiClient).toHaveBeenCalledWith({\r\n      url: endpoints.USER_MFAS.VERIFY('1'),\r\n      method: 'POST',\r\n      body: { code: '123456' },\r\n    });\r\n    expect(apiClient).toHaveBeenCalledWith({\r\n      url: endpoints.USER_MFAS.ENABLE('1'),\r\n      method: 'POST',\r\n      body: { enabled: true },\r\n    });\r\n    expect(apiClient).toHaveBeenCalledWith({\r\n      url: endpoints.USER_MFAS.DISABLE('1'),\r\n      method: 'POST',\r\n      body: { enabled: false },\r\n    });\r\n  });\r\n});\r\n"],"mappings":"AAQAA,WAAA,GAAKC,IAAI,0BAAkB;EAAA,OAAO;IAChCC,SAAS,EAAEC,IAAI,CAACC,EAAE,CAAC,CAAC;IACpBC,aAAa,EAAEF,IAAI,CAACC,EAAE,CAAC;MAAA,OAAO;QAC5BE,IAAI,EAAEH,IAAI,CAACC,EAAE,CAAC,CAAC;QACfG,GAAG,EAAEJ,IAAI,CAACC,EAAE,CAAC,CAAC;QACdI,MAAM,EAAEL,IAAI,CAACC,EAAE,CAAC,CAAC;QACjBK,MAAM,EAAEN,IAAI,CAACC,EAAE,CAAC,CAAC;QACjBM,MAAM,EAAEP,IAAI,CAACC,EAAE,CAAC;MAClB,CAAC;IAAA,CAAC;EACJ,CAAC;AAAA,CAAC,CAAC;AAAC,IAAAO,sBAAA,GAAAC,OAAA,iDAAAC,OAAA;AAAA,IAAAC,kBAAA,GAAAH,sBAAA,CAAAC,OAAA;AAbJ,IAAAG,UAAA,GAAAH,OAAA;AACA,IAAAI,IAAA,GAAAJ,OAAA;AACA,IAAAK,QAAA,GAAAL,OAAA;AAAoH,SAAAZ,YAAA;EAAA,IAAAkB,QAAA,GAAAN,OAAA;IAAAT,IAAA,GAAAe,QAAA,CAAAf,IAAA;EAAAH,WAAA,YAAAA,YAAA;IAAA,OAAAG,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAapHgB,QAAQ,CAAC,cAAc,EAAE,YAAM;EAC7BC,EAAE,CAAC,0CAA0C,EAAE,YAAM;IACnDC,MAAM,CAAChB,kBAAa,CAAC,CAACiB,oBAAoB,CAACC,oBAAS,CAACC,SAAS,CAAC;IAC/DH,MAAM,CAACI,mBAAU,CAAC,CAACC,WAAW,CAAC,CAAC;EAClC,CAAC,CAAC;EAEFN,EAAE,CAAC,iCAAiC,MAAAN,kBAAA,CAAAD,OAAA,EAAE,aAAY;IAChDX,cAAS,CAACyB,iBAAiB,CAAC;MAAEC,IAAI,EAAE;QAAEC,EAAE,EAAE;MAAI;IAAE,CAAC,CAAC;IAClD,MAAM,IAAAC,yBAAgB,EAAC,GAAG,EAAE;MAAEC,IAAI,EAAE;IAAS,CAAC,CAAC;IAC/C,MAAM,IAAAC,yBAAgB,EAAC,GAAG,EAAE;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAC9C,MAAM,IAAAC,0BAAiB,EAAC,GAAG,EAAE;MAAED,OAAO,EAAE;IAAM,CAAC,CAAC;IAEhDZ,MAAM,CAACnB,cAAS,CAAC,CAACoB,oBAAoB,CAAC;MACrCa,GAAG,EAAEZ,oBAAS,CAACC,SAAS,CAACY,MAAM,CAAC,GAAG,CAAC;MACpCC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAE;QAAEP,IAAI,EAAE;MAAS;IACzB,CAAC,CAAC;IACFV,MAAM,CAACnB,cAAS,CAAC,CAACoB,oBAAoB,CAAC;MACrCa,GAAG,EAAEZ,oBAAS,CAACC,SAAS,CAACe,MAAM,CAAC,GAAG,CAAC;MACpCF,MAAM,EAAE,MAAM;MACdC,IAAI,EAAE;QAAEL,OAAO,EAAE;MAAK;IACxB,CAAC,CAAC;IACFZ,MAAM,CAACnB,cAAS,CAAC,CAACoB,oBAAoB,CAAC;MACrCa,GAAG,EAAEZ,oBAAS,CAACC,SAAS,CAACgB,OAAO,CAAC,GAAG,CAAC;MACrCH,MAAM,EAAE,MAAM;MACdC,IAAI,EAAE;QAAEL,OAAO,EAAE;MAAM;IACzB,CAAC,CAAC;EACJ,CAAC,EAAC;AACJ,CAAC,CAAC","ignoreList":[]}