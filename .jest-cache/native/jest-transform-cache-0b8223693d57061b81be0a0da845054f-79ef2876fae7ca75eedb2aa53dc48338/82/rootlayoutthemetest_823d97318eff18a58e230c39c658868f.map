{"version":3,"names":["_getJestObj","mock","React","require","_require","View","Text","Slot","result","mockSlotRenderer","createElement","useRouter","push","jest","fn","replace","back","_require2","configureStore","rootReducer","default","store","reducer","preloadedState","ui","theme","locale","isLoading","network","isOnline","mockPersistor","purge","pause","persist","flush","persistor","virtual","PersistGate","_ref","children","loading","Fragment","_require3","useSelector","_require4","ThemeProvider","lightTheme","darkTheme","getTheme","mode","arguments","length","undefined","ThemeProviderWrapper","_ref2","themeMode","state","_state$ui","__esModule","_require5","ActivityIndicator","StyledLoadingContainer","_ref3","testID","StyledActivityIndicator","props","StyledSlotContainer","_ref4","selectTheme","_state$ui2","logger","error","info","warn","debug","ErrorBoundary","_ref5","I18nProvider","_ref6","getDeviceLocale","bootstrapApp","mockBootstrapApp","apply","_interopRequireDefault","_asyncToGenerator2","_react","_reactNative","_reactRedux","_reactNative2","_native","_layout","_jsxRuntime","_require6","ThemedText","styled","_ref7","colors","text","primary","_ref8","background","ThemedTextForStoreTest","_ref9","_theme$colors","describe","beforeEach","clearAllMocks","mockResolvedValue","test","expect","render","jsx","not","toThrow","waitFor","toHaveBeenCalled","timeout","TestChild","_render","getByTestId","themedElement","toBeTruthy","toBe","_state$ui3","_render2","_state$ui4","_render3","_render4","_render5","getByText","_render6","_state$ui5","_state$network","_render7"],"sources":["root-layout-theme.test.js"],"sourcesContent":["/**\r\n * Root Layout Theme Provider Tests\r\n * File: root-layout-theme.test.js\r\n * \r\n * Step 7.4: Add ThemeProvider to root layout\r\n * \r\n * Per Step 7.4 requirements:\r\n * - ThemeProvider is imported from @theme (or ThemeProviderWrapper used)\r\n * - ThemeProvider wraps content (inside Redux Provider) with theme prop\r\n * - Theme is accessible in styled-components\r\n * \r\n * Per app-router.mdc: Root layouts use <Slot /> to render child routes, not {children} props.\r\n * Per testing.mdc: Tests verify behavior, not implementation details.\r\n * Per bootstrap-config.mdc: ThemeProvider mounted only in root layout.\r\n * Per theme-design.mdc: Theme consumption via styled-components.\r\n */\r\nimport React from 'react';\r\nimport { Text } from 'react-native';\r\nimport { useSelector } from 'react-redux';\r\nimport { render, waitFor } from '@testing-library/react-native';\r\nimport styled from 'styled-components/native';\r\n\r\n// Mock expo-router Slot component\r\n// Per app-router.mdc: Layouts use <Slot /> to render child routes\r\nlet mockSlotRenderer = () => null;\r\njest.mock('expo-router', () => {\r\n  const React = require('react');\r\n  const { View, Text } = require('react-native');\r\n  return {\r\n    Slot: () => {\r\n      const result = mockSlotRenderer();\r\n      return result || React.createElement(View, null, React.createElement(Text, null, 'Mock Slot - No Child Routes'));\r\n    },\r\n    useRouter: () => ({\r\n      push: jest.fn(),\r\n      replace: jest.fn(),\r\n      back: jest.fn(),\r\n    }),\r\n  };\r\n});\r\n\r\n// Mock the store module before importing RootLayout\r\njest.mock('@store', () => {\r\n  const { configureStore } = require('@reduxjs/toolkit');\r\n  const rootReducer = require('@store/rootReducer').default;\r\n  \r\n  const store = configureStore({\r\n    reducer: rootReducer,\r\n    preloadedState: {\r\n      ui: {\r\n        theme: 'light',\r\n        locale: 'en',\r\n        isLoading: false,\r\n      },\r\n      network: {\r\n        isOnline: true,\r\n      },\r\n    },\r\n  });\r\n  \r\n  // Attach mock persistor to store\r\n  const mockPersistor = {\r\n    purge: jest.fn(),\r\n    pause: jest.fn(),\r\n    persist: jest.fn(),\r\n    flush: jest.fn(),\r\n  };\r\n  store.persistor = mockPersistor;\r\n  \r\n  return store;\r\n}, { virtual: true });\r\n\r\n// Mock PersistGate to render children immediately (simulating post-rehydration)\r\njest.mock('redux-persist/integration/react', () => {\r\n  const React = require('react');\r\n  \r\n  return {\r\n    PersistGate: ({ children, loading }) => {\r\n      // PersistGate renders children after rehydration\r\n      // For testing, we'll render children immediately\r\n      return React.createElement(React.Fragment, null, children);\r\n    },\r\n  };\r\n});\r\n\r\n// Mock ThemeProviderWrapper (used in root layout)\r\njest.mock('@platform/layouts/common/ThemeProviderWrapper', () => {\r\n  const React = require('react');\r\n  const { useSelector } = require('react-redux');\r\n  const { ThemeProvider } = require('styled-components/native');\r\n  const lightTheme = require('@theme/light.theme').default;\r\n  const darkTheme = require('@theme/dark.theme').default;\r\n  \r\n  const getTheme = (mode = 'light') => {\r\n    switch (mode) {\r\n      case 'dark':\r\n        return darkTheme;\r\n      default:\r\n        return lightTheme;\r\n    }\r\n  };\r\n  \r\n  const ThemeProviderWrapper = ({ children }) => {\r\n    // Mock useSelector to return theme from store\r\n    const themeMode = useSelector((state) => state.ui?.theme || 'light');\r\n    \r\n    return React.createElement(ThemeProvider, { theme: getTheme(themeMode) }, children);\r\n  };\r\n  \r\n  return {\r\n    __esModule: true,\r\n    default: ThemeProviderWrapper,\r\n  };\r\n}, { virtual: true });\r\n\r\n// Mock RootLayoutStyles\r\njest.mock('@platform/layouts/common/RootLayoutStyles', () => {\r\n  const React = require('react');\r\n  const { View, ActivityIndicator } = require('react-native');\r\n  return {\r\n    StyledLoadingContainer: ({ children, testID }) =>\r\n      React.createElement(View, { testID }, children),\r\n    StyledActivityIndicator: (props) => React.createElement(ActivityIndicator, props),\r\n    StyledSlotContainer: ({ children }) => React.createElement(View, null, children),\r\n  };\r\n}, { virtual: true });\r\n\r\n// Mock store selectors\r\njest.mock('@store/selectors', () => ({\r\n  selectTheme: jest.fn((state) => state.ui?.theme || 'light'),\r\n}), { virtual: true });\r\n\r\n// Mock logger\r\njest.mock('@logging', () => ({\r\n  logger: {\r\n    error: jest.fn(),\r\n    info: jest.fn(),\r\n    warn: jest.fn(),\r\n    debug: jest.fn(),\r\n  },\r\n}), { virtual: true });\r\n\r\n// Mock ErrorBoundary\r\njest.mock('@errors', () => {\r\n  const React = require('react');\r\n  return {\r\n    ErrorBoundary: ({ children }) => React.createElement(React.Fragment, null, children),\r\n  };\r\n}, { virtual: true });\r\n\r\n// Mock i18n\r\njest.mock('@i18n', () => {\r\n  const React = require('react');\r\n  return {\r\n    I18nProvider: ({ children }) => React.createElement(React.Fragment, null, children),\r\n    getDeviceLocale: jest.fn(() => 'en'),\r\n  };\r\n}, { virtual: true });\r\n\r\n// Mock bootstrap module before importing RootLayout\r\nconst mockBootstrapApp = jest.fn();\r\njest.mock('@bootstrap', () => ({\r\n  bootstrapApp: (...args) => mockBootstrapApp(...args),\r\n}), { virtual: true });\r\n\r\n// Import RootLayout after mocks are set up\r\nimport RootLayout from '@app/_layout';\r\n\r\n// Styled components defined at module level (outside test functions)\r\nconst ThemedText = styled.Text`\r\n  color: ${({ theme }) => theme.colors.text.primary};\r\n  background-color: ${({ theme }) => theme.colors.background.primary};\r\n`;\r\n\r\nconst ThemedTextForStoreTest = styled.Text`\r\n  color: ${({ theme }) => theme.colors?.text?.primary || '#000000'};\r\n`;\r\n\r\ndescribe('app/_layout.jsx - ThemeProvider Integration', () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    mockBootstrapApp.mockResolvedValue(undefined);\r\n    // Default Slot renderer\r\n    mockSlotRenderer = () => React.createElement(Text, null, 'Test Content');\r\n  });\r\n\r\n  test('should render ThemeProvider without errors', async () => {\r\n    // Per Step 7.4: Test that ThemeProvider renders without errors\r\n    expect(() => {\r\n      render(<RootLayout />);\r\n    }).not.toThrow();\r\n\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should make theme accessible in styled-components', async () => {\r\n    // Per Step 7.4: Test that theme is accessible in styled-components (mock styled component for verification)\r\n    const TestChild = () => {\r\n      return React.createElement(ThemedText, { testID: 'themed-text' }, 'Themed Content');\r\n    };\r\n    \r\n    // Mock Slot to render TestChild\r\n    mockSlotRenderer = () => React.createElement(TestChild);\r\n    \r\n    const { getByTestId } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Wait for themed component to render\r\n    await waitFor(() => {\r\n      const themedElement = getByTestId('themed-text');\r\n      expect(themedElement).toBeTruthy();\r\n      expect(themedElement.props.children).toBe('Themed Content');\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should provide light theme by default', async () => {\r\n    // Per Step 7.4: Test that light theme is provided by default\r\n    const TestChild = () => {\r\n      const themeMode = useSelector((state) => state.ui?.theme);\r\n      return React.createElement(\r\n        React.Fragment,\r\n        null,\r\n        React.createElement(ThemedText, { testID: 'themed-text' }, 'Content'),\r\n        React.createElement(Text, { testID: 'theme-mode' }, themeMode)\r\n      );\r\n    };\r\n    \r\n    // Mock Slot to render TestChild\r\n    mockSlotRenderer = () => React.createElement(TestChild);\r\n    \r\n    const { getByTestId } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Wait for content to render and verify theme mode is light\r\n    await waitFor(() => {\r\n      expect(getByTestId('theme-mode').props.children).toBe('light');\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should read theme mode from Redux store via selectTheme selector', async () => {\r\n    // Per Step 7.4: Test that ThemeProviderWrapper reads theme from Redux store\r\n    // Verify that ThemeProviderWrapper uses selectTheme selector correctly\r\n    const TestChild = () => {\r\n      const themeMode = useSelector((state) => state.ui?.theme);\r\n      return React.createElement(Text, { testID: 'theme-mode' }, themeMode);\r\n    };\r\n    \r\n    // Mock Slot to render TestChild\r\n    mockSlotRenderer = () => React.createElement(TestChild);\r\n    \r\n    const { getByTestId } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Wait for content to render and verify theme mode is read from store (light by default)\r\n    await waitFor(() => {\r\n      expect(getByTestId('theme-mode').props.children).toBe('light');\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should pass theme mode to ThemeProvider from store', async () => {\r\n    // Per Step 7.4: Test that theme is accessible in styled-components\r\n    // Create a component that verifies theme is provided via ThemeProvider\r\n    const TestChild = () => {\r\n      // Access theme via styled-components\r\n      return React.createElement(ThemedTextForStoreTest, { testID: 'themed-text' }, 'Themed Content');\r\n    };\r\n    \r\n    // Mock Slot to render TestChild\r\n    mockSlotRenderer = () => React.createElement(TestChild);\r\n    \r\n    const { getByTestId } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Wait for styled component to render with theme from ThemeProvider\r\n    await waitFor(() => {\r\n      const themedElement = getByTestId('themed-text');\r\n      expect(themedElement).toBeTruthy();\r\n      expect(themedElement.props.children).toBe('Themed Content');\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should render children inside ThemeProvider', async () => {\r\n    // Per Step 7.4: Test that ThemeProvider renders children correctly\r\n    mockSlotRenderer = () => React.createElement(Text, null, 'Test Content');\r\n    \r\n    const { getByText } = render(<RootLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    await waitFor(() => {\r\n      expect(getByText('Test Content')).toBeTruthy();\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should handle multiple children with ThemeProvider', async () => {\r\n    // Test that ThemeProvider handles multiple child components\r\n    mockSlotRenderer = () => React.createElement(\r\n      React.Fragment,\r\n      null,\r\n      React.createElement(Text, null, 'First Child'),\r\n      React.createElement(Text, null, 'Second Child'),\r\n      React.createElement(Text, null, 'Third Child')\r\n    );\r\n    \r\n    const { getByText } = render(<RootLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    await waitFor(() => {\r\n      expect(getByText('First Child')).toBeTruthy();\r\n      expect(getByText('Second Child')).toBeTruthy();\r\n      expect(getByText('Third Child')).toBeTruthy();\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should handle empty state with ThemeProvider', async () => {\r\n    // Test that ThemeProvider handles empty rendering\r\n    mockSlotRenderer = () => null;\r\n    \r\n    expect(() => {\r\n      render(<RootLayout />);\r\n    }).not.toThrow();\r\n\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should maintain provider order (ErrorBoundary > Redux Provider > PersistGate > ThemeProvider)', async () => {\r\n    // Per Step 7.4: Test that ThemeProvider is correctly positioned in provider hierarchy\r\n    // Verify ThemeProvider is inside Redux Provider by checking store access\r\n    const TestChild = () => {\r\n      const themeMode = useSelector((state) => state.ui?.theme);\r\n      const isOnline = useSelector((state) => state.network?.isOnline);\r\n      \r\n      return React.createElement(\r\n        React.Fragment,\r\n        null,\r\n        React.createElement(Text, { testID: 'theme' }, themeMode),\r\n        React.createElement(Text, { testID: 'online' }, isOnline ? 'online' : 'offline')\r\n      );\r\n    };\r\n    \r\n    // Mock Slot to render TestChild\r\n    mockSlotRenderer = () => React.createElement(TestChild);\r\n    \r\n    const { getByTestId } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Wait for content to render - both store access and theme should work\r\n    await waitFor(() => {\r\n      expect(getByTestId('theme').props.children).toBe('light');\r\n      expect(getByTestId('online').props.children).toBe('online');\r\n    }, { timeout: 3000 });\r\n  });\r\n});\r\n\r\n"],"mappings":"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","ignoreList":[]}