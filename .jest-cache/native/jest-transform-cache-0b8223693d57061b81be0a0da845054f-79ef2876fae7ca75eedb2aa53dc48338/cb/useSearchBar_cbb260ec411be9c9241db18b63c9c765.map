{"version":3,"names":["_react","require","_hooks","useSearchBar","_ref","_ref$value","value","onChange","onChangeText","onSearch","_ref$debounceMs","debounceMs","_useState","useState","_useState2","_slicedToArray2","default","localValue","setLocalValue","debouncedValue","useDebounce","hasValue","length","useEffect","undefined","handleChange","e","_ref2","_e$target$value","_e$target","newValue","target","handleChangeText","handleClear","handleSubmit","currentValue","arguments","_default","exports"],"sources":["useSearchBar.js"],"sourcesContent":["/**\r\n * useSearchBar Hook\r\n * Shared logic for SearchBar pattern across all platforms\r\n * File: useSearchBar.js\r\n */\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useDebounce } from '@hooks';\r\n\r\n/**\r\n * Hook for SearchBar component logic\r\n * @param {Object} params - Hook parameters\r\n * @param {string} params.value - Initial search value\r\n * @param {Function} params.onChange - Change handler (web)\r\n * @param {Function} params.onChangeText - Change handler (native)\r\n * @param {Function} params.onSearch - Search handler (called on debounced value change)\r\n * @param {number} params.debounceMs - Debounce delay in milliseconds\r\n * @returns {Object} SearchBar state and handlers\r\n */\r\nconst useSearchBar = ({\r\n  value = '',\r\n  onChange,\r\n  onChangeText,\r\n  onSearch,\r\n  debounceMs = 300,\r\n}) => {\r\n  const [localValue, setLocalValue] = useState(value);\r\n  const debouncedValue = useDebounce(localValue, debounceMs);\r\n  const hasValue = localValue.length > 0;\r\n\r\n  // Sync local value with prop value\r\n  useEffect(() => {\r\n    setLocalValue(value);\r\n  }, [value]);\r\n\r\n  // Trigger onSearch when debounced value changes\r\n  // Call onSearch when debounced value changes and differs from initial prop value\r\n  useEffect(() => {\r\n    if (onSearch && debouncedValue !== undefined && debouncedValue !== value) {\r\n      onSearch(debouncedValue);\r\n    }\r\n  }, [debouncedValue, onSearch, value]);\r\n\r\n  const handleChange = (e) => {\r\n    const newValue = e?.target?.value ?? e ?? '';\r\n    setLocalValue(newValue);\r\n    // Always call onChange if provided (web)\r\n    if (onChange) {\r\n      // If e is already an event object with target, pass it through\r\n      // Otherwise, if it's a string, pass the string directly (test expectation)\r\n      // Otherwise, create an event object\r\n      if (e && typeof e === 'object' && 'target' in e) {\r\n        onChange(e);\r\n      } else if (typeof e === 'string') {\r\n        onChange(e);\r\n      } else {\r\n        onChange({ target: { value: newValue } });\r\n      }\r\n    }\r\n    // Always call onChangeText if provided (native)\r\n    if (onChangeText && typeof newValue === 'string') {\r\n      onChangeText(newValue);\r\n    }\r\n  };\r\n\r\n  const handleChangeText = (newValue) => {\r\n    setLocalValue(newValue);\r\n    if (onChangeText) {\r\n      onChangeText(newValue);\r\n    }\r\n    if (onChange) {\r\n      onChange({ target: { value: newValue } });\r\n    }\r\n  };\r\n\r\n  const handleClear = () => {\r\n    setLocalValue('');\r\n    if (onChange) {\r\n      onChange({ target: { value: '' } });\r\n    }\r\n    if (onChangeText) {\r\n      onChangeText('');\r\n    }\r\n    if (onSearch) {\r\n      onSearch('');\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (currentValue = localValue) => {\r\n    if (onSearch) {\r\n      onSearch(currentValue);\r\n    }\r\n  };\r\n\r\n  return {\r\n    localValue,\r\n    hasValue,\r\n    handleChange,\r\n    handleChangeText,\r\n    handleClear,\r\n    handleSubmit,\r\n  };\r\n};\r\n\r\nexport default useSearchBar;\r\n\r\n"],"mappings":"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","ignoreList":[]}