{"version":3,"names":["React","useMemo","Slot","useAuthGuard","AppFrame","GlobalHeader","Icon","NoticeSurface","Sidebar","GlobalFooter","FOOTER_VARIANTS","useHeaderActions","useMainRouteLayoutWeb","Brand","HamburgerIcon","HeaderUtility","MobileSidebar","StyledHeaderRevealButton","StyledSidebarResizeHandle","StyledSidebarWrapper","SIDEBAR_COLLAPSED_WIDTH","SIDEBAR_MIN_WIDTH","SIDEBAR_MAX_WIDTH","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","cov_h1tdjm9fl","s","MainRouteLayoutWeb","f","layout","_ref","t","mainItems","isItemVisible","overlaySlot","resolvedSidebarWidth","isSidebarCollapsed","isMobile","isHeaderHidden","isMobileSidebarOpen","authHeaderActions","handleToggleSidebar","handleShowHeader","handleResizeStart","handleResizeKeyDown","handleMobileOverlayKeyDown","closeButtonRef","mobileSidebarRef","footerVisible","hamburgerIcon","headerActions","brandTitle","appName","appShortName","headerSlot","b","title","accessibilityLabel","testID","actions","utilitySlot","Object","assign","sidebarSlot","children","items","collapsed","footerSlot","role","tabIndex","onMouseDown","onKeyDown","sidebar","header","footer","variant","MAIN","overlay","notices","sidebarCollapsed","sidebarWidth","collapsedWidth","size","onPress","glyph","decorative","isOpen","onClose","handleCloseMobileSidebar","sidebarLabel","closeLabel","panelRef"],"sources":["MainRouteLayout.web.jsx"],"sourcesContent":["/**\r\n * MainRouteLayout Component - Web\r\n * Reusable route layout for authenticated/main app routes on Web\r\n * File: MainRouteLayout.web.jsx\r\n *\r\n * Per component-structure.mdc: Reusable layout components belong in platform/layouts/\r\n * Per app-router.mdc: Route layouts handle authentication guards\r\n * Per project-structure.mdc: One file = one responsibility; composition over inheritance\r\n */\r\n\r\nimport React, { useMemo } from 'react';\r\nimport { Slot } from 'expo-router';\r\nimport { useAuthGuard } from '@navigation/guards';\r\nimport AppFrame from '../../AppFrame';\r\nimport {\r\n  GlobalHeader,\r\n  Icon,\r\n  NoticeSurface,\r\n  Sidebar,\r\n} from '@platform/components';\r\nimport GlobalFooter, { FOOTER_VARIANTS } from '@platform/components/navigation/GlobalFooter';\r\nimport { useHeaderActions } from './useMainLayoutMemo';\r\nimport useMainRouteLayoutWeb from './useMainRouteLayoutWeb';\r\nimport Brand from './Brand';\r\nimport HamburgerIcon from './HamburgerIcon';\r\nimport HeaderUtility from './HeaderUtility';\r\nimport MobileSidebar from './MobileSidebar';\r\nimport {\r\n  StyledHeaderRevealButton,\r\n  StyledSidebarResizeHandle,\r\n  StyledSidebarWrapper,\r\n} from './MainRouteLayout.web.styles';\r\nimport { SIDEBAR_COLLAPSED_WIDTH, SIDEBAR_MIN_WIDTH, SIDEBAR_MAX_WIDTH } from './types';\r\n\r\nconst MainRouteLayoutWeb = () => {\r\n  useAuthGuard();\r\n  const layout = useMainRouteLayoutWeb();\r\n  const {\r\n    t,\r\n    mainItems,\r\n    isItemVisible,\r\n    overlaySlot,\r\n    resolvedSidebarWidth,\r\n    isSidebarCollapsed,\r\n    isMobile,\r\n    isHeaderHidden,\r\n    isMobileSidebarOpen,\r\n    authHeaderActions,\r\n    handleToggleSidebar,\r\n    handleShowHeader,\r\n    handleResizeStart,\r\n    handleResizeKeyDown,\r\n    handleMobileOverlayKeyDown,\r\n    closeButtonRef,\r\n    mobileSidebarRef,\r\n    footerVisible,\r\n  } = layout;\r\n\r\n  const hamburgerIcon = useMemo(() => <HamburgerIcon />, []);\r\n  const headerActions = useHeaderActions(\r\n    authHeaderActions,\r\n    hamburgerIcon,\r\n    handleToggleSidebar,\r\n    t\r\n  );\r\n  const brandTitle = useMemo(\r\n    () => (\r\n      <Brand\r\n        appName={t('app.name')}\r\n        appShortName={t('app.shortName')}\r\n      />\r\n    ),\r\n    [t]\r\n  );\r\n\r\n  const headerSlot = isHeaderHidden ? null : (\r\n    <GlobalHeader\r\n      title={brandTitle}\r\n      accessibilityLabel={t('navigation.header.title')}\r\n      testID=\"main-header\"\r\n      actions={headerActions}\r\n      utilitySlot={<HeaderUtility {...layout} />}\r\n    />\r\n  );\r\n\r\n  const sidebarSlot = (\r\n    <StyledSidebarWrapper>\r\n      <Sidebar\r\n        accessibilityLabel={t('navigation.sidebar.title')}\r\n        items={mainItems}\r\n        isItemVisible={isItemVisible}\r\n        collapsed={isSidebarCollapsed}\r\n        footerSlot={null}\r\n        testID=\"main-sidebar\"\r\n      />\r\n      {!isMobile && !isSidebarCollapsed ? (\r\n        <StyledSidebarResizeHandle\r\n          role=\"slider\"\r\n          aria-orientation=\"vertical\"\r\n          aria-label={t('navigation.sidebar.resize')}\r\n          aria-valuemin={SIDEBAR_MIN_WIDTH}\r\n          aria-valuemax={SIDEBAR_MAX_WIDTH}\r\n          aria-valuenow={resolvedSidebarWidth}\r\n          tabIndex={0}\r\n          onMouseDown={handleResizeStart}\r\n          onKeyDown={handleResizeKeyDown}\r\n        />\r\n      ) : null}\r\n    </StyledSidebarWrapper>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <AppFrame\r\n        sidebar={sidebarSlot}\r\n        header={headerSlot}\r\n        footer={\r\n          !isMobile && footerVisible ? (\r\n            <GlobalFooter\r\n              variant={FOOTER_VARIANTS.MAIN}\r\n              accessibilityLabel={t('navigation.footer.title')}\r\n              testID=\"main-footer\"\r\n            />\r\n          ) : null\r\n        }\r\n        overlay={overlaySlot}\r\n        notices={<NoticeSurface testID=\"main-notice-surface\" />}\r\n        sidebarCollapsed={isSidebarCollapsed}\r\n        sidebarWidth={resolvedSidebarWidth}\r\n        collapsedWidth={SIDEBAR_COLLAPSED_WIDTH}\r\n        accessibilityLabel={t('navigation.mainNavigation')}\r\n        testID=\"main-route-layout\"\r\n      >\r\n        <Slot />\r\n      </AppFrame>\r\n      {isHeaderHidden ? (\r\n        <StyledHeaderRevealButton\r\n          variant=\"outline\"\r\n          size=\"small\"\r\n          onPress={handleShowHeader}\r\n          accessibilityLabel={t('navigation.header.showHeader')}\r\n          testID=\"main-header-reveal\"\r\n        >\r\n          <Icon glyph=\"Ë…\" decorative accessibilityLabel={t('navigation.header.showHeader')} />\r\n        </StyledHeaderRevealButton>\r\n      ) : null}\r\n      {isMobile ? (\r\n        <MobileSidebar\r\n          isOpen={isMobileSidebarOpen}\r\n          onClose={layout.handleCloseMobileSidebar}\r\n          onKeyDown={handleMobileOverlayKeyDown}\r\n          sidebarLabel={t('navigation.sidebar.title')}\r\n          closeLabel={t('common.close')}\r\n          mainItems={mainItems}\r\n          isItemVisible={isItemVisible}\r\n          closeButtonRef={closeButtonRef}\r\n          panelRef={mobileSidebarRef}\r\n        />\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MainRouteLayoutWeb;\r\n"],"mappings":"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","ignoreList":[]}