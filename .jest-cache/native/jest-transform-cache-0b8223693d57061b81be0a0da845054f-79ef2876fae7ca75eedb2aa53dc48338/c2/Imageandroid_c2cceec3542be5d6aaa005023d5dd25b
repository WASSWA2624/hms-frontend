387ddac6e32a236cf543ed407f7c98cb
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("react-native");
var _native = require("styled-components/native");
var _Text = _interopRequireDefault(require("../Text"));
var _hooks = require("../../../../hooks");
var _ImageAndroid = require("./Image.android.styles");
var _useImage2 = _interopRequireDefault(require("./useImage"));
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["source", "fallback", "placeholder", "errorComponent", "resizeMode", "width", "height", "accessibilityLabel", "accessibilityHint", "testID", "onLoad", "onError", "style"];
var ImageAndroid = function ImageAndroid(_ref) {
  var source = _ref.source,
    fallback = _ref.fallback,
    placeholder = _ref.placeholder,
    errorComponent = _ref.errorComponent,
    _ref$resizeMode = _ref.resizeMode,
    resizeMode = _ref$resizeMode === void 0 ? 'cover' : _ref$resizeMode,
    width = _ref.width,
    height = _ref.height,
    accessibilityLabel = _ref.accessibilityLabel,
    accessibilityHint = _ref.accessibilityHint,
    testID = _ref.testID,
    onLoad = _ref.onLoad,
    onError = _ref.onError,
    style = _ref.style,
    rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var _useImage = (0, _useImage2.default)({
      source: source,
      fallback: fallback,
      onLoad: onLoad,
      onError: onError
    }),
    isLoading = _useImage.isLoading,
    hasError = _useImage.hasError,
    currentSource = _useImage.currentSource,
    handleLoad = _useImage.handleLoad,
    handleError = _useImage.handleError;
  var theme = (0, _native.useTheme)();
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var imageSource = typeof currentSource === 'string' ? {
    uri: currentSource
  } : currentSource;
  var defaultPlaceholder = (0, _jsxRuntime.jsx)(_ImageAndroid.StyledPlaceholder, {
    children: (0, _jsxRuntime.jsx)(_reactNative.ActivityIndicator, {
      size: "small",
      color: theme.colors.text.tertiary
    })
  });
  var defaultError = (0, _jsxRuntime.jsx)(_ImageAndroid.StyledErrorContainer, {
    children: (0, _jsxRuntime.jsx)(_Text.default, {
      variant: "caption",
      color: theme.colors.text.tertiary,
      children: t('common.imageLoadError')
    })
  });
  return (0, _jsxRuntime.jsxs)(_ImageAndroid.StyledContainer, {
    style: [{
      width: width,
      height: height
    }, style],
    testID: testID,
    children: [(0, _jsxRuntime.jsx)(_ImageAndroid.StyledImage, Object.assign({
      source: imageSource,
      resizeMode: resizeMode,
      onLoad: handleLoad,
      onError: handleError,
      accessibilityLabel: accessibilityLabel,
      accessibilityHint: accessibilityHint
    }, rest)), isLoading && (placeholder || defaultPlaceholder), hasError && !isLoading && (errorComponent || defaultError)]
  });
};
var _default = exports.default = ImageAndroid;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9uYXRpdmUiLCJfVGV4dCIsIl9ob29rcyIsIl9JbWFnZUFuZHJvaWQiLCJfdXNlSW1hZ2UyIiwiX2pzeFJ1bnRpbWUiLCJfZXhjbHVkZWQiLCJJbWFnZUFuZHJvaWQiLCJfcmVmIiwic291cmNlIiwiZmFsbGJhY2siLCJwbGFjZWhvbGRlciIsImVycm9yQ29tcG9uZW50IiwiX3JlZiRyZXNpemVNb2RlIiwicmVzaXplTW9kZSIsIndpZHRoIiwiaGVpZ2h0IiwiYWNjZXNzaWJpbGl0eUxhYmVsIiwiYWNjZXNzaWJpbGl0eUhpbnQiLCJ0ZXN0SUQiLCJvbkxvYWQiLCJvbkVycm9yIiwic3R5bGUiLCJyZXN0IiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsImRlZmF1bHQiLCJfdXNlSW1hZ2UiLCJ1c2VJbWFnZSIsImlzTG9hZGluZyIsImhhc0Vycm9yIiwiY3VycmVudFNvdXJjZSIsImhhbmRsZUxvYWQiLCJoYW5kbGVFcnJvciIsInRoZW1lIiwidXNlVGhlbWUiLCJfdXNlSTE4biIsInVzZUkxOG4iLCJ0IiwiaW1hZ2VTb3VyY2UiLCJ1cmkiLCJkZWZhdWx0UGxhY2Vob2xkZXIiLCJqc3giLCJTdHlsZWRQbGFjZWhvbGRlciIsImNoaWxkcmVuIiwiQWN0aXZpdHlJbmRpY2F0b3IiLCJzaXplIiwiY29sb3IiLCJjb2xvcnMiLCJ0ZXh0IiwidGVydGlhcnkiLCJkZWZhdWx0RXJyb3IiLCJTdHlsZWRFcnJvckNvbnRhaW5lciIsInZhcmlhbnQiLCJqc3hzIiwiU3R5bGVkQ29udGFpbmVyIiwiU3R5bGVkSW1hZ2UiLCJPYmplY3QiLCJhc3NpZ24iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJJbWFnZS5hbmRyb2lkLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogSW1hZ2UgQ29tcG9uZW50IC0gQW5kcm9pZFxyXG4gKiBPcHRpbWl6ZWQgaW1hZ2UgY29tcG9uZW50IGZvciBBbmRyb2lkIHBsYXRmb3JtXHJcbiAqIEZpbGU6IEltYWdlLmFuZHJvaWQuanN4XHJcbiAqL1xyXG4vLyAxLiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgQWN0aXZpdHlJbmRpY2F0b3IgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xyXG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzL25hdGl2ZSc7XHJcblxyXG4vLyAyLiBQbGF0Zm9ybSBjb21wb25lbnRzIChkaXJlY3QgaW1wb3J0IHRvIGF2b2lkIHJlcXVpcmUgY3ljbGUpXHJcbmltcG9ydCBUZXh0IGZyb20gJ0BwbGF0Zm9ybS9jb21wb25lbnRzL2Rpc3BsYXkvVGV4dCc7XHJcblxyXG4vLyAzLiBIb29rcyBhbmQgdXRpbGl0aWVzIChhYnNvbHV0ZSBpbXBvcnRzIHZpYSBhbGlhc2VzKVxyXG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAnQGhvb2tzJztcclxuXHJcbi8vIDQuIFN0eWxlcyAocmVsYXRpdmUgaW1wb3J0IC0gcGxhdGZvcm0tc3BlY2lmaWMpXHJcbmltcG9ydCB7IFN0eWxlZENvbnRhaW5lciwgU3R5bGVkSW1hZ2UsIFN0eWxlZFBsYWNlaG9sZGVyLCBTdHlsZWRFcnJvckNvbnRhaW5lciB9IGZyb20gJy4vSW1hZ2UuYW5kcm9pZC5zdHlsZXMnO1xyXG5cclxuLy8gNS4gQ29tcG9uZW50LXNwZWNpZmljIGhvb2sgKHJlbGF0aXZlIGltcG9ydClcclxuaW1wb3J0IHVzZUltYWdlIGZyb20gJy4vdXNlSW1hZ2UnO1xyXG5cclxuLyoqXHJcbiAqIEltYWdlIGNvbXBvbmVudCBmb3IgQW5kcm9pZFxyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBJbWFnZSBwcm9wc1xyXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IHByb3BzLnNvdXJjZSAtIEltYWdlIHNvdXJjZSAoVVJJIHN0cmluZyBvciB7dXJpOiBzdHJpbmd9KVxyXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IHByb3BzLmZhbGxiYWNrIC0gRmFsbGJhY2sgaW1hZ2Ugc291cmNlXHJcbiAqIEBwYXJhbSB7UmVhY3QuUmVhY3ROb2RlfSBwcm9wcy5wbGFjZWhvbGRlciAtIFBsYWNlaG9sZGVyIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge1JlYWN0LlJlYWN0Tm9kZX0gcHJvcHMuZXJyb3JDb21wb25lbnQgLSBFcnJvciBjb21wb25lbnRcclxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BzLnJlc2l6ZU1vZGUgLSBSZXNpemUgbW9kZSAoY292ZXIsIGNvbnRhaW4sIHN0cmV0Y2gsIHJlcGVhdCwgY2VudGVyKVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcHJvcHMud2lkdGggLSBJbWFnZSB3aWR0aFxyXG4gKiBAcGFyYW0ge251bWJlcn0gcHJvcHMuaGVpZ2h0IC0gSW1hZ2UgaGVpZ2h0XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wcy5hY2Nlc3NpYmlsaXR5TGFiZWwgLSBBY2Nlc3NpYmlsaXR5IGxhYmVsXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wcy5hY2Nlc3NpYmlsaXR5SGludCAtIEFjY2Vzc2liaWxpdHkgaGludFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMudGVzdElEIC0gVGVzdCBpZGVudGlmaWVyXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLm9uTG9hZCAtIExvYWQgaGFuZGxlclxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5vbkVycm9yIC0gRXJyb3IgaGFuZGxlclxyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMuc3R5bGUgLSBBZGRpdGlvbmFsIHN0eWxlc1xyXG4gKi9cclxuY29uc3QgSW1hZ2VBbmRyb2lkID0gKHtcclxuICBzb3VyY2UsXHJcbiAgZmFsbGJhY2ssXHJcbiAgcGxhY2Vob2xkZXIsXHJcbiAgZXJyb3JDb21wb25lbnQsXHJcbiAgcmVzaXplTW9kZSA9ICdjb3ZlcicsXHJcbiAgd2lkdGgsXHJcbiAgaGVpZ2h0LFxyXG4gIGFjY2Vzc2liaWxpdHlMYWJlbCxcclxuICBhY2Nlc3NpYmlsaXR5SGludCxcclxuICB0ZXN0SUQsXHJcbiAgb25Mb2FkLFxyXG4gIG9uRXJyb3IsXHJcbiAgc3R5bGUsXHJcbiAgLi4ucmVzdFxyXG59KSA9PiB7XHJcbiAgY29uc3QgeyBpc0xvYWRpbmcsIGhhc0Vycm9yLCBjdXJyZW50U291cmNlLCBoYW5kbGVMb2FkLCBoYW5kbGVFcnJvciB9ID0gdXNlSW1hZ2Uoe1xyXG4gICAgc291cmNlLFxyXG4gICAgZmFsbGJhY2ssXHJcbiAgICBvbkxvYWQsXHJcbiAgICBvbkVycm9yLFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XHJcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XHJcbiAgY29uc3QgaW1hZ2VTb3VyY2UgPSB0eXBlb2YgY3VycmVudFNvdXJjZSA9PT0gJ3N0cmluZycgPyB7IHVyaTogY3VycmVudFNvdXJjZSB9IDogY3VycmVudFNvdXJjZTtcclxuXHJcbiAgY29uc3QgZGVmYXVsdFBsYWNlaG9sZGVyID0gKFxyXG4gICAgPFN0eWxlZFBsYWNlaG9sZGVyPlxyXG4gICAgICA8QWN0aXZpdHlJbmRpY2F0b3Igc2l6ZT1cInNtYWxsXCIgY29sb3I9e3RoZW1lLmNvbG9ycy50ZXh0LnRlcnRpYXJ5fSAvPlxyXG4gICAgPC9TdHlsZWRQbGFjZWhvbGRlcj5cclxuICApO1xyXG5cclxuICBjb25zdCBkZWZhdWx0RXJyb3IgPSAoXHJcbiAgICA8U3R5bGVkRXJyb3JDb250YWluZXI+XHJcbiAgICAgIDxUZXh0IHZhcmlhbnQ9XCJjYXB0aW9uXCIgY29sb3I9e3RoZW1lLmNvbG9ycy50ZXh0LnRlcnRpYXJ5fT5cclxuICAgICAgICB7dCgnY29tbW9uLmltYWdlTG9hZEVycm9yJyl9XHJcbiAgICAgIDwvVGV4dD5cclxuICAgIDwvU3R5bGVkRXJyb3JDb250YWluZXI+XHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxTdHlsZWRDb250YWluZXJcclxuICAgICAgc3R5bGU9e1tcclxuICAgICAgICB7XHJcbiAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN0eWxlLFxyXG4gICAgICBdfVxyXG4gICAgICB0ZXN0SUQ9e3Rlc3RJRH1cclxuICAgID5cclxuICAgICAgPFN0eWxlZEltYWdlXHJcbiAgICAgICAgc291cmNlPXtpbWFnZVNvdXJjZX1cclxuICAgICAgICByZXNpemVNb2RlPXtyZXNpemVNb2RlfVxyXG4gICAgICAgIG9uTG9hZD17aGFuZGxlTG9hZH1cclxuICAgICAgICBvbkVycm9yPXtoYW5kbGVFcnJvcn1cclxuICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw9e2FjY2Vzc2liaWxpdHlMYWJlbH1cclxuICAgICAgICBhY2Nlc3NpYmlsaXR5SGludD17YWNjZXNzaWJpbGl0eUhpbnR9XHJcbiAgICAgICAgey4uLnJlc3R9XHJcbiAgICAgIC8+XHJcbiAgICAgIHtpc0xvYWRpbmcgJiYgKHBsYWNlaG9sZGVyIHx8IGRlZmF1bHRQbGFjZWhvbGRlcil9XHJcbiAgICAgIHtoYXNFcnJvciAmJiAhaXNMb2FkaW5nICYmIChlcnJvckNvbXBvbmVudCB8fCBkZWZhdWx0RXJyb3IpfVxyXG4gICAgPC9TdHlsZWRDb250YWluZXI+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEltYWdlQW5kcm9pZDtcclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBTUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsT0FBQSxHQUFBRixPQUFBO0FBR0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBR0EsSUFBQUksTUFBQSxHQUFBSixPQUFBO0FBR0EsSUFBQUssYUFBQSxHQUFBTCxPQUFBO0FBR0EsSUFBQU0s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