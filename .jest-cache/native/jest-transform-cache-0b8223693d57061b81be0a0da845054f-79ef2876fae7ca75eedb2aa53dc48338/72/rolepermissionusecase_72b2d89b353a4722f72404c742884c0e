ff91b3ba69ed677969778aada5f9a0c1
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.updateRolePermission = exports.listRolePermissions = exports.getRolePermission = exports.deleteRolePermission = exports.createRolePermission = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _errors = require("../../errors");
var _rolePermission = require("./role-permission.api");
var _rolePermission2 = require("./role-permission.model");
var _rolePermission3 = require("./role-permission.rules");
var execute = function () {
  var _ref = (0, _asyncToGenerator2.default)(function* (work) {
    try {
      return yield work();
    } catch (error) {
      throw (0, _errors.handleError)(error);
    }
  });
  return function execute(_x) {
    return _ref.apply(this, arguments);
  };
}();
var listRolePermissions = exports.listRolePermissions = function () {
  var _ref2 = (0, _asyncToGenerator2.default)(function* () {
    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    return execute((0, _asyncToGenerator2.default)(function* () {
      var parsed = (0, _rolePermission3.parseRolePermissionListParams)(params);
      var response = yield _rolePermission.rolePermissionApi.list(parsed);
      return (0, _rolePermission2.normalizeRolePermissionList)(response.data);
    }));
  });
  return function listRolePermissions() {
    return _ref2.apply(this, arguments);
  };
}();
var getRolePermission = exports.getRolePermission = function () {
  var _ref4 = (0, _asyncToGenerator2.default)(function* (id) {
    return execute((0, _asyncToGenerator2.default)(function* () {
      var parsedId = (0, _rolePermission3.parseRolePermissionId)(id);
      var response = yield _rolePermission.rolePermissionApi.get(parsedId);
      return (0, _rolePermission2.normalizeRolePermission)(response.data);
    }));
  });
  return function getRolePermission(_x2) {
    return _ref4.apply(this, arguments);
  };
}();
var createRolePermission = exports.createRolePermission = function () {
  var _ref6 = (0, _asyncToGenerator2.default)(function* (payload) {
    return execute((0, _asyncToGenerator2.default)(function* () {
      var parsed = (0, _rolePermission3.parseRolePermissionPayload)(payload);
      var response = yield _rolePermission.rolePermissionApi.create(parsed);
      return (0, _rolePermission2.normalizeRolePermission)(response.data);
    }));
  });
  return function createRolePermission(_x3) {
    return _ref6.apply(this, arguments);
  };
}();
var updateRolePermission = exports.updateRolePermission = function () {
  var _ref8 = (0, _asyncToGenerator2.default)(function* (id, payload) {
    return execute((0, _asyncToGenerator2.default)(function* () {
      var parsedId = (0, _rolePermission3.parseRolePermissionId)(id);
      var parsed = (0, _rolePermission3.parseRolePermissionPayload)(payload);
      var response = yield _rolePermission.rolePermissionApi.update(parsedId, parsed);
      return (0, _rolePermission2.normalizeRolePermission)(response.data);
    }));
  });
  return function updateRolePermission(_x4, _x5) {
    return _ref8.apply(this, arguments);
  };
}();
var deleteRolePermission = exports.deleteRolePermission = function () {
  var _ref0 = (0, _asyncToGenerator2.default)(function* (id) {
    return execute((0, _asyncToGenerator2.default)(function* () {
      var parsedId = (0, _rolePermission3.parseRolePermissionId)(id);
      var response = yield _rolePermission.rolePermissionApi.remove(parsedId);
      return (0, _rolePermission2.normalizeRolePermission)(response.data);
    }));
  });
  return function deleteRolePermission(_x6) {
    return _ref0.apply(this, arguments);
  };
}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXJyb3JzIiwicmVxdWlyZSIsIl9yb2xlUGVybWlzc2lvbiIsIl9yb2xlUGVybWlzc2lvbjIiLCJfcm9sZVBlcm1pc3Npb24zIiwiZXhlY3V0ZSIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJkZWZhdWx0Iiwid29yayIsImVycm9yIiwiaGFuZGxlRXJyb3IiLCJfeCIsImFwcGx5IiwiYXJndW1lbnRzIiwibGlzdFJvbGVQZXJtaXNzaW9ucyIsImV4cG9ydHMiLCJfcmVmMiIsInBhcmFtcyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInBhcnNlZCIsInBhcnNlUm9sZVBlcm1pc3Npb25MaXN0UGFyYW1zIiwicmVzcG9uc2UiLCJyb2xlUGVybWlzc2lvbkFwaSIsImxpc3QiLCJub3JtYWxpemVSb2xlUGVybWlzc2lvbkxpc3QiLCJkYXRhIiwiZ2V0Um9sZVBlcm1pc3Npb24iLCJfcmVmNCIsImlkIiwicGFyc2VkSWQiLCJwYXJzZVJvbGVQZXJtaXNzaW9uSWQiLCJnZXQiLCJub3JtYWxpemVSb2xlUGVybWlzc2lvbiIsIl94MiIsImNyZWF0ZVJvbGVQZXJtaXNzaW9uIiwiX3JlZjYiLCJwYXlsb2FkIiwicGFyc2VSb2xlUGVybWlzc2lvblBheWxvYWQiLCJjcmVhdGUiLCJfeDMiLCJ1cGRhdGVSb2xlUGVybWlzc2lvbiIsIl9yZWY4IiwidXBkYXRlIiwiX3g0IiwiX3g1IiwiZGVsZXRlUm9sZVBlcm1pc3Npb24iLCJfcmVmMCIsInJlbW92ZSIsIl94NiJdLCJzb3VyY2VzIjpbInJvbGUtcGVybWlzc2lvbi51c2VjYXNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBSb2xlIFBlcm1pc3Npb24gVXNlIENhc2VzXHJcbiAqIEZpbGU6IHJvbGUtcGVybWlzc2lvbi51c2VjYXNlLmpzXHJcbiAqL1xyXG5pbXBvcnQgeyBoYW5kbGVFcnJvciB9IGZyb20gJ0BlcnJvcnMnO1xyXG5pbXBvcnQgeyByb2xlUGVybWlzc2lvbkFwaSB9IGZyb20gJy4vcm9sZS1wZXJtaXNzaW9uLmFwaSc7XHJcbmltcG9ydCB7IG5vcm1hbGl6ZVJvbGVQZXJtaXNzaW9uLCBub3JtYWxpemVSb2xlUGVybWlzc2lvbkxpc3QgfSBmcm9tICcuL3JvbGUtcGVybWlzc2lvbi5tb2RlbCc7XHJcbmltcG9ydCB7XHJcbiAgcGFyc2VSb2xlUGVybWlzc2lvbklkLFxyXG4gIHBhcnNlUm9sZVBlcm1pc3Npb25MaXN0UGFyYW1zLFxyXG4gIHBhcnNlUm9sZVBlcm1pc3Npb25QYXlsb2FkLFxyXG59IGZyb20gJy4vcm9sZS1wZXJtaXNzaW9uLnJ1bGVzJztcclxuXHJcbmNvbnN0IGV4ZWN1dGUgPSBhc3luYyAod29yaykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgd29yaygpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBoYW5kbGVFcnJvcihlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgbGlzdFJvbGVQZXJtaXNzaW9ucyA9IGFzeW5jIChwYXJhbXMgPSB7fSkgPT5cclxuICBleGVjdXRlKGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlUm9sZVBlcm1pc3Npb25MaXN0UGFyYW1zKHBhcmFtcyk7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJvbGVQZXJtaXNzaW9uQXBpLmxpc3QocGFyc2VkKTtcclxuICAgIHJldHVybiBub3JtYWxpemVSb2xlUGVybWlzc2lvbkxpc3QocmVzcG9uc2UuZGF0YSk7XHJcbiAgfSk7XHJcblxyXG5jb25zdCBnZXRSb2xlUGVybWlzc2lvbiA9IGFzeW5jIChpZCkgPT5cclxuICBleGVjdXRlKGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHBhcnNlZElkID0gcGFyc2VSb2xlUGVybWlzc2lvbklkKGlkKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcm9sZVBlcm1pc3Npb25BcGkuZ2V0KHBhcnNlZElkKTtcclxuICAgIHJldHVybiBub3JtYWxpemVSb2xlUGVybWlzc2lvbihyZXNwb25zZS5kYXRhKTtcclxuICB9KTtcclxuXHJcbmNvbnN0IGNyZWF0ZVJvbGVQZXJtaXNzaW9uID0gYXN5bmMgKHBheWxvYWQpID0+XHJcbiAgZXhlY3V0ZShhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZVJvbGVQZXJtaXNzaW9uUGF5bG9hZChwYXlsb2FkKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcm9sZVBlcm1pc3Npb25BcGkuY3JlYXRlKHBhcnNlZCk7XHJcbiAgICByZXR1cm4gbm9ybWFsaXplUm9sZVBlcm1pc3Npb24ocmVzcG9uc2UuZGF0YSk7XHJcbiAgfSk7XHJcblxyXG5jb25zdCB1cGRhdGVSb2xlUGVybWlzc2lvbiA9IGFzeW5jIChpZCwgcGF5bG9hZCkgPT5cclxuICBleGVjdXRlKGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHBhcnNlZElkID0gcGFyc2VSb2xlUGVybWlzc2lvbklkKGlkKTtcclxuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlUm9sZVBlcm1pc3Npb25QYXlsb2FkKHBheWxvYWQpO1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByb2xlUGVybWlzc2lvbkFwaS51cGRhdGUocGFyc2VkSWQsIHBhcnNlZCk7XHJcbiAgICByZXR1cm4gbm9ybWFsaXplUm9sZVBlcm1pc3Npb24ocmVzcG9uc2UuZGF0YSk7XHJcbiAgfSk7XHJcblxyXG5jb25zdCBkZWxldGVSb2xlUGVybWlzc2lvbiA9IGFzeW5jIChpZCkgPT5cclxuICBleGVjdXRlKGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHBhcnNlZElkID0gcGFyc2VSb2xlUGVybWlzc2lvbklkKGlkKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcm9sZVBlcm1pc3Npb25BcGkucmVtb3ZlKHBhcnNlZElkKTtcclxuICAgIHJldHVybiBub3JtYWxpemVSb2xlUGVybWlzc2lvbihyZXNwb25zZS5kYXRhKTtcclxuICB9KTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgbGlzdFJvbGVQZXJtaXNzaW9ucyxcclxuICBnZXRSb2xlUGVybWlzc2lvbixcclxuICBjcmVhdGVSb2xlUGVybWlzc2lvbixcclxuICB1cGRhdGVSb2xlUGVybWlzc2lvbixcclxuICBkZWxldGVSb2xlUGVybWlzc2lvbixcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFJQSxJQUFBQSxPQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxnQkFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsZ0JBQUEsR0FBQUgsT0FBQTtBQU1BLElBQU1JLE9BQU87RUFBQSxJQUFBQyxJQUFBLE9BQUFDLGtCQUFBLENBQUFDLE9BQUEsRUFBRyxXQUFPQyxJQUFJLEVBQUs7SUFDOUIsSUFBSTtNQUNGLGFBQWFBLElBQUksQ0FBQyxDQUFDO0lBQ3JCLENBQUMsQ0FBQyxPQUFPQyxLQUFLLEVBQUU7TUFDZCxNQUFNLElBQUFDLG1CQUFXLEVBQUNELEtBQUssQ0FBQztJQUMxQjtFQUNGLENBQUM7RUFBQSxnQkFOS0wsT0FBT0EsQ0FBQU8sRUFBQTtJQUFBLE9BQUFOLElBQUEsQ0FBQU8sS0FBQSxPQUFBQyxTQUFBO0VBQUE7QUFBQSxHQU1aO0FBRUQsSUFBTUMsbUJBQW1CLEdBQUFDLE9BQUEsQ0FBQUQsbUJBQUE7RUFBQSxJQUFBRSxLQUFBLE9BQUFWLGtCQUFBLENBQUFDLE9BQUEsRUFBRztJQUFBLElBQU9VLE1BQU0sR0FBQUosU0FBQSxDQUFBSyxNQUFBLFFBQUFMLFNBQUEsUUFBQU0sU0FBQSxHQUFBTixTQUFBLE1BQUcsQ0FBQyxDQUFDO0lBQUEsT0FDNUNULE9BQU8sS0FBQUUsa0JBQUEsQ0FBQUMsT0FBQSxFQUFDLGFBQVk7TUFDbEIsSUFBTWEsTUFBTSxHQUFHLElBQUFDLDhDQUE2QixFQUFDSixNQUFNLENBQUM7TUFDcEQsSUFBTUssUUFBUSxTQUFTQyxpQ0FBaUIsQ0FBQ0MsSUFBSSxDQUFDSixNQUFNLENBQUM7TUFD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