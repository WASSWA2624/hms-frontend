9e4347c13a81bef96affc7b296b45dc4
_getJestObj().mock("../../config", function () {
  return {
    featureFlags: {
      ANALYTICS_ENABLED: true
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
function _getJestObj() {
  var _require3 = require("@jest/globals"),
    jest = _require3.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var _require = require("../../services/analytics"),
  trackEvent = _require.trackEvent,
  trackScreen = _require.trackScreen;
describe('Analytics Service', function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  describe('trackEvent', function () {
    it('should not throw when analytics is enabled', (0, _asyncToGenerator2.default)(function* () {
      expect(function () {
        return trackEvent('test_event', {
          key: 'value'
        });
      }).not.toThrow();
      yield new Promise(function (resolve) {
        return setTimeout(resolve, 0);
      });
    }));
    it('should no-op when analytics is disabled', (0, _asyncToGenerator2.default)(function* () {
      jest.resetModules();
      jest.doMock("../../config", function () {
        return {
          featureFlags: {
            ANALYTICS_ENABLED: false
          }
        };
      });
      var _require2 = require("../../services/analytics"),
        trackEventDisabled = _require2.trackEvent;
      trackEventDisabled('test_event', {
        key: 'value'
      });
      yield new Promise(function (resolve) {
        return setTimeout(resolve, 0);
      });
    }));
    it('should handle events without properties', (0, _asyncToGenerator2.default)(function* () {
      expect(function () {
        return trackEvent('simple_event');
      }).not.toThrow();
      yield new Promise(function (resolve) {
        return setTimeout(resolve, 0);
      });
    }));
    it('should silently fail on errors', (0, _asyncToGenerator2.default)(function* () {
      expect(function () {
        trackEvent('test_event');
      }).not.toThrow();
      yield new Promise(function (resolve) {
        return setTimeout(resolve, 0);
      });
    }));
  });
  describe('trackScreen', function () {
    it('should track screen view event', (0, _asyncToGenerator2.default)(function* () {
      expect(function () {
        return trackScreen('HomeScreen', {
          userId: '123'
        });
      }).not.toThrow();
      yield new Promise(function (resolve) {
        return setTimeout(resolve, 0);
      });
    }));
    it('should track screen view without additional properties', (0, _asyncToGenerator2.default)(function* () {
      expect(function () {
        return trackScreen('ProfileScreen');
      }).not.toThrow();
      yield new Promise(function (resolve) {
        return setTimeout(resolve, 0);
      });
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJmZWF0dXJlRmxhZ3MiLCJBTkFMWVRJQ1NfRU5BQkxFRCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZGVmYXVsdCIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZXF1aXJlMyIsImplc3QiLCJfcmVxdWlyZSIsInRyYWNrRXZlbnQiLCJ0cmFja1NjcmVlbiIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsImV4cGVjdCIsImtleSIsIm5vdCIsInRvVGhyb3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJyZXNldE1vZHVsZXMiLCJkb01vY2siLCJfcmVxdWlyZTIiLCJ0cmFja0V2ZW50RGlzYWJsZWQiLCJ1c2VySWQiXSwic291cmNlcyI6WyJhbmFseXRpY3MudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQW5hbHl0aWNzIFNlcnZpY2UgVGVzdHNcclxuICogRmlsZTogYW5hbHl0aWNzLnRlc3QuanNcclxuICovXHJcbi8vIE1vY2sgY29uZmlnXHJcbmplc3QubW9jaygnQGNvbmZpZycsICgpID0+ICh7XHJcbiAgZmVhdHVyZUZsYWdzOiB7XHJcbiAgICBBTkFMWVRJQ1NfRU5BQkxFRDogdHJ1ZSxcclxuICB9LFxyXG59KSk7XHJcblxyXG5jb25zdCB7IHRyYWNrRXZlbnQsIHRyYWNrU2NyZWVuIH0gPSByZXF1aXJlKCdAc2VydmljZXMvYW5hbHl0aWNzJyk7XHJcblxyXG5kZXNjcmliZSgnQW5hbHl0aWNzIFNlcnZpY2UnLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ3RyYWNrRXZlbnQnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIG5vdCB0aHJvdyB3aGVuIGFuYWx5dGljcyBpcyBlbmFibGVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBleHBlY3QoKCkgPT4gdHJhY2tFdmVudCgndGVzdF9ldmVudCcsIHsga2V5OiAndmFsdWUnIH0pKS5ub3QudG9UaHJvdygpO1xyXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIG5vLW9wIHdoZW4gYW5hbHl0aWNzIGlzIGRpc2FibGVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBqZXN0LnJlc2V0TW9kdWxlcygpO1xyXG4gICAgICBqZXN0LmRvTW9jaygnQGNvbmZpZycsICgpID0+ICh7XHJcbiAgICAgICAgZmVhdHVyZUZsYWdzOiB7XHJcbiAgICAgICAgICBBTkFMWVRJQ1NfRU5BQkxFRDogZmFsc2UsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgY29uc3QgeyB0cmFja0V2ZW50OiB0cmFja0V2ZW50RGlzYWJsZWQgfSA9IHJlcXVpcmUoJ0BzZXJ2aWNlcy9hbmFseXRpY3MnKTtcclxuICAgICAgdHJhY2tFdmVudERpc2FibGVkKCd0ZXN0X2V2ZW50JywgeyBrZXk6ICd2YWx1ZScgfSk7XHJcblxyXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBldmVudHMgd2l0aG91dCBwcm9wZXJ0aWVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBleHBlY3QoKCkgPT4gdHJhY2tFdmVudCgnc2ltcGxlX2V2ZW50JykpLm5vdC50b1Rocm93KCk7XHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgc2lsZW50bHkgZmFpbCBvbiBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIFNob3VsZCBub3QgdGhyb3dcclxuICAgICAgZXhwZWN0KCgpID0+IHtcclxuICAgICAgICB0cmFja0V2ZW50KCd0ZXN0X2V2ZW50Jyk7XHJcbiAgICAgIH0pLm5vdC50b1Rocm93KCk7XHJcblxyXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ3RyYWNrU2NyZWVuJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBzY3JlZW4gdmlldyBldmVudCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgZXhwZWN0KCgpID0+IHRyYWNrU2NyZWVuKCdIb21lU2NyZWVuJywgeyB1c2VySWQ6ICcxMjMnIH0pKS5ub3QudG9UaHJvdygpO1xyXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRyYWNrIHNjcmVlbiB2aWV3IHdpdGhvdXQgYWRkaXRpb25hbCBwcm9wZXJ0aWVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBleHBlY3QoKCkgPT4gdHJhY2tTY3JlZW4oJ1Byb2ZpbGVTY3JlZW4nKSkubm90LnRvVGhyb3coKTtcclxuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMCkpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuIl0sIm1hcHBpbmdzIjoiQUFLQUEsV0FBQSxHQUFLQyxJQUFJLGlCQUFZO0VBQUEsT0FBTztJQUMxQkMsWUFBWSxFQUFFO01BQ1pDLGlCQUFpQixFQUFFO0lBQ3JCO0VBQ0YsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUFDLElBQUFDLHNCQUFBLEdBQUFDLE9BQUEsaURBQUFDLE9BQUE7QUFBQSxJQUFBQyxrQkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQUEsU0FBQUwsWUFBQTtFQUFBLElBQUFRLFNBQUEsR0FBQUgsT0FBQTtJQUFBSSxJQUFBLEdBQUFELFNBQUEsQ0FBQUMsSUFBQTtFQUFBVCxXQUFBLFlBQUFBLFlBQUE7SUFBQSxPQUFBUyxJQUFBO0VBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFFSixJQUFBQyxRQUFBLEdBQW9DTCxPQUFPLDJCQUFzQixDQUFDO0VBQTFETSxVQUFVLEdBQUFELFFBQUEsQ0FBVkMsVUFBVTtFQUFFQyxXQUFXLEdBQUFGLFFBQUEsQ0FBWEUsV0FBVztBQUUvQkMsUUFBUSxDQUFDLG1CQUFtQixFQUFFLFlBQU07RUFDbENDLFVBQVUsQ0FBQyxZQUFNO0lBQ2ZMLElBQUksQ0FBQ00sYUFBYSxDQUFDLENBQUM7RUFDdEIsQ0FBQyxDQUFDO0VBRUZGLFFBQVEsQ0FBQyxZQUFZLEVBQUUsWUFBTTtJQUMzQkcsRUFBRSxDQUFDLDRDQUE0QyxNQUFBVCxrQkFBQSxDQUFBRCxPQUFBLEVBQUUsYUFBWTtNQUMzRFcsTUFBTSxDQUFDO1FBQUEsT0FBTU4sVUFBVSxDQUFDLFlBQVksRUFBRTtVQUFFTyxHQUFHLEVBQUU7UUFBUSxDQUFDLENBQUM7TUFBQSxFQUFDLENBQUNDLEdBQUcsQ0FBQ0MsT0FBTyxDQUFDLENBQUM7TUFDdEUsTUFBTSxJQUFJQyxPQUFPLENBQUMsVUFBQ0MsT0FBTztRQUFBLE9BQUtDLFVBQVUsQ0FBQ0QsT0FBTyxFQUFFLENBQUMsQ0FBQztNQUFBLEVBQUM7SUFDeEQsQ0FBQyxFQUFDO0lBRUZOLEVBQUUsQ0FBQyx5Q0FBeUMsTUFBQVQsa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7TUFDeERHLElBQUksQ0FBQ2UsWUFBWSxDQUFDLENBQUM7TUFDbkJmLElBQUksQ0FBQ2dCLE1BQU0saUJBQVk7UUFBQSxPQUFPO1VBQzVCdkIsWUFBWSxFQUFFO1lBQ1pDLGlCQUFpQixFQUFFO1VBQ3JCO1FBQ0YsQ0FBQztNQUFBLENBQUMsQ0FBQztNQUVILElBQUF1QixTQUFBLEdBQTJDckIsT0FBTywyQkFBc0IsQ0FBQztRQUFyRHNCLGtCQUFrQixHQUFBRCxTQUFBLENBQTlCZixVQUFVO01BQ2xCZ0Isa0JBQWtCLENBQUMsWUFBWSxFQUFFO1FBQUVULEdBQUcsRUFBRTtNQUFRLENBQUMsQ0FBQztNQUVsRCxNQUFNLElBQUlHLE9BQU8sQ0FBQyxVQUFDQyxPQUFPO1FBQUEsT0FBS0MsVUFBVSxDQUFDRCxPQUFPLEVBQUUsQ0FBQyxDQUFDO01BQUEsRUFBQztJQUN4RCxDQUFDLEVBQUM7SUFFRk4sRUFBRSxDQUFDLHlDQUF5QyxNQUFBVCxrQkFBQSxDQUFBRCxPQUFBLEVBQUUsYUFBWTtNQUN4RFcsTUFBTSxDQUFDO1FBQUEsT0FBTU4sVUFBVSxDQUFDLGNBQWMsQ0FBQztNQUFBLEVBQUMsQ0FBQ1EsR0FBRyxDQUFDQyxPQUFPLENBQUMsQ0FBQztNQUN0RCxNQUFNLElBQUlDLE9BQU8sQ0FBQyxVQUFDQyxPQUFPO1FBQUEsT0FBS0MsVUFBVSxDQUFDRCxPQUFPLEVBQUUsQ0FBQyxDQUFDO01BQUEsRUFBQztJQUN4RCxDQUFDLEVBQUM7SUFFRk4sRUFBRSxDQUFDLGdDQUFnQyxNQUFBVCxrQkFBQSxDQUFBRCxPQUFBLEVBQUUsYUFBWTtNQUUvQ1csTUFBTSxDQUFDLFlBQU07UUFDWE4sVUFBVSxDQUFDLFlBQVksQ0FBQztNQUMxQixDQUFDLENBQUMsQ0FBQ1EsR0FBRyxDQUFDQyxPQUFPLENBQUMsQ0FBQztNQUVoQixNQUFNLElBQUlDLE9BQU8sQ0FBQyxVQUFDQyxPQUFPO1FBQUEsT0FBS0MsVUFBVSxDQUFDRCxPQUFPLEVBQUUsQ0FBQyxDQUFDO01BQUEsRUFBQztJQUN4RCxDQUFDLEVBQUM7RUFDSixDQUFDLENBQUM7RUFFRlQsUUFBUSxDQUFDLGFBQWEsRUFBRSxZQUFNO0lBQzVCRyxFQUFFLENBQUMsZ0NBQWdDLE1BQUFULGtCQUFBLENBQUFELE9BQUEsRUFBRSxhQUFZO01BQy9DVyxNQUFNLENBQUM7UUFBQSxPQUFNTCxXQUFXLENBQUMsWUFBWSxFQUFFO1VBQUVnQixNQUFNLEVBQUU7UUFBTSxDQUFDLENBQUM7TUFBQSxFQUFDLENBQUNULEdBQUcsQ0FBQ0MsT0FBTyxDQUFDLENBQUM7TUFDeEUsTUFBTSxJQUFJQyxPQUFPLENBQUMsVUFBQ0MsT0FBTztRQUFBLE9BQUtDLFVBQVUsQ0FBQ0QsT0FBTyxFQUFFLENBQUMsQ0FBQztNQUFBLEVBQUM7SUFDeEQsQ0FBQyxFQUFDO0lBRUZOLEVBQUUsQ0FBQyx3REFBd0QsTUFBQVQsa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7TUFDdkVXLE1BQU0sQ0FBQztRQUFBLE9BQU1MLFdBQVcsQ0FBQyxlQUFlLENBQUM7TUFBQSxFQUFDLENBQUNPLEdBQUcsQ0FBQ0MsT0FBTyxDQUFDLENBQUM7TUFDeEQsTUFBTSxJQUFJQyxPQUFPLENBQUMsVUFBQ0MsT0FBTztRQUFBLE9BQUtDLFVBQVUsQ0FBQ0QsT0FBTyxFQUFFLENBQUMsQ0FBQztNQUFBLEVBQUM7SUFDeEQsQ0FBQyxFQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119