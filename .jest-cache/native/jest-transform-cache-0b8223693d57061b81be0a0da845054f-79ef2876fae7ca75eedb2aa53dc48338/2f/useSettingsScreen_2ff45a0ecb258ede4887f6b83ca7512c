a6580ea4098933804e8366d6cf2eefe1
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _react = require("react");
var _expoRouter = require("expo-router");
var _types = require("./types");
var useSettingsScreen = function useSettingsScreen() {
  var router = (0, _expoRouter.useRouter)();
  var pathname = (0, _expoRouter.usePathname)();
  var getCurrentTab = (0, _react.useCallback)(function () {
    var _tabMap$lastPart;
    var parts = pathname.split('/').filter(Boolean);
    var lastPart = parts[parts.length - 1];
    var segmentToTab = {
      'users': _types.SETTINGS_TABS.USER,
      'user-profiles': _types.SETTINGS_TABS.USER_PROFILE,
      'roles': _types.SETTINGS_TABS.ROLE,
      'permissions': _types.SETTINGS_TABS.PERMISSION,
      'role-permissions': _types.SETTINGS_TABS.ROLE_PERMISSION,
      'user-roles': _types.SETTINGS_TABS.USER_ROLE,
      'user-sessions': _types.SETTINGS_TABS.USER_SESSION,
      'tenants': _types.SETTINGS_TABS.TENANT,
      'facilities': _types.SETTINGS_TABS.FACILITY,
      'branches': _types.SETTINGS_TABS.BRANCH,
      'departments': _types.SETTINGS_TABS.DEPARTMENT,
      'units': _types.SETTINGS_TABS.UNIT,
      'rooms': _types.SETTINGS_TABS.ROOM,
      'wards': _types.SETTINGS_TABS.WARD,
      'beds': _types.SETTINGS_TABS.BED,
      'addresses': _types.SETTINGS_TABS.ADDRESS,
      'contacts': _types.SETTINGS_TABS.CONTACT,
      'api-keys': _types.SETTINGS_TABS.API_KEY,
      'api-key-permissions': _types.SETTINGS_TABS.API_KEY_PERMISSION,
      'user-mfas': _types.SETTINGS_TABS.USER_MFA,
      'oauth-accounts': _types.SETTINGS_TABS.OAUTH_ACCOUNT
    };
    if (lastPart === 'create' && parts.length >= 2) {
      var _segmentToTab$segment;
      var segment = parts[parts.length - 2];
      return (_segmentToTab$segment = segmentToTab[segment]) != null ? _segmentToTab$segment : _types.SETTINGS_TABS.GENERAL;
    }
    if (lastPart === 'edit' && parts.length >= 3) {
      var _segmentToTab$_segmen;
      var _segment = parts[parts.length - 3];
      return (_segmentToTab$_segmen = segmentToTab[_segment]) != null ? _segmentToTab$_segmen : _types.SETTINGS_TABS.GENERAL;
    }
    var tabMap = Object.assign({
      '': _types.SETTINGS_TABS.GENERAL,
      'general': _types.SETTINGS_TABS.GENERAL,
      'settings': _types.SETTINGS_TABS.GENERAL
    }, segmentToTab);
    return (_tabMap$lastPart = tabMap[lastPart]) != null ? _tabMap$lastPart : _types.SETTINGS_TABS.GENERAL;
  }, [pathname]);
  var selectedTab = getCurrentTab();
  var currentTabId = selectedTab;
  var tabs = (0, _react.useMemo)(function () {
    return _types.SETTINGS_TAB_ORDER.map(function (tabKey) {
      var _SETTINGS_TAB_ICONS$t;
      return {
        id: tabKey,
        label: `settings.tabs.${tabKey}`,
        testID: `settings-tab-${tabKey}`,
        icon: (_SETTINGS_TAB_ICONS$t = _types.SETTINGS_TAB_ICONS[tabKey]) != null ? _SETTINGS_TAB_ICONS$t : null
      };
    });
  }, []);
  var groupedTabs = (0, _react.useMemo)(function () {
    return _types.SETTINGS_SIDEBAR_GROUPS.map(function (group) {
      return {
        id: group.id,
        labelKey: group.labelKey,
        tabs: group.tabs.map(function (tabKey) {
          var _SETTINGS_TAB_ICONS$t2;
          return {
            id: tabKey,
            label: `settings.tabs.${tabKey}`,
            testID: `settings-tab-${tabKey}`,
            icon: (_SETTINGS_TAB_ICONS$t2 = _types.SETTINGS_TAB_ICONS[tabKey]) != null ? _SETTINGS_TAB_ICONS$t2 : null
          };
        })
      };
    });
  }, []);
  var handleTabChange = (0, _react.useCallback)(function (tabId) {
    var _routeMap;
    var routeMap = (_routeMap = {}, (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)(_routeMap, _types.SETTINGS_TABS.GENERAL, '/settings'), _types.SETTINGS_TABS.USER, '/settings/users'), _types.SETTINGS_TABS.USER_PROFILE, '/settings/user-profiles'), _types.SETTINGS_TABS.ROLE, '/settings/roles'), _types.SETTINGS_TABS.PERMISSION, '/settings/permissions'), _types.SETTINGS_TABS.ROLE_PERMISSION, '/settings/role-permissions'), _types.SETTINGS_TABS.USER_ROLE, '/settings/user-roles'), _types.SETTINGS_TABS.USER_SESSION, '/settings/user-sessions'), _types.SETTINGS_TABS.TENANT, '/settings/tenants'), _types.SETTINGS_TABS.FACILITY, '/settings/facilities'), (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)(_routeMap, _types.SETTINGS_TABS.BRANCH, '/settings/branches'), _types.SETTINGS_TABS.DEPARTMENT, '/settings/departments'), _types.SETTINGS_TABS.UNIT, '/settings/units'), _types.SETTINGS_TABS.ROOM, '/settings/rooms'), _types.SETTINGS_TABS.WARD, '/settings/wards'), _types.SETTINGS_TABS.BED, '/settings/beds'), _types.SETTINGS_TABS.ADDRESS, '/settings/addresses'), _types.SETTINGS_TABS.CONTACT, '/settings/contacts'), _types.SETTINGS_TABS.API_KEY, '/settings/api-keys'), _types.SETTINGS_TABS.API_KEY_PERMISSION, '/settings/api-key-permissions'), (0, _defineProperty2.default)((0, _defineProperty2.default)(_routeMap, _types.SETTINGS_TABS.USER_MFA, '/settings/user-mfas'), _types.SETTINGS_TABS.OAUTH_ACCOUNT, '/settings/oauth-accounts'));
    var route = routeMap[tabId];
    if (route) {
      router.push(route);
    }
  }, [router]);
  return {
    selectedTab: selectedTab,
    currentTabId: currentTabId,
    tabs: tabs,
    groupedTabs: groupedTabs,
    onTabChange: handleTabChange,
    testID: 'settings-screen',
    accessibilityLabel: 'settings.screen.label'
  };
};
var _default = exports.default = useSettingsScreen;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2V4cG9Sb3V0ZXIiLCJfdHlwZXMiLCJ1c2VTZXR0aW5nc1NjcmVlbiIsInJvdXRlciIsInVzZVJvdXRlciIsInBhdGhuYW1lIiwidXNlUGF0aG5hbWUiLCJnZXRDdXJyZW50VGFiIiwidXNlQ2FsbGJhY2siLCJfdGFiTWFwJGxhc3RQYXJ0IiwicGFydHMiLCJzcGxpdCIsImZpbHRlciIsIkJvb2xlYW4iLCJsYXN0UGFydCIsImxlbmd0aCIsInNlZ21lbnRUb1RhYiIsIlNFVFRJTkdTX1RBQlMiLCJVU0VSIiwiVVNFUl9QUk9GSUxFIiwiUk9MRSIsIlBFUk1JU1NJT04iLCJST0xFX1BFUk1JU1NJT04iLCJVU0VSX1JPTEUiLCJVU0VSX1NFU1NJT04iLCJURU5BTlQiLCJGQUNJTElUWSIsIkJSQU5DSCIsIkRFUEFSVE1FTlQiLCJVTklUIiwiUk9PTSIsIldBUkQiLCJCRUQiLCJBRERSRVNTIiwiQ09OVEFDVCIsIkFQSV9LRVkiLCJBUElfS0VZX1BFUk1JU1NJT04iLCJVU0VSX01GQSIsIk9BVVRIX0FDQ09VTlQiLCJfc2VnbWVudFRvVGFiJHNlZ21lbnQiLCJzZWdtZW50IiwiR0VORVJBTCIsIl9zZWdtZW50VG9UYWIkX3NlZ21lbiIsInRhYk1hcCIsIk9iamVjdCIsImFzc2lnbiIsInNlbGVjdGVkVGFiIiwiY3VycmVudFRhYklkIiwidGFicyIsInVzZU1lbW8iLCJTRVRUSU5HU19UQUJfT1JERVIiLCJtYXAiLCJ0YWJLZXkiLCJfU0VUVElOR1NfVEFCX0lDT05TJHQiLCJpZCIsImxhYmVsIiwidGVzdElEIiwiaWNvbiIsIlNFVFRJTkdTX1RBQl9JQ09OUyIsImdyb3VwZWRUYWJzIiwiU0VUVElOR1NfU0lERUJBUl9HUk9VUFMiLCJncm91cCIsImxhYmVsS2V5IiwiX1NFVFRJTkdTX1RBQl9JQ09OUyR0MiIsImhhbmRsZVRhYkNoYW5nZSIsInRhYklkIiwiX3JvdXRlTWFwIiwicm91dGVNYXAiLCJfZGVmaW5lUHJvcGVydHkyIiwiZGVmYXVsdCIsInJvdXRlIiwicHVzaCIsIm9uVGFiQ2hhbmdlIiwiYWNjZXNzaWJpbGl0eUxhYmVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidXNlU2V0dGluZ3NTY3JlZW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIHVzZVNldHRpbmdzU2NyZWVuIEhvb2tcclxuICogRmlsZTogdXNlU2V0dGluZ3NTY3JlZW4uanNcclxuICpcclxuICogTWFuYWdlcyB0aGUgU2V0dGluZ3MgbWFpbiBzY3JlZW4gbG9naWMgaW5jbHVkaW5nIHRhYiBuYXZpZ2F0aW9uXHJcbiAqIFBlciBmZWF0dXJlcy1kb21haW4ubWRjOiBCdXNpbmVzcyBsb2dpYyBzZXBhcmF0ZWQgZnJvbSBVSVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVBhdGhuYW1lIH0gZnJvbSAnZXhwby1yb3V0ZXInO1xyXG5pbXBvcnQgeyBTRVRUSU5HU19UQUJTLCBTRVRUSU5HU19UQUJfT1JERVIsIFNFVFRJTkdTX1NJREVCQVJfR1JPVVBTLCBTRVRUSU5HU19UQUJfSUNPTlMgfSBmcm9tICcuL3R5cGVzJztcclxuXHJcbi8qKlxyXG4gKiB1c2VTZXR0aW5nc1NjcmVlbiBob29rXHJcbiAqIE1hbmFnZXMgU2V0dGluZ3Mgc2NyZWVuIHRhYiBzdGF0ZSBhbmQgbmF2aWdhdGlvblxyXG4gKiBcclxuICogQHJldHVybnMge09iamVjdH0gU2V0dGluZ3Mgc2NyZWVuIHN0YXRlIGFuZCBoYW5kbGVyc1xyXG4gKi9cclxuY29uc3QgdXNlU2V0dGluZ3NTY3JlZW4gPSAoKSA9PiB7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcbiAgY29uc3QgcGF0aG5hbWUgPSB1c2VQYXRobmFtZSgpO1xyXG4gIFxyXG4gIC8vIEV4dHJhY3QgY3VycmVudCB0YWIgZnJvbSBwYXRobmFtZVxyXG4gIC8vIEUuZy4sIC9zZXR0aW5ncy91c2VycyAtPiBVU0VSOyAvc2V0dGluZ3MvdGVuYW50cy9jcmVhdGUgLT4gVEVOQU5UOyAvc2V0dGluZ3MvZmFjaWxpdGllcy9baWRdL2VkaXQgLT4gRkFDSUxJVFlcclxuICBjb25zdCBnZXRDdXJyZW50VGFiID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgY29uc3QgcGFydHMgPSBwYXRobmFtZS5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKTtcclxuICAgIGNvbnN0IGxhc3RQYXJ0ID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgY29uc3Qgc2VnbWVudFRvVGFiID0ge1xyXG4gICAgICAndXNlcnMnOiBTRVRUSU5HU19UQUJTLlVTRVIsXHJcbiAgICAgICd1c2VyLXByb2ZpbGVzJzogU0VUVElOR1NfVEFCUy5VU0VSX1BST0ZJTEUsXHJcbiAgICAgICdyb2xlcyc6IFNFVFRJTkdTX1RBQlMuUk9MRSxcclxuICAgICAgJ3Blcm1pc3Npb25zJzogU0VUVElOR1NfVEFCUy5QRVJNSVNTSU9OLFxyXG4gICAgICAncm9sZS1wZXJtaXNzaW9ucyc6IFNFVFRJTkdTX1RBQlMuUk9MRV9QRVJNSVNTSU9OLFxyXG4gICAgICAndXNlci1yb2xlcyc6IFNFVFRJTkdTX1RBQlMuVVNFUl9ST0xFLFxyXG4gICAgICAndXNlci1zZXNzaW9ucyc6IFNFVFRJTkdTX1RBQlMuVVNFUl9TRVNTSU9OLFxyXG4gICAgICAndGVuYW50cyc6IFNFVFRJTkdTX1RBQlMuVEVOQU5ULFxyXG4gICAgICAnZmFjaWxpdGllcyc6IFNFVFRJTkdTX1RBQlMuRkFDSUxJVFksXHJcbiAgICAgICdicmFuY2hlcyc6IFNFVFRJTkdTX1RBQlMuQlJBTkNILFxyXG4gICAgICAnZGVwYXJ0bWVudHMnOiBTRVRUSU5HU19UQUJTLkRFUEFSVE1FTlQsXHJcbiAgICAgICd1bml0cyc6IFNFVFRJTkdTX1RBQlMuVU5JVCxcclxuICAgICAgJ3Jvb21zJzogU0VUVElOR1NfVEFCUy5ST09NLFxyXG4gICAgICAnd2FyZHMnOiBTRVRUSU5HU19UQUJTLldBUkQsXHJcbiAgICAgICdiZWRzJzogU0VUVElOR1NfVEFCUy5CRUQsXHJcbiAgICAgICdhZGRyZXNzZXMnOiBTRVRUSU5HU19UQUJTLkFERFJFU1MsXHJcbiAgICAgICdjb250YWN0cyc6IFNFVFRJTkdTX1RBQlMuQ09OVEFDVCxcclxuICAgICAgJ2FwaS1rZXlzJzogU0VUVElOR1NfVEFCUy5BUElfS0VZLFxyXG4gICAgICAnYXBpLWtleS1wZXJtaXNzaW9ucyc6IFNFVFRJTkdTX1RBQlMuQVBJX0tFWV9QRVJNSVNTSU9OLFxyXG4gICAgICAndXNlci1tZmFzJzogU0VUVElOR1NfVEFCUy5VU0VSX01GQSxcclxuICAgICAgJ29hdXRoLWFjY291bnRzJzogU0VUVElOR1NfVEFCUy5PQVVUSF9BQ0NPVU5ULFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAobGFzdFBhcnQgPT09ICdjcmVhdGUnICYmIHBhcnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIGNvbnN0IHNlZ21lbnQgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAyXTtcclxuICAgICAgcmV0dXJuIHNlZ21lbnRUb1RhYltzZWdtZW50XSA/PyBTRVRUSU5HU19UQUJTLkdFTkVSQUw7XHJcbiAgICB9XHJcbiAgICBpZiAobGFzdFBhcnQgPT09ICdlZGl0JyAmJiBwYXJ0cy5sZW5ndGggPj0gMykge1xyXG4gICAgICBjb25zdCBzZWdtZW50ID0gcGFydHNbcGFydHMubGVuZ3RoIC0gM107XHJcbiAgICAgIHJldHVybiBzZWdtZW50VG9UYWJbc2VnbWVudF0gPz8gU0VUVElOR1NfVEFCUy5HRU5FUkFMO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRhYk1hcCA9IHtcclxuICAgICAgJyc6IFNFVFRJTkdTX1RBQlMuR0VORVJBTCxcclxuICAgICAgJ2dlbmVyYWwnOiBTRVRUSU5HU19UQUJTLkdFTkVSQUwsXHJcbiAgICAgICdzZXR0aW5ncyc6IFNFVFRJTkdTX1RBQlMuR0VORVJBTCxcclxuICAgICAgLi4uc2VnbWVudFRvVGFiLFxyXG4gICAgfTtcclxuICAgIHJldHVybiB0YWJNYXBbbGFzdFBhcnRdID8/IFNFVFRJTkdTX1RBQlMuR0VORVJBTDtcclxuICB9LCBbcGF0aG5hbWVdKTtcclxuXHJcbiAgY29uc3Qgc2VsZWN0ZWRUYWIgPSBnZXRDdXJyZW50VGFiKCk7XHJcbiAgY29uc3QgY3VycmVudFRhYklkID0gc2VsZWN0ZWRUYWI7XHJcblxyXG4gIGNvbnN0IHRhYnMgPSB1c2VNZW1vKCgpID0+IFNFVFRJTkdTX1RBQl9PUkRFUi5tYXAodGFiS2V5ID0+ICh7XHJcbiAgICBpZDogdGFiS2V5LFxyXG4gICAgbGFiZWw6IGBzZXR0aW5ncy50YWJzLiR7dGFiS2V5fWAsXHJcbiAgICB0ZXN0SUQ6IGBzZXR0aW5ncy10YWItJHt0YWJLZXl9YCxcclxuICAgIGljb246IFNFVFRJTkdTX1RBQl9JQ09OU1t0YWJLZXldID8/IG51bGwsXHJcbiAgfSkpLCBbXSk7XHJcblxyXG4gIGNvbnN0IGdyb3VwZWRUYWJzID0gdXNlTWVtbygoKSA9PiBTRVRUSU5HU19TSURFQkFSX0dST1VQUy5tYXAoZ3JvdXAgPT4gKHtcclxuICAgIGlkOiBncm91cC5pZCxcclxuICAgIGxhYmVsS2V5OiBncm91cC5sYWJlbEtleSxcclxuICAgIHRhYnM6IGdyb3VwLnRhYnMubWFwKHRhYktleSA9PiAoe1xyXG4gICAgICBpZDogdGFiS2V5LFxyXG4gICAgICBsYWJlbDogYHNldHRpbmdzLnRhYnMuJHt0YWJLZXl9YCxcclxuICAgICAgdGVzdElEOiBgc2V0dGluZ3MtdGFiLSR7dGFiS2V5fWAsXHJcbiAgICAgIGljb246IFNFVFRJTkdTX1RBQl9JQ09OU1t0YWJLZXldID8/IG51bGwsXHJcbiAgICB9KSksXHJcbiAgfSkpLCBbXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVRhYkNoYW5nZSA9IHVzZUNhbGxiYWNrKCh0YWJJZCkgPT4ge1xyXG4gICAgLy8gTWFwIHRhYiB0byByb3V0ZSBwYXRoOyBuYXZpZ2F0aW9uIHVwZGF0ZXMgcGF0aG5hbWUgYW5kIGN1cnJlbnRUYWJJZCBmb2xsb3dzXHJcbiAgICBjb25zdCByb3V0ZU1hcCA9IHtcclxuICAgICAgW1NFVFRJTkdTX1RBQlMuR0VORVJBTF06ICcvc2V0dGluZ3MnLFxyXG4gICAgICBbU0VUVElOR1NfVEFCUy5VU0VSXTogJy9zZXR0aW5ncy91c2VycycsXHJcbiAgICAgIFtTRVRUSU5HU19UQUJTLlVTRVJfUFJPRklMRV06ICcvc2V0dGluZ3MvdXNlci1wcm9maWxlcycsXHJcbiAgICAgIFtTRVRUSU5HU19UQUJTLlJPTEVdOiAnL3NldHRpbmdzL3JvbGVzJyxcclxuICAgICAgW1NFVFRJTkdTX1RBQlMuUEVSTUlTU0lPTl06ICcvc2V0dGluZ3MvcGVybWlzc2lvbnMnLFxyXG4gICAgICBbU0VUVElOR1NfVEFCUy5ST0xFX1BFUk1JU1NJT05dOiAnL3NldHRpbmdzL3JvbGUtcGVybWlzc2lvbnMnLFxyXG4gICAgICBbU0VUVElOR1NfVEFCUy5VU0VSX1JPTEVdOiAnL3NldHRpbmdzL3VzZXItcm9sZXMnLFxyXG4gICAgICBbU0VUVElOR1NfVEFCUy5VU0VSX1NFU1NJT05dOiAnL3NldHRpbmdzL3VzZXItc2Vzc2lvbnMnLFxyXG4gICAgICBbU0VUVElOR1NfVEFCUy5URU5BTlRdOiAnL3NldHRpbmdzL3RlbmFudHMnLFxyXG4gICAgICBbU0VUVElOR1NfVEFCUy5GQUNJTElUWV06ICcvc2V0dGluZ3MvZmFjaWxpdGllcycsXHJcbiAgICAgIFtTRVRUSU5HU19UQUJTLkJSQU5DSF06ICcvc2V0dGluZ3MvYnJhbmNoZXMnLFxyXG4gICAgICBbU0VUVElOR1NfVEFCUy5ERVBBUlRNRU5UXTogJy9zZXR0aW5ncy9kZXBhcnRtZW50cycsXHJcbiAgICAgIFtTRVRUSU5HU19UQUJTLlVOSVRdOiAnL3NldHRpbmdzL3VuaXRzJyxcclxuICAgICAgW1NFVFRJTkdTX1RBQlMuUk9PTV06ICcvc2V0dGluZ3Mvcm9vbXMnLFxyXG4gICAgICBbU0VUVElOR1NfVEFCUy5XQVJEXTogJy9zZXR0aW5ncy93YXJkcycsXHJcbiAgICAgIFtTRVRUSU5HU19UQUJTLkJFRF06ICcvc2V0dGluZ3MvYmVkcycsXHJcbiAgICAgIFtTRVRUSU5HU19UQUJTLkFERFJFU1NdOiAnL3NldHRpbmdzL2FkZHJlc3NlcycsXHJcbiAgICAgIFtTRVRUSU5HU19UQUJTLkNPTlRBQ1RdOiAnL3NldHRpbmdzL2NvbnRhY3RzJyxcclxuICAgICAgW1NFVFRJTkdTX1RBQlMuQVBJX0tFWV06ICcvc2V0dGluZ3MvYXBpLWtleXMnLFxyXG4gICAgICBbU0VUVElOR1NfVEFCUy5BUElfS0VZX1BFUk1JU1NJT05dOiAnL3NldHRpbmdzL2FwaS1rZXktcGVybWlzc2lvbnMnLFxyXG4gICAgICBbU0VUVElOR1NfVEFCUy5VU0VSX01GQV06ICcvc2V0dGluZ3MvdXNlci1tZmFzJyxcclxuICAgICAgW1NFVFRJTkdTX1RBQlMuT0FVVEhfQUNDT1VOVF06ICcvc2V0dGluZ3Mvb2F1dGgtYWNjb3VudHMnLFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgY29uc3Qgcm91dGUgPSByb3V0ZU1hcFt0YWJJZF07XHJcbiAgICBpZiAocm91dGUpIHtcclxuICAgICAgcm91dGVyLnB1c2gocm91dGUpO1xyXG4gICAgfVxyXG4gIH0sIFtyb3V0ZXJdKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHNlbGVjdGVkVGFiLFxyXG4gICAgY3VycmVudFRhYklkLFxyXG4gICAgdGFicyxcclxuICAgIGdyb3VwZWRUYWJzLFxyXG4gICAgb25UYWJDaGFuZ2U6IGhhbmRsZVRhYkNoYW5nZSxcclxuICAgIHRlc3RJRDogJ3NldHRpbmdzLXNjcmVlbicsXHJcbiAgICBhY2Nlc3NpYmlsaXR5TGFiZWw6ICdzZXR0aW5ncy5zY3JlZW4ubGFiZWwnLFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VTZXR0aW5nc1NjcmVlbjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFRQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJ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