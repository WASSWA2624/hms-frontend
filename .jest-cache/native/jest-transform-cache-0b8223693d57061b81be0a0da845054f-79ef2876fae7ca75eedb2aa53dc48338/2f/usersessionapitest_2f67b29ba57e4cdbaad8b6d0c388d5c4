e64086ce62ca70cae9a433041e46a73d
_getJestObj().mock("../../../services/api", function () {
  return {
    apiClient: jest.fn(),
    buildQueryString: jest.fn(function () {
      return '?page=1';
    })
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _endpoints = require("../../../config/endpoints");
var _api = require("../../../services/api");
var _userSession = require("../../../features/user-session/user-session.api");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('user-session.api', function () {
  it('lists user sessions with query params', (0, _asyncToGenerator2.default)(function* () {
    _api.apiClient.mockResolvedValue({
      data: []
    });
    yield (0, _userSession.listUserSessionsApi)({
      page: 1
    });
    expect(_api.buildQueryString).toHaveBeenCalledWith({
      page: 1
    });
    expect(_api.apiClient).toHaveBeenCalledWith({
      url: `${_endpoints.endpoints.USER_SESSIONS.LIST}?page=1`,
      method: 'GET'
    });
  }));
  it('gets a user session', (0, _asyncToGenerator2.default)(function* () {
    _api.apiClient.mockResolvedValue({
      data: {
        id: '1'
      }
    });
    yield (0, _userSession.getUserSessionApi)('1');
    expect(_api.apiClient).toHaveBeenCalledWith({
      url: _endpoints.endpoints.USER_SESSIONS.GET('1'),
      method: 'GET'
    });
  }));
  it('deletes a user session', (0, _asyncToGenerator2.default)(function* () {
    _api.apiClient.mockResolvedValue({
      data: {
        id: '1'
      }
    });
    yield (0, _userSession.deleteUserSessionApi)('1');
    expect(_api.apiClient).toHaveBeenCalledWith({
      url: _endpoints.endpoints.USER_SESSIONS.DELETE('1'),
      method: 'DELETE'
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJhcGlDbGllbnQiLCJqZXN0IiwiZm4iLCJidWlsZFF1ZXJ5U3RyaW5nIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJkZWZhdWx0IiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX2VuZHBvaW50cyIsIl9hcGkiLCJfdXNlclNlc3Npb24iLCJfcmVxdWlyZSIsImRlc2NyaWJlIiwiaXQiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImRhdGEiLCJsaXN0VXNlclNlc3Npb25zQXBpIiwicGFnZSIsImV4cGVjdCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwidXJsIiwiZW5kcG9pbnRzIiwiVVNFUl9TRVNTSU9OUyIsIkxJU1QiLCJtZXRob2QiLCJpZCIsImdldFVzZXJTZXNzaW9uQXBpIiwiR0VUIiwiZGVsZXRlVXNlclNlc3Npb25BcGkiLCJERUxFVEUiXSwic291cmNlcyI6WyJ1c2VyLXNlc3Npb24uYXBpLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFVzZXIgU2Vzc2lvbiBBUEkgVGVzdHNcclxuICogRmlsZTogdXNlci1zZXNzaW9uLmFwaS50ZXN0LmpzXHJcbiAqL1xyXG5pbXBvcnQgeyBlbmRwb2ludHMgfSBmcm9tICdAY29uZmlnL2VuZHBvaW50cyc7XHJcbmltcG9ydCB7IGFwaUNsaWVudCwgYnVpbGRRdWVyeVN0cmluZyB9IGZyb20gJ0BzZXJ2aWNlcy9hcGknO1xyXG5pbXBvcnQge1xyXG4gIGxpc3RVc2VyU2Vzc2lvbnNBcGksXHJcbiAgZ2V0VXNlclNlc3Npb25BcGksXHJcbiAgZGVsZXRlVXNlclNlc3Npb25BcGksXHJcbn0gZnJvbSAnQGZlYXR1cmVzL3VzZXItc2Vzc2lvbi91c2VyLXNlc3Npb24uYXBpJztcclxuXHJcbmplc3QubW9jaygnQHNlcnZpY2VzL2FwaScsICgpID0+ICh7XHJcbiAgYXBpQ2xpZW50OiBqZXN0LmZuKCksXHJcbiAgYnVpbGRRdWVyeVN0cmluZzogamVzdC5mbigoKSA9PiAnP3BhZ2U9MScpLFxyXG59KSk7XHJcblxyXG5kZXNjcmliZSgndXNlci1zZXNzaW9uLmFwaScsICgpID0+IHtcclxuICBpdCgnbGlzdHMgdXNlciBzZXNzaW9ucyB3aXRoIHF1ZXJ5IHBhcmFtcycsIGFzeW5jICgpID0+IHtcclxuICAgIGFwaUNsaWVudC5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IFtdIH0pO1xyXG4gICAgYXdhaXQgbGlzdFVzZXJTZXNzaW9uc0FwaSh7IHBhZ2U6IDEgfSk7XHJcbiAgICBleHBlY3QoYnVpbGRRdWVyeVN0cmluZykudG9IYXZlQmVlbkNhbGxlZFdpdGgoeyBwYWdlOiAxIH0pO1xyXG4gICAgZXhwZWN0KGFwaUNsaWVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xyXG4gICAgICB1cmw6IGAke2VuZHBvaW50cy5VU0VSX1NFU1NJT05TLkxJU1R9P3BhZ2U9MWAsXHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2dldHMgYSB1c2VyIHNlc3Npb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICBhcGlDbGllbnQubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiB7IGlkOiAnMScgfSB9KTtcclxuICAgIGF3YWl0IGdldFVzZXJTZXNzaW9uQXBpKCcxJyk7XHJcbiAgICBleHBlY3QoYXBpQ2xpZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XHJcbiAgICAgIHVybDogZW5kcG9pbnRzLlVTRVJfU0VTU0lPTlMuR0VUKCcxJyksXHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2RlbGV0ZXMgYSB1c2VyIHNlc3Npb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICBhcGlDbGllbnQubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiB7IGlkOiAnMScgfSB9KTtcclxuICAgIGF3YWl0IGRlbGV0ZVVzZXJTZXNzaW9uQXBpKCcxJyk7XHJcbiAgICBleHBlY3QoYXBpQ2xpZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XHJcbiAgICAgIHVybDogZW5kcG9pbnRzLlVTRVJfU0VTU0lPTlMuREVMRVRFKCcxJyksXHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBWUFBLFdBQUEsR0FBS0MsSUFBSSwwQkFBa0I7RUFBQSxPQUFPO0lBQ2hDQyxTQUFTLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDcEJDLGdCQUFnQixFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQztNQUFBLE9BQU0sU0FBUztJQUFBO0VBQzNDLENBQUM7QUFBQSxDQUFDLENBQUM7QUFBQyxJQUFBRSxzQkFBQSxHQUFBQyxPQUFBLGlEQUFBQyxPQUFBO0FBQUEsSUFBQUMsa0JBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQVhKLElBQUFHLFVBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLElBQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLFlBQUEsR0FBQUwsT0FBQTtBQUlpRCxTQUFBUCxZQUFBO0VBQUEsSUFBQWEsUUFBQSxHQUFBTixPQUFBO0lBQUFKLElBQUEsR0FBQVUsUUFBQSxDQUFBVixJQUFBO0VBQUFILFdBQUEsWUFBQUEsWUFBQTtJQUFBLE9BQUFHLElBQUE7RUFBQTtFQUFBLE9BQUFBLElBQUE7QUFBQTtBQU9qRFcsUUFBUSxDQUFDLGtCQUFrQixFQUFFLFlBQU07RUFDakNDLEVBQUUsQ0FBQyx1Q0FBdUMsTUFBQU4sa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7SUFDdEROLGNBQVMsQ0FBQ2MsaUJBQWlCLENBQUM7TUFBRUMsSUFBSSxFQUFFO0lBQUcsQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sSUFBQUMsZ0NBQW1CLEVBQUM7TUFBRUMsSUFBSSxFQUFFO0lBQUUsQ0FBQyxDQUFDO0lBQ3RDQyxNQUFNLENBQUNmLHFCQUFnQixDQUFDLENBQUNnQixvQkFBb0IsQ0FBQztNQUFFRixJQUFJLEVBQUU7SUFBRSxDQUFDLENBQUM7SUFDMURDLE1BQU0sQ0FBQ2xCLGNBQVMsQ0FBQyxDQUFDbUIsb0JBQW9CLENBQUM7TUFDckNDLEdBQUcsRUFBRSxHQUFHQyxvQkFBUyxDQUFDQyxhQUFhLENBQUNDLElBQUksU0FBUztNQUM3Q0MsTUFBTSxFQUFFO0lBQ1YsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxFQUFDO0VBRUZYLEVBQUUsQ0FBQyxxQkFBcUIsTUFBQU4sa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7SUFDcENOLGNBQVMsQ0FBQ2MsaUJBQWlCLENBQUM7TUFBRUMsSUFBSSxFQUFFO1FBQUVVLEVBQUUsRUFBRTtNQUFJO0lBQUUsQ0FBQyxDQUFDO0lBQ2xELE1BQU0sSUFBQUMsOEJBQWlCLEVBQUMsR0FBRyxDQUFDO0lBQzVCUixNQUFNLENBQUNsQixjQUFTLENBQUMsQ0FBQ21CLG9CQUFvQixDQUFDO01BQ3JDQyxHQUFHLEVBQUVDLG9CQUFTLENBQUNDLGFBQWEsQ0FBQ0ssR0FBRyxDQUFDLEdBQUcsQ0FBQztNQUNyQ0gsTUFBTSxFQUFFO0lBQ1YsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxFQUFDO0VBRUZYLEVBQUUsQ0FBQyx3QkFBd0IsTUFBQU4sa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7SUFDdkNOLGNBQVMsQ0FBQ2MsaUJBQWlCLENBQUM7TUFBRUMsSUFBSSxFQUFFO1FBQUVVLEVBQUUsRUFBRTtNQUFJO0lBQUUsQ0FBQyxDQUFDO0lBQ2xELE1BQU0sSUFBQUcsaUNBQW9CLEVBQUMsR0FBRyxDQUFDO0lBQy9CVixNQUFNLENBQUNsQixjQUFTLENBQUMsQ0FBQ21CLG9CQUFvQixDQUFDO01BQ3JDQyxHQUFHLEVBQUVDLG9CQUFTLENBQUNDLGFBQWEsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUN4Q0wsTUFBTSxFQUFFO0lBQ1YsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxFQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119