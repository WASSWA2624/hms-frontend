3a30f38ff017b9ff57327166d275e60c
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireWildcard(require("react"));
var _expoRouter = require("expo-router");
var _hooks = require("../../../../hooks");
var _SidebarWeb = require("./Sidebar.web.styles");
var _SidebarItem = _interopRequireDefault(require("../SidebarItem"));
var _sideMenu = require("../../../../config/sideMenu");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["items", "itemsI18nPrefix", "collapsed", "accessibilityLabel", "testID", "className", "style"];
var isItemActive = function isItemActive(pathname, href) {
  if (!href) return false;
  if (pathname === href) return true;
  if (href !== '/' && pathname.startsWith(href + '/')) return true;
  return false;
};
var SidebarWeb = function SidebarWeb(_ref) {
  var _ref$items = _ref.items,
    items = _ref$items === void 0 ? _sideMenu.SIDE_MENU_ITEMS : _ref$items,
    _ref$itemsI18nPrefix = _ref.itemsI18nPrefix,
    itemsI18nPrefix = _ref$itemsI18nPrefix === void 0 ? 'navigation.items.main' : _ref$itemsI18nPrefix,
    _ref$collapsed = _ref.collapsed,
    collapsed = _ref$collapsed === void 0 ? false : _ref$collapsed,
    accessibilityLabel = _ref.accessibilityLabel,
    testID = _ref.testID,
    className = _ref.className,
    style = _ref.style,
    rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var pathname = (0, _expoRouter.usePathname)();
  var topLevel = (0, _react.useMemo)(function () {
    return Array.isArray(items) ? items : [];
  }, [items]);
  return (0, _jsxRuntime.jsx)(_SidebarWeb.StyledSidebar, Object.assign({
    collapsed: collapsed,
    accessibilityRole: "navigation",
    accessibilityLabel: accessibilityLabel || t('navigation.sidebar.title'),
    testID: testID,
    className: className,
    style: style
  }, rest, {
    children: (0, _jsxRuntime.jsx)(_SidebarWeb.StyledSidebarContent, {
      $collapsed: collapsed,
      children: topLevel.map(function (item) {
        var _item$href, _item$label;
        var href = (_item$href = item.href) != null ? _item$href : item.path;
        var i18nKey = item.id ? `${itemsI18nPrefix}.${item.id}` : '';
        var translated = i18nKey ? t(i18nKey) : '';
        var label = translated && translated !== i18nKey ? translated : (_item$label = item.label) != null ? _item$label : '';
        var active = isItemActive(pathname, href);
        return (0, _jsxRuntime.jsx)(_SidebarItem.default, {
          item: Object.assign({}, item, {
            href: href,
            label: label,
            path: href
          }),
          collapsed: collapsed,
          active: active
        }, item.id);
      })
    })
  }));
};
var _default = exports.default = SidebarWeb;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZXhwb1JvdXRlciIsIl9ob29rcyIsIl9TaWRlYmFyV2ViIiwiX1NpZGViYXJJdGVtIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9zaWRlTWVudSIsIl9qc3hSdW50aW1lIiwiX2V4Y2x1ZGVkIiwiaXNJdGVtQWN0aXZlIiwicGF0aG5hbWUiLCJocmVmIiwic3RhcnRzV2l0aCIsIlNpZGViYXJXZWIiLCJfcmVmIiwiX3JlZiRpdGVtcyIsIml0ZW1zIiwiU0lERV9NRU5VX0lURU1TIiwiX3JlZiRpdGVtc0kxOG5QcmVmaXgiLCJpdGVtc0kxOG5QcmVmaXgiLCJfcmVmJGNvbGxhcHNlZCIsImNvbGxhcHNlZCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsInRlc3RJRCIsImNsYXNzTmFtZSIsInN0eWxlIiwicmVzdCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJkZWZhdWx0IiwiX3VzZUkxOG4iLCJ1c2VJMThuIiwidCIsInVzZVBhdGhuYW1lIiwidG9wTGV2ZWwiLCJ1c2VNZW1vIiwiQXJyYXkiLCJpc0FycmF5IiwianN4IiwiU3R5bGVkU2lkZWJhciIsIk9iamVjdCIsImFzc2lnbiIsImFjY2Vzc2liaWxpdHlSb2xlIiwiY2hpbGRyZW4iLCJTdHlsZWRTaWRlYmFyQ29udGVudCIsIiRjb2xsYXBzZWQiLCJtYXAiLCJpdGVtIiwiX2l0ZW0kaHJlZiIsIl9pdGVtJGxhYmVsIiwicGF0aCIsImkxOG5LZXkiLCJpZCIsInRyYW5zbGF0ZWQiLCJsYWJlbCIsImFjdGl2ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlNpZGViYXIud2ViLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlUGF0aG5hbWUgfSBmcm9tICdleHBvLXJvdXRlcic7XHJcbmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICdAaG9va3MnO1xyXG5pbXBvcnQge1xyXG4gIFN0eWxlZFNpZGViYXIsXHJcbiAgU3R5bGVkU2lkZWJhckNvbnRlbnQsXHJcbn0gZnJvbSAnLi9TaWRlYmFyLndlYi5zdHlsZXMnO1xyXG5pbXBvcnQgU2lkZWJhckl0ZW0gZnJvbSAnQHBsYXRmb3JtL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9TaWRlYmFySXRlbSc7XHJcbmltcG9ydCB7IFNJREVfTUVOVV9JVEVNUyB9IGZyb20gJ0Bjb25maWcvc2lkZU1lbnUnO1xyXG5cclxuY29uc3QgaXNJdGVtQWN0aXZlID0gKHBhdGhuYW1lLCBocmVmKSA9PiB7XHJcbiAgaWYgKCFocmVmKSByZXR1cm4gZmFsc2U7XHJcbiAgaWYgKHBhdGhuYW1lID09PSBocmVmKSByZXR1cm4gdHJ1ZTtcclxuICBpZiAoaHJlZiAhPT0gJy8nICYmIHBhdGhuYW1lLnN0YXJ0c1dpdGgoaHJlZiArICcvJykpIHJldHVybiB0cnVlO1xyXG4gIHJldHVybiBmYWxzZTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTaWRlYmFyIGNvbXBvbmVudCBmb3IgV2ViXHJcbiAqIFJlbmRlcnMgbmF2IGl0ZW1zIHdpdGggcGF0aG5hbWUtYmFzZWQgYWN0aXZlIHN0YXRlIGFuZCBsb2NhbGl6ZWQgbGFiZWxzLlxyXG4gKi9cclxuY29uc3QgU2lkZWJhcldlYiA9ICh7XHJcbiAgaXRlbXMgPSBTSURFX01FTlVfSVRFTVMsXHJcbiAgaXRlbXNJMThuUHJlZml4ID0gJ25hdmlnYXRpb24uaXRlbXMubWFpbicsXHJcbiAgY29sbGFwc2VkID0gZmFsc2UsXHJcbiAgYWNjZXNzaWJpbGl0eUxhYmVsLFxyXG4gIHRlc3RJRCxcclxuICBjbGFzc05hbWUsXHJcbiAgc3R5bGUsXHJcbiAgLi4ucmVzdFxyXG59KSA9PiB7XHJcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XHJcbiAgY29uc3QgcGF0aG5hbWUgPSB1c2VQYXRobmFtZSgpO1xyXG4gIGNvbnN0IHRvcExldmVsID0gdXNlTWVtbygoKSA9PiAoQXJyYXkuaXNBcnJheShpdGVtcykgPyBpdGVtcyA6IFtdKSwgW2l0ZW1zXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8U3R5bGVkU2lkZWJhclxyXG4gICAgICBjb2xsYXBzZWQ9e2NvbGxhcHNlZH1cclxuICAgICAgYWNjZXNzaWJpbGl0eVJvbGU9XCJuYXZpZ2F0aW9uXCJcclxuICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXthY2Nlc3NpYmlsaXR5TGFiZWwgfHwgdCgnbmF2aWdhdGlvbi5zaWRlYmFyLnRpdGxlJyl9XHJcbiAgICAgIHRlc3RJRD17dGVzdElEfVxyXG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cclxuICAgICAgc3R5bGU9e3N0eWxlfVxyXG4gICAgICB7Li4ucmVzdH1cclxuICAgID5cclxuICAgICAgPFN0eWxlZFNpZGViYXJDb250ZW50ICRjb2xsYXBzZWQ9e2NvbGxhcHNlZH0+XHJcbiAgICAgICAge3RvcExldmVsLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgaHJlZiA9IGl0ZW0uaHJlZiA/PyBpdGVtLnBhdGg7XHJcbiAgICAgICAgICBjb25zdCBpMThuS2V5ID0gaXRlbS5pZCA/IGAke2l0ZW1zSTE4blByZWZpeH0uJHtpdGVtLmlkfWAgOiAnJztcclxuY29uc3QgdHJhbnNsYXRlZCA9IGkxOG5LZXkgPyB0KGkxOG5LZXkpIDogJyc7XHJcbmNvbnN0IGxhYmVsID0gKHRyYW5zbGF0ZWQgJiYgdHJhbnNsYXRlZCAhPT0gaTE4bktleSkgPyB0cmFuc2xhdGVkIDogKGl0ZW0ubGFiZWwgPz8gJycpO1xyXG4gICAgICAgICAgY29uc3QgYWN0aXZlID0gaXNJdGVtQWN0aXZlKHBhdGhuYW1lLCBocmVmKTtcclxuICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxTaWRlYmFySXRlbVxyXG4gICAgICAgICAgICAgIGtleT17aXRlbS5pZH1cclxuICAgICAgICAgICAgICBpdGVtPXt7IC4uLml0ZW0sIGhyZWYsIGxhYmVsLCBwYXRoOiBocmVmIH19XHJcbiAgICAgICAgICAgICAgY29sbGFwc2VkPXtjb2xsYXBzZWR9XHJcbiAgICAgICAgICAgICAgYWN0aXZlPXthY3RpdmV9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pfVxyXG4gICAgICA8L1N0eWxlZFNpZGViYXJDb250ZW50PlxyXG4gICAgPC9TdHlsZWRTaWRlYmFyPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaWRlYmFyV2ViO1xyXG5cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsV0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsTUFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsV0FBQSxHQUFBSCxPQUFBO0FBSUEsSUFBQUksWUFBQSxHQUFBQyxzQkFBQSxDQUFBTCxPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBTixPQUFBO0FBQW1ELElBQUFPLFdBQUEsR0FBQVAsT0FBQTtBQUFBLElBQUFRLFNBQUE7QUFFbkQsSUFBTUMsWUFBWSxHQUFHLFNBQWZBLFlBQVlBLENBQUlDLFFBQVEsRUFBRUMsSUFBSSxFQUFLO0VBQ3ZDLElBQUksQ0FBQ0EsSUFBSSxFQUFFLE9BQU8sS0FBSztFQUN2QixJQUFJRCxRQUFRLEtBQUtDLElBQUksRUFBRSxPQUFPLElBQUk7RUFDbEMsSUFBSUEsSUFBSSxLQUFLLEdBQUcsSUFBSUQsUUFBUSxDQUFDRSxVQUFVLENBQUNELElBQUksR0FBRyxHQUFHLENBQUMsRUFBRSxPQUFPLElBQUk7RUFDaEUsT0FBTyxLQUFLO0FBQ2QsQ0FBQztBQU1ELElBQU1FLFVBQVUsR0FBRyxTQUFiQSxVQUFVQSxDQUFBQyxJQUFBLEVBU1Y7RUFBQSxJQUFBQyxVQUFBLEdBQUFELElBQUEsQ0FSSkUsS0FBSztJQUFMQSxLQUFLLEdBQUFELFVBQUEsY0FBR0UseUJBQWUsR0FBQUYsVUFBQTtJQUFBRyxv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