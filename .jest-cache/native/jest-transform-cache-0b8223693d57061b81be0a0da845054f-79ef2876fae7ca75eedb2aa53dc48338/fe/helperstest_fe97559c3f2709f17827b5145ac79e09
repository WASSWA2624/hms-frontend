9da15994c169ec93b66601301cff8136
var _utils = require("../../utils");
describe('Helper Utilities', function () {
  describe('clamp', function () {
    test('should clamp within bounds', function () {
      expect((0, _utils.clamp)(5, 1, 10)).toBe(5);
      expect((0, _utils.clamp)(-1, 0, 10)).toBe(0);
      expect((0, _utils.clamp)(100, 0, 10)).toBe(10);
    });
    test('should handle non-number inputs deterministically', function () {
      expect((0, _utils.clamp)('5', 1, 10)).toBe(1);
      expect((0, _utils.clamp)(5, '1', 10)).toBe(5);
      expect((0, _utils.clamp)(5, 1, '10')).toBe(5);
    });
  });
  describe('normalizeWhitespace', function () {
    test('should trim and collapse whitespace', function () {
      expect((0, _utils.normalizeWhitespace)('  hello   world  ')).toBe('hello world');
      expect((0, _utils.normalizeWhitespace)('\nhello\t\tworld\n')).toBe('hello world');
    });
    test('should return empty string for non-string', function () {
      expect((0, _utils.normalizeWhitespace)(null)).toBe('');
      expect((0, _utils.normalizeWhitespace)(undefined)).toBe('');
      expect((0, _utils.normalizeWhitespace)(123)).toBe('');
    });
  });
  describe('safeJsonParse', function () {
    test('should parse valid json', function () {
      expect((0, _utils.safeJsonParse)('{"a":1}')).toEqual({
        a: 1
      });
    });
    test('should return fallback for invalid json', function () {
      expect((0, _utils.safeJsonParse)('{bad}', {
        ok: false
      })).toEqual({
        ok: false
      });
    });
    test('should return fallback for non-string', function () {
      expect((0, _utils.safeJsonParse)(null, 'x')).toBe('x');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXRpbHMiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJ0ZXN0IiwiZXhwZWN0IiwiY2xhbXAiLCJ0b0JlIiwibm9ybWFsaXplV2hpdGVzcGFjZSIsInVuZGVmaW5lZCIsInNhZmVKc29uUGFyc2UiLCJ0b0VxdWFsIiwiYSIsIm9rIl0sInNvdXJjZXMiOlsiaGVscGVycy50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBIZWxwZXIgVXRpbGl0aWVzIFRlc3RzXHJcbiAqIEZpbGU6IGhlbHBlcnMudGVzdC5qc1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IGNsYW1wLCBub3JtYWxpemVXaGl0ZXNwYWNlLCBzYWZlSnNvblBhcnNlIH0gZnJvbSAnQHV0aWxzJztcclxuXHJcbmRlc2NyaWJlKCdIZWxwZXIgVXRpbGl0aWVzJywgKCkgPT4ge1xyXG4gIGRlc2NyaWJlKCdjbGFtcCcsICgpID0+IHtcclxuICAgIHRlc3QoJ3Nob3VsZCBjbGFtcCB3aXRoaW4gYm91bmRzJywgKCkgPT4ge1xyXG4gICAgICBleHBlY3QoY2xhbXAoNSwgMSwgMTApKS50b0JlKDUpO1xyXG4gICAgICBleHBlY3QoY2xhbXAoLTEsIDAsIDEwKSkudG9CZSgwKTtcclxuICAgICAgZXhwZWN0KGNsYW1wKDEwMCwgMCwgMTApKS50b0JlKDEwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbm9uLW51bWJlciBpbnB1dHMgZGV0ZXJtaW5pc3RpY2FsbHknLCAoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChjbGFtcCgnNScsIDEsIDEwKSkudG9CZSgxKTtcclxuICAgICAgZXhwZWN0KGNsYW1wKDUsICcxJywgMTApKS50b0JlKDUpO1xyXG4gICAgICBleHBlY3QoY2xhbXAoNSwgMSwgJzEwJykpLnRvQmUoNSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ25vcm1hbGl6ZVdoaXRlc3BhY2UnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCdzaG91bGQgdHJpbSBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZScsICgpID0+IHtcclxuICAgICAgZXhwZWN0KG5vcm1hbGl6ZVdoaXRlc3BhY2UoJyAgaGVsbG8gICB3b3JsZCAgJykpLnRvQmUoJ2hlbGxvIHdvcmxkJyk7XHJcbiAgICAgIGV4cGVjdChub3JtYWxpemVXaGl0ZXNwYWNlKCdcXG5oZWxsb1xcdFxcdHdvcmxkXFxuJykpLnRvQmUoJ2hlbGxvIHdvcmxkJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIGVtcHR5IHN0cmluZyBmb3Igbm9uLXN0cmluZycsICgpID0+IHtcclxuICAgICAgZXhwZWN0KG5vcm1hbGl6ZVdoaXRlc3BhY2UobnVsbCkpLnRvQmUoJycpO1xyXG4gICAgICBleHBlY3Qobm9ybWFsaXplV2hpdGVzcGFjZSh1bmRlZmluZWQpKS50b0JlKCcnKTtcclxuICAgICAgZXhwZWN0KG5vcm1hbGl6ZVdoaXRlc3BhY2UoMTIzKSkudG9CZSgnJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ3NhZmVKc29uUGFyc2UnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCdzaG91bGQgcGFyc2UgdmFsaWQganNvbicsICgpID0+IHtcclxuICAgICAgZXhwZWN0KHNhZmVKc29uUGFyc2UoJ3tcImFcIjoxfScpKS50b0VxdWFsKHsgYTogMSB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gZmFsbGJhY2sgZm9yIGludmFsaWQganNvbicsICgpID0+IHtcclxuICAgICAgZXhwZWN0KHNhZmVKc29uUGFyc2UoJ3tiYWR9JywgeyBvazogZmFsc2UgfSkpLnRvRXF1YWwoeyBvazogZmFsc2UgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIGZhbGxiYWNrIGZvciBub24tc3RyaW5nJywgKCkgPT4ge1xyXG4gICAgICBleHBlY3Qoc2FmZUpzb25QYXJzZShudWxsLCAneCcp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