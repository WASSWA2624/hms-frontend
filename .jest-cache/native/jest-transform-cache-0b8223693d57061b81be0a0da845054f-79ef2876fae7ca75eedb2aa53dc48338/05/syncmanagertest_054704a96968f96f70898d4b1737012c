568819c0de73b1819617bf999252b89b
_getJestObj().mock("../../offline/queue", function () {
  return {
    getQueue: jest.fn(),
    removeFromQueue: jest.fn()
  };
});
_getJestObj().mock("../../services/api", function () {
  return {
    apiClient: jest.fn()
  };
});
_getJestObj().mock("../../offline/network.listener", function () {
  return {
    getIsOnline: jest.fn(),
    subscribe: jest.fn()
  };
});
_getJestObj().mock("../../errors", function () {
  return {
    handleError: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _errors = require("../../errors");
var _api = require("../../services/api");
var _queue = require("../../offline/queue");
var _network = require("../../offline/network.listener");
var _sync = require("../../offline/sync.manager");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('Sync Manager', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    (0, _sync.__unsafeResetForTests)();
    _network.getIsOnline.mockReturnValue(true);
    _queue.getQueue.mockResolvedValue([]);
    _queue.removeFromQueue.mockResolvedValue(true);
    _api.apiClient.mockResolvedValue({
      data: {},
      status: 200
    });
  });
  describe('processQueue', function () {
    it('skips processing when offline', (0, _asyncToGenerator2.default)(function* () {
      _network.getIsOnline.mockReturnValue(false);
      yield (0, _sync.processQueue)();
      expect(_queue.getQueue).not.toHaveBeenCalled();
      expect(_api.apiClient).not.toHaveBeenCalled();
    }));
    it('returns early when queue is empty', (0, _asyncToGenerator2.default)(function* () {
      _queue.getQueue.mockResolvedValue([]);
      yield (0, _sync.processQueue)();
      expect(_api.apiClient).not.toHaveBeenCalled();
    }));
    it('processes queue items when online', (0, _asyncToGenerator2.default)(function* () {
      var queue = [{
        id: '1',
        url: '/api/test1',
        method: 'POST'
      }, {
        id: '2',
        url: '/api/test2',
        method: 'GET'
      }];
      _queue.getQueue.mockResolvedValue(queue);
      yield (0, _sync.processQueue)();
      expect(_api.apiClient).toHaveBeenCalledTimes(2);
      expect(_api.apiClient).toHaveBeenCalledWith(queue[0]);
      expect(_api.apiClient).toHaveBeenCalledWith(queue[1]);
    }));
    it('removes item from queue after successful processing', (0, _asyncToGenerator2.default)(function* () {
      var queue = [{
        id: '1',
        url: '/api/test',
        method: 'POST'
      }];
      _queue.getQueue.mockResolvedValue(queue);
      yield (0, _sync.processQueue)();
      expect(_queue.removeFromQueue).toHaveBeenCalledWith('1');
      expect(_errors.handleError).not.toHaveBeenCalled();
    }));
    it('keeps item in queue on failure and reports via handleError', (0, _asyncToGenerator2.default)(function* () {
      var queue = [{
        id: '1',
        url: '/api/test',
        method: 'POST'
      }];
      _queue.getQueue.mockResolvedValue(queue);
      _api.apiClient.mockRejectedValue(new Error('API Error'));
      yield (0, _sync.processQueue)();
      expect(_queue.removeFromQueue).not.toHaveBeenCalled();
      expect(_errors.handleError).toHaveBeenCalled();
    }));
    it('continues processing after item failure', (0, _asyncToGenerator2.default)(function* () {
      var queue = [{
        id: '1',
        url: '/api/test1',
        method: 'POST'
      }, {
        id: '2',
        url: '/api/test2',
        method: 'GET'
      }];
      _queue.getQueue.mockResolvedValue(queue);
      _api.apiClient.mockRejectedValueOnce(new Error('API Error')).mockResolvedValueOnce({
        data: {},
        status: 200
      });
      yield (0, _sync.processQueue)();
      expect(_api.apiClient).toHaveBeenCalledTimes(2);
      expect(_queue.removeFromQueue).toHaveBeenCalledTimes(1);
      expect(_queue.removeFromQueue).toHaveBeenCalledWith('2');
    }));
  });
  describe('startSync', function () {
    it('subscribes once and returns unsubscribe function', function () {
      var unsubscribe = jest.fn();
      _network.subscribe.mockReturnValue(unsubscribe);
      var a = (0, _sync.startSync)();
      var b = (0, _sync.startSync)();
      expect(_network.subscribe).toHaveBeenCalledTimes(1);
      expect(a).toBe(unsubscribe);
      expect(b).toBe(unsubscribe);
    });
    it('triggers queue processing when network comes online', (0, _asyncToGenerator2.default)(function* () {
      var onChange;
      _network.subscribe.mockImplementation(function (fn) {
        onChange = fn;
        return jest.fn();
      });
      _queue.getQueue.mockResolvedValue([{
        id: '1',
        url: '/api/test',
        method: 'POST'
      }]);
      _api.apiClient.mockResolvedValue({
        data: {},
        status: 200
      });
      (0, _sync.startSync)();
      onChange(true);
      yield new Promise(function (r) {
        return setTimeout(r, 0);
      });
      expect(_api.apiClient).toHaveBeenCalledTimes(1);
      expect(_queue.removeFromQueue).toHaveBeenCalledWith('1');
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJnZXRRdWV1ZSIsImplc3QiLCJmbiIsInJlbW92ZUZyb21RdWV1ZSIsImFwaUNsaWVudCIsImdldElzT25saW5lIiwic3Vic2NyaWJlIiwiaGFuZGxlRXJyb3IiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImRlZmF1bHQiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfZXJyb3JzIiwiX2FwaSIsIl9xdWV1ZSIsIl9uZXR3b3JrIiwiX3N5bmMiLCJfcmVxdWlyZSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJfX3Vuc2FmZVJlc2V0Rm9yVGVzdHMiLCJtb2NrUmV0dXJuVmFsdWUiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImRhdGEiLCJzdGF0dXMiLCJpdCIsInByb2Nlc3NRdWV1ZSIsImV4cGVjdCIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJxdWV1ZSIsImlkIiwidXJsIiwibWV0aG9kIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwidW5zdWJzY3JpYmUiLCJhIiwic3RhcnRTeW5jIiwiYiIsInRvQmUiLCJvbkNoYW5nZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIlByb21pc2UiLCJyIiwic2V0VGltZW91dCJdLCJzb3VyY2VzIjpbInN5bmMubWFuYWdlci50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBTeW5jIE1hbmFnZXIgVGVzdHNcclxuICogRmlsZTogc3luYy5tYW5hZ2VyLnRlc3QuanNcclxuICovXHJcbmltcG9ydCB7IGhhbmRsZUVycm9yIH0gZnJvbSAnQGVycm9ycyc7XHJcbmltcG9ydCB7IGFwaUNsaWVudCB9IGZyb20gJ0BzZXJ2aWNlcy9hcGknO1xyXG5pbXBvcnQgeyBnZXRRdWV1ZSwgcmVtb3ZlRnJvbVF1ZXVlIH0gZnJvbSAnQG9mZmxpbmUvcXVldWUnO1xyXG5pbXBvcnQgeyBnZXRJc09ubGluZSwgc3Vic2NyaWJlIH0gZnJvbSAnQG9mZmxpbmUvbmV0d29yay5saXN0ZW5lcic7XHJcbmltcG9ydCB7IF9fdW5zYWZlUmVzZXRGb3JUZXN0cywgcHJvY2Vzc1F1ZXVlLCBzdGFydFN5bmMgfSBmcm9tICdAb2ZmbGluZS9zeW5jLm1hbmFnZXInO1xyXG5cclxuamVzdC5tb2NrKCdAb2ZmbGluZS9xdWV1ZScsICgpID0+ICh7XHJcbiAgZ2V0UXVldWU6IGplc3QuZm4oKSxcclxuICByZW1vdmVGcm9tUXVldWU6IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuamVzdC5tb2NrKCdAc2VydmljZXMvYXBpJywgKCkgPT4gKHtcclxuICBhcGlDbGllbnQ6IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuamVzdC5tb2NrKCdAb2ZmbGluZS9uZXR3b3JrLmxpc3RlbmVyJywgKCkgPT4gKHtcclxuICBnZXRJc09ubGluZTogamVzdC5mbigpLFxyXG4gIHN1YnNjcmliZTogamVzdC5mbigpLFxyXG59KSk7XHJcblxyXG5qZXN0Lm1vY2soJ0BlcnJvcnMnLCAoKSA9PiAoe1xyXG4gIGhhbmRsZUVycm9yOiBqZXN0LmZuKCksXHJcbn0pKTtcclxuXHJcbmRlc2NyaWJlKCdTeW5jIE1hbmFnZXInLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgIF9fdW5zYWZlUmVzZXRGb3JUZXN0cygpO1xyXG5cclxuICAgIGdldElzT25saW5lLm1vY2tSZXR1cm5WYWx1ZSh0cnVlKTtcclxuICAgIGdldFF1ZXVlLm1vY2tSZXNvbHZlZFZhbHVlKFtdKTtcclxuICAgIHJlbW92ZUZyb21RdWV1ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKTtcclxuICAgIGFwaUNsaWVudC5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IHt9LCBzdGF0dXM6IDIwMCB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ3Byb2Nlc3NRdWV1ZScsICgpID0+IHtcclxuICAgIGl0KCdza2lwcyBwcm9jZXNzaW5nIHdoZW4gb2ZmbGluZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgZ2V0SXNPbmxpbmUubW9ja1JldHVyblZhbHVlKGZhbHNlKTtcclxuXHJcbiAgICAgIGF3YWl0IHByb2Nlc3NRdWV1ZSgpO1xyXG5cclxuICAgICAgZXhwZWN0KGdldFF1ZXVlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgICBleHBlY3QoYXBpQ2xpZW50KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3JldHVybnMgZWFybHkgd2hlbiBxdWV1ZSBpcyBlbXB0eScsIGFzeW5jICgpID0+IHtcclxuICAgICAgZ2V0UXVldWUubW9ja1Jlc29sdmVkVmFsdWUoW10pO1xyXG5cclxuICAgICAgYXdhaXQgcHJvY2Vzc1F1ZXVlKCk7XHJcblxyXG4gICAgICBleHBlY3QoYXBpQ2xpZW50KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Byb2Nlc3NlcyBxdWV1ZSBpdGVtcyB3aGVuIG9ubGluZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcXVldWUgPSBbXHJcbiAgICAgICAgeyBpZDogJzEnLCB1cmw6ICcvYXBpL3Rlc3QxJywgbWV0aG9kOiAnUE9TVCcgfSxcclxuICAgICAgICB7IGlkOiAnMicsIHVybDogJy9hcGkvdGVzdDInLCBtZXRob2Q6ICdHRVQnIH0sXHJcbiAgICAgIF07XHJcbiAgICAgIGdldFF1ZXVlLm1vY2tSZXNvbHZlZFZhbHVlKHF1ZXVlKTtcclxuXHJcbiAgICAgIGF3YWl0IHByb2Nlc3NRdWV1ZSgpO1xyXG5cclxuICAgICAgZXhwZWN0KGFwaUNsaWVudCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xyXG4gICAgICBleHBlY3QoYXBpQ2xpZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChxdWV1ZVswXSk7XHJcbiAgICAgIGV4cGVjdChhcGlDbGllbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHF1ZXVlWzFdKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdyZW1vdmVzIGl0ZW0gZnJvbSBxdWV1ZSBhZnRlciBzdWNjZXNzZnVsIHByb2Nlc3NpbmcnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHF1ZXVlID0gW3sgaWQ6ICcxJywgdXJsOiAnL2FwaS90ZXN0JywgbWV0aG9kOiAnUE9TVCcgfV07XHJcbiAgICAgIGdldFF1ZXVlLm1vY2tSZXNvbHZlZFZhbHVlKHF1ZXVlKTtcclxuXHJcbiAgICAgIGF3YWl0IHByb2Nlc3NRdWV1ZSgpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlbW92ZUZyb21RdWV1ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJzEnKTtcclxuICAgICAgZXhwZWN0KGhhbmRsZUVycm9yKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2tlZXBzIGl0ZW0gaW4gcXVldWUgb24gZmFpbHVyZSBhbmQgcmVwb3J0cyB2aWEgaGFuZGxlRXJyb3InLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHF1ZXVlID0gW3sgaWQ6ICcxJywgdXJsOiAnL2FwaS90ZXN0JywgbWV0aG9kOiAnUE9TVCcgfV07XHJcbiAgICAgIGdldFF1ZXVlLm1vY2tSZXNvbHZlZFZhbHVlKHF1ZXVlKTtcclxuICAgICAgYXBpQ2xpZW50Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQVBJIEVycm9yJykpO1xyXG5cclxuICAgICAgYXdhaXQgcHJvY2Vzc1F1ZXVlKCk7XHJcblxyXG4gICAgICBleHBlY3QocmVtb3ZlRnJvbVF1ZXVlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgICBleHBlY3QoaGFuZGxlRXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdjb250aW51ZXMgcHJvY2Vzc2luZyBhZnRlciBpdGVtIGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHF1ZXVlID0gW1xyXG4gICAgICAgIHsgaWQ6ICcxJywgdXJsOiAnL2FwaS90ZXN0MScsIG1ldGhvZDogJ1BPU1QnIH0sXHJcbiAgICAgICAgeyBpZDogJzInLCB1cmw6ICcvYXBpL3Rlc3QyJywgbWV0aG9kOiAnR0VUJyB9LFxyXG4gICAgICBdO1xyXG4gICAgICBnZXRRdWV1ZS5tb2NrUmVzb2x2ZWRWYWx1ZShxdWV1ZSk7XHJcbiAgICAgIGFwaUNsaWVudC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdBUEkgRXJyb3InKSkubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgZGF0YToge30sIHN0YXR1czogMjAwIH0pO1xyXG5cclxuICAgICAgYXdhaXQgcHJvY2Vzc1F1ZXVlKCk7XHJcblxyXG4gICAgICBleHBlY3QoYXBpQ2xpZW50KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XHJcbiAgICAgIGV4cGVjdChyZW1vdmVGcm9tUXVldWUpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcclxuICAgICAgZXhwZWN0KHJlbW92ZUZyb21RdWV1ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJzInKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnc3RhcnRTeW5jJywgKCkgPT4ge1xyXG4gICAgaXQoJ3N1YnNjcmliZXMgb25jZSBhbmQgcmV0dXJucyB1bnN1YnNjcmliZSBmdW5jdGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBqZXN0LmZuKCk7XHJcbiAgICAgIHN1YnNjcmliZS5tb2NrUmV0dXJuVmFsdWUodW5zdWJzY3JpYmUpO1xyXG5cclxuICAgICAgY29uc3QgYSA9IHN0YXJ0U3luYygpO1xyXG4gICAgICBjb25zdCBiID0gc3RhcnRTeW5jKCk7XHJcblxyXG4gICAgICBleHBlY3Qoc3Vic2NyaWJlKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XHJcbiAgICAgIGV4cGVjdChhKS50b0JlKHVuc3Vic2NyaWJlKTtcclxuICAgICAgZXhwZWN0KGIpLnRvQmUodW5zdWJzY3JpYmUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3RyaWdnZXJzIHF1ZXVlIHByb2Nlc3Npbmcgd2hlbiBuZXR3b3JrIGNvbWVzIG9ubGluZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgbGV0IG9uQ2hhbmdlO1xyXG4gICAgICBzdWJzY3JpYmUubW9ja0ltcGxlbWVudGF0aW9uKChmbikgPT4ge1xyXG4gICAgICAgIG9uQ2hhbmdlID0gZm47XHJcbiAgICAgICAgcmV0dXJuIGplc3QuZm4oKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBnZXRRdWV1ZS5tb2NrUmVzb2x2ZWRWYWx1ZShbeyBpZDogJzEnLCB1cmw6ICcvYXBpL3Rlc3QnLCBtZXRob2Q6ICdQT1NUJyB9XSk7XHJcbiAgICAgIGFwaUNsaWVudC5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IHt9LCBzdGF0dXM6IDIwMCB9KTtcclxuXHJcbiAgICAgIHN0YXJ0U3luYygpO1xyXG5cclxuICAgICAgb25DaGFuZ2UodHJ1ZSk7XHJcbiAgICAgIC8vIHN0YXJ0U3luYyBpbnRlbnRpb25hbGx5IGZpcmUtYW5kLWZvcmdldHM7IHdhaXQgYSB0aWNrIGZvciBhc3luYyBwcm9jZXNzaW5nIHRvIGNvbXBsZXRlXHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyKSA9PiBzZXRUaW1lb3V0KHIsIDApKTtcclxuXHJcbiAgICAgIGV4cGVjdChhcGlDbGllbnQpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcclxuICAgICAgZXhwZWN0KHJlbW92ZUZyb21RdWV1ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJzEnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBVUFBLFdBQUEsR0FBS0MsSUFBSSx3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