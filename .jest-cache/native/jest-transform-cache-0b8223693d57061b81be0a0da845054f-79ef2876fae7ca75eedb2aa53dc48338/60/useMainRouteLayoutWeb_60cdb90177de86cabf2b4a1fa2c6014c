929e3a18243e08bcf34417e799706322
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useMainRouteLayoutWeb;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var _expoRouter = require("expo-router");
var _reactNative = require("react-native");
var _reactRedux = require("react-redux");
var _hooks = require("../../../../hooks");
var _sideMenu = require("../../../../config/sideMenu");
var _config = require("../../../../config");
var _breakpoints = _interopRequireDefault(require("../../../../theme/breakpoints"));
var _components = require("../../../components");
var _useMainLayoutMemo = require("./useMainLayoutMemo");
var _useKeyboardShortcuts = _interopRequireDefault(require("./useKeyboardShortcuts"));
var _types = require("../../../components/navigation/GlobalHeader/types");
var _ui = require("../../../../store/slices/ui.slice");
var _types2 = require("./types");
var _jsxRuntime = require("react/jsx-runtime");
function useMainRouteLayoutWeb() {
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var dispatch = (0, _reactRedux.useDispatch)();
  var router = (0, _expoRouter.useRouter)();
  var _useUiState = (0, _hooks.useUiState)(),
    isLoading = _useUiState.isLoading,
    storedSidebarWidth = _useUiState.sidebarWidth,
    storedSidebarCollapsed = _useUiState.isSidebarCollapsed,
    isHeaderHidden = _useUiState.isHeaderHidden,
    headerActionVisibility = _useUiState.headerActionVisibility,
    footerVisible = _useUiState.footerVisible;
  var _useAuth = (0, _hooks.useAuth)(),
    isAuthenticated = _useAuth.isAuthenticated,
    logout = _useAuth.logout,
    roles = _useAuth.roles;
  var canAccessRegister = (0, _react.useMemo)(function () {
    var _AUTH$REGISTER_ROLES;
    if (!isAuthenticated) return false;
    if (!((_AUTH$REGISTER_ROLES = _config.AUTH.REGISTER_ROLES) != null && _AUTH$REGISTER_ROLES.length)) return false;
    return _config.AUTH.REGISTER_ROLES.some(function (role) {
      return roles.includes(role);
    });
  }, [isAuthenticated, roles]);
  var _useNavigationVisibil = (0, _hooks.useNavigationVisibility)(),
    isItemVisible = _useNavigationVisibil.isItemVisible;
  var mainItems = _sideMenu.MAIN_NAV_ITEMS;
  var _useWindowDimensions = (0, _reactNative.useWindowDimensions)(),
    width = _useWindowDimensions.width;
  var isMobile = width < _breakpoints.default.tablet;
  var isTablet = width >= _breakpoints.default.tablet && width < _breakpoints.default.desktop;
  var isCompactHeader = width < _breakpoints.default.desktop;
  var _useState = (0, _react.useState)(false),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    isMobileSidebarOpen = _useState2[0],
    setIsMobileSidebarOpen = _useState2[1];
  var _useState3 = (0, _react.useState)(false),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    isResizing = _useState4[0],
    setIsResizing = _useState4[1];
  var _useState5 = (0, _react.useState)(false),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    isNotificationsOpen = _useState6[0],
    setIsNotificationsOpen = _useState6[1];
  var _useState7 = (0, _react.useState)(false),
    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),
    isOverflowOpen = _useState8[0],
    setIsOverflowOpen = _useState8[1];
  var _useState9 = (0, _react.useState)(false),
    _useState0 = (0, _slicedToArray2.default)(_useState9, 2),
    isHeaderCustomizationOpen = _useState0[0],
    setIsHeaderCustomizationOpen = _useState0[1];
  var _useState1 = (0, _react.useState)(false),
    _useState10 = (0, _slicedToArray2.default)(_useState1, 2),
    isCommandPaletteOpen = _useState10[0],
    setIsCommandPaletteOpen = _useState10[1];
  var _useState11 = (0, _react.useState)(false),
    _useState12 = (0, _slicedToArray2.default)(_useState11, 2),
    isFullscreen = _useState12[0],
    setIsFullscreen = _useState12[1];
  var closeButtonRef = (0, _react.useRef)(null);
  var mobileSidebarRef = (0, _react.useRef)(null);
  var notificationsRef = (0, _react.useRef)(null);
  var notificationsMenuRef = (0, _react.useRef)(null);
  var overflowWrapperRef = (0, _react.useRef)(null);
  var overflowMenuRef = (0, _react.useRef)(null);
  var customizationWrapperRef = (0, _react.useRef)(null);
  var customizationMenuRef = (0, _react.useRef)(null);
  var resolvedSidebarWidth = (0, _react.useMemo)(function () {
    return (0, _types2.clamp)(storedSidebarWidth != null ? storedSidebarWidth : _types2.SIDEBAR_DEFAULT_WIDTH, _types2.SIDEBAR_MIN_WIDTH, _types2.SIDEBAR_MAX_WIDTH);
  }, [storedSidebarWidth]);
  var isSidebarCollapsed = isMobile ? true : storedSidebarCollapsed;
  var hasDocument = typeof document !== 'undefined';
  var overlaySlot = isLoading ? (0, _jsxRuntime.jsx)(_components.LoadingOverlay, {
    visible: true,
    testID: "main-loading-overlay"
  }) : null;
  (0, _react.useEffect)(function () {
    if (isMobile) setIsMobileSidebarOpen(false);
  }, [isMobile]);
  (0, _react.useEffect)(function () {
    if (isMobile && isNotificationsOpen) setIsNotificationsOpen(false);
  }, [isMobile, isNotificationsOpen]);
  (0, _react.useEffect)(function () {
    if (isMobile && isHeaderCustomizationOpen) setIsHeaderCustomizationOpen(false);
  }, [isMobile, isHeaderCustomizationOpen]);
  (0, _react.useEffect)(function () {
    if (!hasDocument || !isMobile) return undefined;
    document.body.style.overflow = isMobileSidebarOpen ? 'hidden' : '';
    return function () {
      document.body.style.overflow = '';
    };
  }, [hasDocument, isMobile, isMobileSidebarOpen]);
  (0, _react.useEffect)(function () {
    if (!hasDocument || !isResizing) return;
    document.body.style.cursor = 'col-resize';
    document.body.style.userSelect = 'none';
    return function () {
      document.body.style.cursor = '';
      document.body.style.userSelect = '';
    };
  }, [hasDocument, isResizing]);
  (0, _react.useEffect)(function () {
    if (!hasDocument || !isNotificationsOpen) return;
    var handleClickOutside = function handleClickOutside(e) {
      if (notificationsRef.current && !notificationsRef.current.contains(e.target)) {
        setIsNotificationsOpen(false);
      }
    };
    document.addEventListener('mousedown', handleClickOutside);
    return function () {
      return document.removeEventListener('mousedown', handleClickOutside);
    };
  }, [hasDocument, isNotificationsOpen]);
  (0, _react.useEffect)(function () {
    if (!hasDocument || !isOverflowOpen) return;
    var handleClickOutside = function handleClickOutside(e) {
      if (overflowWrapperRef.current && !overflowWrapperRef.current.contains(e.target)) {
        setIsOverflowOpen(false);
      }
    };
    document.addEventListener('mousedown', handleClickOutside);
    return function () {
      return document.removeEventListener('mousedown', handleClickOutside);
    };
  }, [hasDocument, isOverflowOpen]);
  (0, _react.useEffect)(function () {
    if (!hasDocument || !isHeaderCustomizationOpen) return;
    var handleClickOutside = function handleClickOutside(e) {
      if (customizationWrapperRef.current && !customizationWrapperRef.current.contains(e.target)) {
        setIsHeaderCustomizationOpen(false);
      }
    };
    document.addEventListener('mousedown', handleClickOutside);
    return function () {
      return document.removeEventListener('mousedown', handleClickOutside);
    };
  }, [hasDocument, isHeaderCustomizationOpen]);
  (0, _react.useEffect)(function () {
    if (typeof document === 'undefined') return undefined;
    var handleFullscreenChange = function handleFullscreenChange() {
      return setIsFullscreen(Boolean(document.fullscreenElement));
    };
    document.addEventListener('fullscreenchange', handleFullscreenChange);
    handleFullscreenChange();
    return function () {
      return document.removeEventListener('fullscreenchange', handleFullscreenChange);
    };
  }, []);
  (0, _react.useEffect)(function () {
    if (isTablet && !isMobile && width < _breakpoints.default.desktop && !storedSidebarCollapsed) {
      dispatch(_ui.actions.setSidebarCollapsed(true));
    }
  }, [isTablet, width, storedSidebarCollapsed, dispatch]);
  var handleToggleSidebar = (0, _react.useCallback)(function () {
    if (isMobile) setIsMobileSidebarOpen(function (p) {
      return !p;
    });else dispatch(_ui.actions.setSidebarCollapsed(!storedSidebarCollapsed));
  }, [dispatch, isMobile, storedSidebarCollapsed]);
  var handleShowHeader = (0, _react.useCallback)(function () {
    return dispatch(_ui.actions.setHeaderHidden(false));
  }, [dispatch]);
  var handleHideHeader = (0, _react.useCallback)(function () {
    setIsNotificationsOpen(false);
    setIsOverflowOpen(false);
    setIsHeaderCustomizationOpen(false);
    dispatch(_ui.actions.setHeaderHidden(true));
  }, [dispatch]);
  var handleToggleHeader = (0, _react.useCallback)(function () {
    if (isHeaderHidden) handleShowHeader();else handleHideHeader();
  }, [isHeaderHidden, handleShowHeader, handleHideHeader]);
  var handleOpenCommandPalette = (0, _react.useCallback)(function () {
    return setIsCommandPaletteOpen(true);
  }, []);
  var handleCloseCommandPalette = (0, _react.useCallback)(function () {
    return setIsCommandPaletteOpen(false);
  }, []);
  var handleShowShortcuts = (0, _react.useCallback)(function () {}, []);
  var handleCloseMenus = (0, _react.useCallback)(function () {
    setIsNotificationsOpen(false);
    setIsOverflowOpen(false);
    setIsHeaderCustomizationOpen(false);
    setIsCommandPaletteOpen(false);
  }, []);
  var handleGoToLogin = (0, _react.useCallback)(function () {
    return router.push('/login');
  }, [router]);
  var handleGoToRegister = (0, _react.useCallback)(function () {
    return router.push('/register');
  }, [router]);
  var handleCloseMobileSidebar = (0, _react.useCallback)(function () {
    return setIsMobileSidebarOpen(false);
  }, []);
  var handleToggleNotifications = (0, _react.useCallback)(function () {
    setIsOverflowOpen(false);
    setIsHeaderCustomizationOpen(false);
    setIsNotificationsOpen(function (p) {
      return !p;
    });
  }, []);
  var handleCloseNotifications = (0, _react.useCallback)(function () {
    return setIsNotificationsOpen(false);
  }, []);
  var handleToggleOverflowMenu = (0, _react.useCallback)(function () {
    setIsNotificationsOpen(false);
    setIsHeaderCustomizationOpen(false);
    setIsOverflowOpen(function (p) {
      return !p;
    });
  }, []);
  var handleToggleHeaderCustomization = (0, _react.useCallback)(function () {
    setIsNotificationsOpen(false);
    setIsOverflowOpen(false);
    setIsHeaderCustomizationOpen(function (p) {
      return !p;
    });
  }, []);
  var handleNotificationsKeyDown = (0, _react.useCallback)(function (e) {
    if (e.key === 'Escape') {
      e.preventDefault();
      handleCloseNotifications();
    }
  }, [handleCloseNotifications]);
  var handleOverflowKeyDown = (0, _react.useCallback)(function (e) {
    if (e.key === 'Escape') {
      e.preventDefault();
      setIsOverflowOpen(false);
    }
  }, []);
  var handleCustomizationKeyDown = (0, _react.useCallback)(function (e) {
    if (e.key === 'Escape') {
      e.preventDefault();
      setIsHeaderCustomizationOpen(false);
    }
  }, []);
  var handleNotificationSelect = (0, _react.useCallback)(function (e) {
    var _e$currentTarget;
    if ((_e$currentTarget = e.currentTarget) != null && (_e$currentTarget = _e$currentTarget.dataset) != null && _e$currentTarget.notificationId) setIsNotificationsOpen(false);
    if (isMobile) setIsOverflowOpen(false);
  }, [isMobile]);
  var handleViewNotifications = (0, _react.useCallback)(function () {
    router.push('/notifications');
    setIsNotificationsOpen(false);
    setIsOverflowOpen(false);
  }, [router]);
  var handleToggleHeaderActionVisibility = (0, _react.useCallback)(function (key) {
    return dispatch(_ui.actions.toggleHeaderActionVisibility(key));
  }, [dispatch]);
  var handleResizeStart = (0, _react.useCallback)(function (event) {
    if (isMobile || isSidebarCollapsed) return;
    event.preventDefault();
    event.stopPropagation();
    setIsResizing(true);
    var startX = event.clientX;
    var startWidth = resolvedSidebarWidth;
    var handleMouseMove = function handleMouseMove(moveEvent) {
      var delta = moveEvent.clientX - startX;
      dispatch(_ui.actions.setSidebarWidth((0, _types2.clamp)(startWidth + delta, _types2.SIDEBAR_MIN_WIDTH, _types2.SIDEBAR_MAX_WIDTH)));
    };
    var _handleMouseUp = function handleMouseUp() {
      setIsResizing(false);
      document.removeEventListener('mousemove', handleMouseMove);
      document.removeEventListener('mouseup', _handleMouseUp);
    };
    document.addEventListener('mousemove', handleMouseMove);
    document.addEventListener('mouseup', _handleMouseUp);
  }, [dispatch, isMobile, isSidebarCollapsed, resolvedSidebarWidth]);
  var handleResizeKeyDown = (0, _react.useCallback)(function (e) {
    if (isMobile || isSidebarCollapsed) return;
    if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
      e.preventDefault();
      var delta = e.key === 'ArrowRight' ? 12 : -12;
      dispatch(_ui.actions.setSidebarWidth((0, _types2.clamp)(resolvedSidebarWidth + delta, _types2.SIDEBAR_MIN_WIDTH, _types2.SIDEBAR_MAX_WIDTH)));
    }
  }, [dispatch, isMobile, isSidebarCollapsed, resolvedSidebarWidth]);
  var handleMobileOverlayKeyDown = (0, _react.useCallback)(function (e) {
    if (e.key === 'Escape') {
      e.preventDefault();
      handleCloseMobileSidebar();
    }
  }, [handleCloseMobileSidebar]);
  var handleToggleFullscreen = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    if (typeof document === 'undefined') return;
    try {
      if (!document.fullscreenElement) yield document.documentElement.requestFullscreen();else yield document.exitFullscreen();
    } catch (_) {}
  }), []);
  (0, _useKeyboardShortcuts.default)({
    toggleSidebar: handleToggleSidebar,
    toggleHeader: handleToggleHeader,
    openCommandPalette: handleOpenCommandPalette,
    showShortcuts: handleShowShortcuts,
    closeMenus: handleCloseMenus
  }, true);
  (0, _hooks.useFocusTrap)(mobileSidebarRef, isMobileSidebarOpen, {
    initialFocusRef: closeButtonRef
  });
  (0, _hooks.useFocusTrap)(notificationsMenuRef, isNotificationsOpen);
  (0, _hooks.useFocusTrap)(overflowMenuRef, isOverflowOpen);
  (0, _hooks.useFocusTrap)(customizationMenuRef, isHeaderCustomizationOpen);
  var headerCustomizationItems = (0, _useMainLayoutMemo.useHeaderCustomizationItems)(t);
  var isHeaderActionVisible = (0, _react.useCallback)(function (key) {
    return (headerActionVisibility == null ? void 0 : headerActionVisibility[key]) !== false;
  }, [headerActionVisibility]);
  var authHeaderActions = (0, _react.useMemo)(function () {
    if (!isAuthenticated) {
      return [{
        id: 'login',
        label: t('auth.login.button'),
        accessibilityLabel: t('auth.login.button'),
        onPress: handleGoToLogin,
        variant: _types.ACTION_VARIANTS.PRIMARY
      }];
    }
    var actions = [];
    if (canAccessRegister) {
      actions.push({
        id: 'register',
        label: t('auth.register.button'),
        accessibilityLabel: t('auth.register.button'),
        onPress: handleGoToRegister,
        variant: _types.ACTION_VARIANTS.GHOST
      });
    }
    return actions;
  }, [canAccessRegister, handleGoToLogin, handleGoToRegister, isAuthenticated, t]);
  var rawNotificationItems = (0, _react.useMemo)(function () {
    return [{
      id: 'appointments',
      title: t('navigation.notifications.items.appointments.title'),
      meta: t('navigation.notifications.items.appointments.meta'),
      unread: true,
      icon: 'ðŸ“…'
    }, {
      id: 'labResults',
      title: t('navigation.notifications.items.labResults.title'),
      meta: t('navigation.notifications.items.labResults.meta'),
      unread: true,
      icon: 'ðŸ§ª'
    }, {
      id: 'messages',
      title: t('navigation.notifications.items.messages.title'),
      meta: t('navigation.notifications.items.messages.meta'),
      unread: false,
      icon: 'ðŸ’¬'
    }];
  }, [t]);
  var _useNotificationData = (0, _useMainLayoutMemo.useNotificationData)(rawNotificationItems),
    notificationItems = _useNotificationData.notificationItems,
    unreadCount = _useNotificationData.unreadCount;
  var shouldShowNotifications = isHeaderActionVisible('notifications');
  var shouldShowNetwork = isHeaderActionVisible('network');
  var shouldShowDatabase = isHeaderActionVisible('database');
  var shouldShowNotificationsInline = !isMobile && shouldShowNotifications;
  var shouldShowFullscreenInline = isHeaderActionVisible('fullscreen') && !isCompactHeader && !isMobile;
  var shouldShowFullscreenOverflow = isHeaderActionVisible('fullscreen') && (isCompactHeader || isMobile);
  var fullscreenLabel = isFullscreen ? t('navigation.fullscreen.exit') : t('navigation.fullscreen.enter');
  var fullscreenIconGlyph = isFullscreen ? 'ðŸ——' : 'â›¶';
  var overflowItems = (0, _react.useMemo)(function () {
    return isMobile ? [] : shouldShowFullscreenOverflow ? [{
      id: 'fullscreen',
      label: fullscreenLabel,
      onPress: handleToggleFullscreen,
      icon: fullscreenIconGlyph
    }] : [];
  }, [fullscreenIconGlyph, fullscreenLabel, handleToggleFullscreen, isMobile, shouldShowFullscreenOverflow]);
  var shouldShowOverflowMenu = isMobile || overflowItems.length > 0;
  var fullscreenIcon = (0, _react.useMemo)(function () {
    return (0, _jsxRuntime.jsx)(_components.Icon, {
      glyph: fullscreenIconGlyph,
      decorative: true,
      accessibilityLabel: fullscreenLabel
    });
  }, [fullscreenIconGlyph, fullscreenLabel]);
  (0, _react.useEffect)(function () {
    if (!shouldShowNotifications && isNotificationsOpen) setIsNotificationsOpen(false);
  }, [isNotificationsOpen, shouldShowNotifications]);
  (0, _react.useEffect)(function () {
    if (!isMobile && overflowItems.length === 0 && isOverflowOpen) setIsOverflowOpen(false);
  }, [isMobile, isOverflowOpen, overflowItems.length]);
  var handleOverflowItemPress = (0, _react.useCallback)(function () {
    var _ref2 = (0, _asyncToGenerator2.default)(function* (item) {
      if (item != null && item.onPress) yield item.onPress();
      setIsOverflowOpen(false);
    });
    return function (_x) {
      return _ref2.apply(this, arguments);
    };
  }(), []);
  var CUSTOMIZATION_ICON_MAP = (0, _react.useMemo)(function () {
    return {
      notifications: 'ðŸ””',
      network: 'ðŸ“¶',
      database: 'ðŸ—„',
      fullscreen: 'â›¶'
    };
  }, []);
  return {
    t: t,
    mainItems: mainItems,
    isItemVisible: isItemVisible,
    overlaySlot: overlaySlot,
    resolvedSidebarWidth: resolvedSidebarWidth,
    isSidebarCollapsed: isSidebarCollapsed,
    isMobile: isMobile,
    isHeaderHidden: isHeaderHidden,
    isMobileSidebarOpen: isMobileSidebarOpen,
    isNotificationsOpen: isNotificationsOpen,
    isOverflowOpen: isOverflowOpen,
    isHeaderCustomizationOpen: isHeaderCustomizationOpen,
    notificationItems: notificationItems,
    unreadCount: unreadCount,
    headerCustomizationItems: headerCustomizationItems,
    overflowItems: overflowItems,
    fullscreenLabel: fullscreenLabel,
    fullscreenIconGlyph: fullscreenIconGlyph,
    shouldShowNotifications: shouldShowNotifications,
    shouldShowNetwork: shouldShowNetwork,
    shouldShowDatabase: shouldShowDatabase,
    shouldShowNotificationsInline: shouldShowNotificationsInline,
    shouldShowFullscreenInline: shouldShowFullscreenInline,
    shouldShowFullscreenOverflow: shouldShowFullscreenOverflow,
    isHeaderActionVisible: isHeaderActionVisible,
    authHeaderActions: authHeaderActions,
    handleToggleSidebar: handleToggleSidebar,
    handleShowHeader: handleShowHeader,
    handleHideHeader: handleHideHeader,
    handleCloseMobileSidebar: handleCloseMobileSidebar,
    handleToggleNotifications: handleToggleNotifications,
    handleCloseNotifications: handleCloseNotifications,
    handleToggleOverflowMenu: handleToggleOverflowMenu,
    handleToggleHeaderCustomization: handleToggleHeaderCustomization,
    handleNotificationsKeyDown: handleNotificationsKeyDown,
    handleOverflowKeyDown: handleOverflowKeyDown,
    handleCustomizationKeyDown: handleCustomizationKeyDown,
    handleNotificationSelect: handleNotificationSelect,
    handleViewNotifications: handleViewNotifications,
    handleToggleHeaderActionVisibility: handleToggleHeaderActionVisibility,
    handleResizeStart: handleResizeStart,
    handleResizeKeyDown: handleResizeKeyDown,
    handleMobileOverlayKeyDown: handleMobileOverlayKeyDown,
    handleToggleFullscreen: handleToggleFullscreen,
    handleOverflowItemPress: handleOverflowItemPress,
    shouldShowOverflowMenu: shouldShowOverflowMenu,
    fullscreenIcon: fullscreenIcon,
    closeButtonRef: closeButtonRef,
    mobileSidebarRef: mobileSidebarRef,
    notificationsRef: notificationsRef,
    notificationsMenuRef: notificationsMenuRef,
    overflowWrapperRef: overflowWrapperRef,
    overflowMenuRef: overflowMenuRef,
    customizationWrapperRef: customizationWrapperRef,
    customizationMenuRef: customizationMenuRef,
    CUSTOMIZATION_ICON_MAP: CUSTOMIZATION_ICON_MAP,
    isFullscreen: isFullscreen,
    onLogout: logout,
    isAuthenticated: isAuthenticated,
    footerVisible: footerVisible
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2V4cG9Sb3V0ZXIiLCJfcmVhY3ROYXRpdmUiLCJfcmVhY3RSZWR1eCIsIl9ob29rcyIsIl9zaWRlTWVudSIsIl9jb25maWciLCJfYnJlYWtwb2ludHMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2NvbXBvbmVudHMiLCJfdXNlTWFpbkxheW91dE1lbW8iLCJfdXNlS2V5Ym9hcmRTaG9ydGN1dHMiLCJfdHlwZXMiLCJfdWkiLCJfdHlwZXMyIiwiX2pzeFJ1bnRpbWUiLCJ1c2VNYWluUm91dGVMYXlvdXRXZWIiLCJfdXNlSTE4biIsInVzZUkxOG4iLCJ0IiwiZGlzcGF0Y2giLCJ1c2VEaXNwYXRjaCIsInJvdXRlciIsInVzZVJvdXRlciIsIl91c2VVaVN0YXRlIiwidXNlVWlTdGF0ZSIsImlzTG9hZGluZyIsInN0b3JlZFNpZGViYXJXaWR0aCIsInNpZGViYXJXaWR0aCIsInN0b3JlZFNpZGViYXJDb2xsYXBzZWQiLCJpc1NpZGViYXJDb2xsYXBzZWQiLCJpc0hlYWRlckhpZGRlbiIsImhlYWRlckFjdGlvblZpc2liaWxpdHkiLCJmb290ZXJWaXNpYmxlIiwiX3VzZUF1dGgiLCJ1c2VBdXRoIiwiaXNBdXRoZW50aWNhdGVkIiwibG9nb3V0Iiwicm9sZXMiLCJjYW5BY2Nlc3NSZWdpc3RlciIsInVzZU1lbW8iLCJfQVVUSCRSRUdJU1RFUl9ST0xFUyIsIkFVVEgiLCJSRUdJU1RFUl9ST0xFUyIsImxlbmd0aCIsInNvbWUiLCJyb2xlIiwiaW5jbHVkZXMiLCJfdXNlTmF2aWdhdGlvblZpc2liaWwiLCJ1c2VOYXZpZ2F0aW9uVmlzaWJpbGl0eSIsImlzSXRlbVZpc2libGUiLCJtYWluSXRlbXMiLCJNQUlOX05BVl9JVEVNUyIsIl91c2VXaW5kb3dEaW1lbnNpb25zIiwidXNlV2luZG93RGltZW5zaW9ucyIsIndpZHRoIiwiaXNNb2JpbGUiLCJicmVha3BvaW50cyIsInRhYmxldCIsImlzVGFibGV0IiwiZGVza3RvcCIsImlzQ29tcGFjdEhlYWRlciIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5MiIsImRlZmF1bHQiLCJpc01vYmlsZVNpZGViYXJPcGVuIiwic2V0SXNNb2JpbGVTaWRlYmFyT3BlbiIsIl91c2VTdGF0ZTMiLCJfdXNlU3RhdGU0IiwiaXNSZXNpemluZyIsInNldElzUmVzaXppbmciLCJfdXNlU3RhdGU1IiwiX3VzZVN0YXRlNiIsImlzTm90aWZpY2F0aW9uc09wZW4iLCJzZXRJc05vdGlmaWNhdGlvbnNPcGVuIiwiX3VzZVN0YXRlNyIsIl91c2VTdGF0ZTgiLCJpc092ZXJmbG93T3BlbiIsInNldElzT3ZlcmZsb3dPcGVuIiwiX3VzZVN0YXRlOSIsIl91c2VTdGF0ZTAiLCJpc0hlYWRlckN1c3RvbWl6YXRpb25PcGVuIiwic2V0SXNIZWFkZXJDdXN0b21pemF0aW9uT3BlbiIsIl91c2VTdGF0ZTEiLCJfdXNlU3RhdGUxMCIsImlzQ29tbWFuZFBhbGV0dGVPcGVuIiwic2V0SXNDb21tYW5kUGFsZXR0ZU9wZW4iLCJfdXNlU3RhdGUxMSIsIl91c2VTdGF0ZTEyIiwiaXNGdWxsc2NyZWVuIiwic2V0SXNGdWxsc2NyZWVuIiwiY2xvc2VCdXR0b25SZWYiLCJ1c2VSZWYiLCJtb2JpbGVTaWRlYmFyUmVmIiwibm90aWZpY2F0aW9uc1JlZiIsIm5vdGlmaWNhdGlvbnNNZW51UmVmIiwib3ZlcmZsb3dXcmFwcGVyUmVmIiwib3ZlcmZsb3dNZW51UmVmIiwiY3VzdG9taXphdGlvbldyYXBwZXJSZWYiLCJjdXN0b21pemF0aW9uTWVudVJlZiIsInJlc29sdmVkU2lkZWJhcldpZHRoIiwiY2xhbXAiLCJTSURFQkFSX0RFRkFVTFRfV0lEVEgiLCJTSURFQkFSX01JTl9XSURUSCIsIlNJREVCQVJfTUFYX1dJRFRIIiwiaGFzRG9jdW1lbnQiLCJkb2N1bWVudCIsIm92ZXJsYXlTbG90IiwianN4IiwiTG9hZGluZ092ZXJsYXkiLCJ2aXNpYmxlIiwidGVzdElEIiwidXNlRWZmZWN0IiwidW5kZWZpbmVkIiwiYm9keSIsInN0eWxlIiwib3ZlcmZsb3ciLCJjdXJzb3IiLCJ1c2VyU2VsZWN0IiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiZSIsImN1cnJlbnQiLCJjb250YWlucyIsInRhcmdldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSIsIkJvb2xlYW4iLCJmdWxsc2NyZWVuRWxlbWVudCIsInVpQWN0aW9ucyIsInNldFNpZGViYXJDb2xsYXBzZWQiLCJoYW5kbGVUb2dnbGVTaWRlYmFyIiwidXNlQ2FsbGJhY2siLCJwIiwiaGFuZGxlU2hvd0hlYWRlciIsInNldEhlYWRlckhpZGRlbiIsImhhbmRsZUhpZGVIZWFkZXIiLCJoYW5kbGVUb2dnbGVIZWFkZXIiLCJoYW5kbGVPcGVuQ29tbWFuZFBhbGV0dGUiLCJoYW5kbGVDbG9zZUNvbW1hbmRQYWxldHRlIiwiaGFuZGxlU2hvd1Nob3J0Y3V0cyIsImhhbmRsZUNsb3NlTWVudXMiLCJoYW5kbGVHb1RvTG9naW4iLCJwdXNoIiwiaGFuZGxlR29Ub1JlZ2lzdGVyIiwiaGFuZGxlQ2xvc2VNb2JpbGVTaWRlYmFyIiwiaGFuZGxlVG9nZ2xlTm90aWZpY2F0aW9ucyIsImhhbmRsZUNsb3NlTm90aWZpY2F0aW9ucyIsImhhbmRsZVRvZ2dsZU92ZXJmbG93TWVudSIsImhhbmRsZVRvZ2dsZUhlYWRlckN1c3RvbWl6YXRpb24iLCJoYW5kbGVOb3RpZmljYXRpb25zS2V5RG93biIsImtleSIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlT3ZlcmZsb3dLZXlEb3duIiwiaGFuZGxlQ3VzdG9taXphdGlvbktleURvd24iLCJoYW5kbGVOb3RpZmljYXRpb25TZWxlY3QiLCJfZSRjdXJyZW50VGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImRhdGFzZXQiLCJub3RpZmljYXRpb25JZCIsImhhbmRsZVZpZXdOb3RpZmljYXRpb25zIiwiaGFuZGxlVG9nZ2xlSGVhZGVyQWN0aW9uVmlzaWJpbGl0eSIsInRvZ2dsZUhlYWRlckFjdGlvblZpc2liaWxpdHkiLCJoYW5kbGVSZXNpemVTdGFydCIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwic3RhcnRYIiwiY2xpZW50WCIsInN0YXJ0V2lkdGgiLCJoYW5kbGVNb3VzZU1vdmUiLCJtb3ZlRXZlbnQiLCJkZWx0YSIsInNldFNpZGViYXJXaWR0aCIsImhhbmRsZU1vdXNlVXAiLCJoYW5kbGVSZXNpemVLZXlEb3duIiwiaGFuZGxlTW9iaWxlT3ZlcmxheUtleURvd24iLCJoYW5kbGVUb2dnbGVGdWxsc2NyZWVuIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiZG9jdW1lbnRFbGVtZW50IiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJleGl0RnVsbHNjcmVlbiIsIl8iLCJ1c2VLZXlib2FyZFNob3J0Y3V0cyIsInRvZ2dsZVNpZGViYXIiLCJ0b2dnbGVIZWFkZXIiLCJvcGVuQ29tbWFuZFBhbGV0dGUiLCJzaG93U2hvcnRjdXRzIiwiY2xvc2VNZW51cyIsInVzZUZvY3VzVHJhcCIsImluaXRpYWxGb2N1c1JlZiIsImhlYWRlckN1c3RvbWl6YXRpb25JdGVtcyIsInVzZUhlYWRlckN1c3RvbWl6YXRpb25JdGVtcyIsImlzSGVhZGVyQWN0aW9uVmlzaWJsZSIsImF1dGhIZWFkZXJBY3Rpb25zIiwiaWQiLCJsYWJlbCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsIm9uUHJlc3MiLCJ2YXJpYW50IiwiQUNUSU9OX1ZBUklBTlRTIiwiUFJJTUFSWSIsImFjdGlvbnMiLCJHSE9TVCIsInJhd05vdGlmaWNhdGlvbkl0ZW1zIiwidGl0bGUiLCJtZXRhIiwidW5yZWFkIiwiaWNvbiIsIl91c2VOb3RpZmljYXRpb25EYXRhIiwidXNlTm90aWZpY2F0aW9uRGF0YSIsIm5vdGlmaWNhdGlvbkl0ZW1zIiwidW5yZWFkQ291bnQiLCJzaG91bGRTaG93Tm90aWZpY2F0aW9ucyIsInNob3VsZFNob3dOZXR3b3JrIiwic2hvdWxkU2hvd0RhdGFiYXNlIiwic2hvdWxkU2hvd05vdGlmaWNhdGlvbnNJbmxpbmUiLCJzaG91bGRTaG93RnVsbHNjcmVlbklubGluZSIsInNob3VsZFNob3dGdWxsc2NyZWVuT3ZlcmZsb3ciLCJmdWxsc2NyZWVuTGFiZWwiLCJmdWxsc2NyZWVuSWNvbkdseXBoIiwib3ZlcmZsb3dJdGVtcyIsInNob3VsZFNob3dPdmVyZmxvd01lbnUiLCJmdWxsc2NyZWVuSWNvbiIsIkljb24iLCJnbHlwaCIsImRlY29yYXRpdmUiLCJoYW5kbGVPdmVyZmxvd0l0ZW1QcmVzcyIsIl9yZWYyIiwiaXRlbSIsIl94IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJDVVNUT01JWkFUSU9OX0lDT05fTUFQIiwibm90aWZpY2F0aW9ucyIsIm5ldHdvcmsiLCJkYXRhYmFzZSIsImZ1bGxzY3JlZW4iLCJvbkxvZ291dCJdLCJzb3VyY2VzIjpbInVzZU1haW5Sb3V0ZUxheW91dFdlYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogdXNlTWFpblJvdXRlTGF5b3V0V2ViIEhvb2tcclxuICogV2ViLXNwZWNpZmljIHN0YXRlLCBlZmZlY3RzLCBhbmQgaGFuZGxlcnMgZm9yIE1haW5Sb3V0ZUxheW91dFxyXG4gKiBGaWxlOiB1c2VNYWluUm91dGVMYXlvdXRXZWIuanNcclxuICogUGVyIGNvbXBvbmVudC1zdHJ1Y3R1cmUubWRjOiBMb2dpYyBpbiB1c2VDb21wb25lbnROYW1lLmpzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnZXhwby1yb3V0ZXInO1xyXG5pbXBvcnQgeyB1c2VXaW5kb3dEaW1lbnNpb25zIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IHsgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCB7IHVzZUF1dGgsIHVzZUZvY3VzVHJhcCwgdXNlSTE4biwgdXNlTmF2aWdhdGlvblZpc2liaWxpdHksIHVzZVVpU3RhdGUgfSBmcm9tICdAaG9va3MnO1xyXG5pbXBvcnQgeyBNQUlOX05BVl9JVEVNUyB9IGZyb20gJ0Bjb25maWcvc2lkZU1lbnUnO1xyXG5pbXBvcnQgeyBBVVRIIH0gZnJvbSAnQGNvbmZpZyc7XHJcbmltcG9ydCBicmVha3BvaW50cyBmcm9tICdAdGhlbWUvYnJlYWtwb2ludHMnO1xyXG5pbXBvcnQgeyBJY29uLCBMb2FkaW5nT3ZlcmxheSB9IGZyb20gJ0BwbGF0Zm9ybS9jb21wb25lbnRzJztcclxuaW1wb3J0IHtcclxuICB1c2VIZWFkZXJBY3Rpb25zLFxyXG4gIHVzZU5vdGlmaWNhdGlvbkRhdGEsXHJcbiAgdXNlSGVhZGVyQ3VzdG9taXphdGlvbkl0ZW1zLFxyXG59IGZyb20gJy4vdXNlTWFpbkxheW91dE1lbW8nO1xyXG5pbXBvcnQgdXNlS2V5Ym9hcmRTaG9ydGN1dHMgZnJvbSAnLi91c2VLZXlib2FyZFNob3J0Y3V0cyc7XHJcbmltcG9ydCB7IEFDVElPTl9WQVJJQU5UUyB9IGZyb20gJ0BwbGF0Zm9ybS9jb21wb25lbnRzL25hdmlnYXRpb24vR2xvYmFsSGVhZGVyL3R5cGVzJztcclxuaW1wb3J0IHsgYWN0aW9ucyBhcyB1aUFjdGlvbnMgfSBmcm9tICdAc3RvcmUvc2xpY2VzL3VpLnNsaWNlJztcclxuaW1wb3J0IHsgU0lERUJBUl9NSU5fV0lEVEgsIFNJREVCQVJfTUFYX1dJRFRILCBTSURFQkFSX0RFRkFVTFRfV0lEVEgsIGNsYW1wIH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VNYWluUm91dGVMYXlvdXRXZWIoKSB7XHJcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XHJcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IHtcclxuICAgIGlzTG9hZGluZyxcclxuICAgIHNpZGViYXJXaWR0aDogc3RvcmVkU2lkZWJhcldpZHRoLFxyXG4gICAgaXNTaWRlYmFyQ29sbGFwc2VkOiBzdG9yZWRTaWRlYmFyQ29sbGFwc2VkLFxyXG4gICAgaXNIZWFkZXJIaWRkZW4sXHJcbiAgICBoZWFkZXJBY3Rpb25WaXNpYmlsaXR5LFxyXG4gICAgZm9vdGVyVmlzaWJsZSxcclxuICB9ID0gdXNlVWlTdGF0ZSgpO1xyXG4gIGNvbnN0IHsgaXNBdXRoZW50aWNhdGVkLCBsb2dvdXQsIHJvbGVzIH0gPSB1c2VBdXRoKCk7XHJcbiAgY29uc3QgY2FuQWNjZXNzUmVnaXN0ZXIgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGlmICghaXNBdXRoZW50aWNhdGVkKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAoIUFVVEguUkVHSVNURVJfUk9MRVM/Lmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuIEFVVEguUkVHSVNURVJfUk9MRVMuc29tZSgocm9sZSkgPT4gcm9sZXMuaW5jbHVkZXMocm9sZSkpO1xyXG4gIH0sIFtpc0F1dGhlbnRpY2F0ZWQsIHJvbGVzXSk7XHJcbiAgY29uc3QgeyBpc0l0ZW1WaXNpYmxlIH0gPSB1c2VOYXZpZ2F0aW9uVmlzaWJpbGl0eSgpO1xyXG4gIGNvbnN0IG1haW5JdGVtcyA9IE1BSU5fTkFWX0lURU1TO1xyXG4gIGNvbnN0IHsgd2lkdGggfSA9IHVzZVdpbmRvd0RpbWVuc2lvbnMoKTtcclxuICBjb25zdCBpc01vYmlsZSA9IHdpZHRoIDwgYnJlYWtwb2ludHMudGFibGV0O1xyXG4gIGNvbnN0IGlzVGFibGV0ID0gd2lkdGggPj0gYnJlYWtwb2ludHMudGFibGV0ICYmIHdpZHRoIDwgYnJlYWtwb2ludHMuZGVza3RvcDtcclxuICBjb25zdCBpc0NvbXBhY3RIZWFkZXIgPSB3aWR0aCA8IGJyZWFrcG9pbnRzLmRlc2t0b3A7XHJcbiAgY29uc3QgW2lzTW9iaWxlU2lkZWJhck9wZW4sIHNldElzTW9iaWxlU2lkZWJhck9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc1Jlc2l6aW5nLCBzZXRJc1Jlc2l6aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbaXNOb3RpZmljYXRpb25zT3Blbiwgc2V0SXNOb3RpZmljYXRpb25zT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzT3ZlcmZsb3dPcGVuLCBzZXRJc092ZXJmbG93T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzSGVhZGVyQ3VzdG9taXphdGlvbk9wZW4sIHNldElzSGVhZGVyQ3VzdG9taXphdGlvbk9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc0NvbW1hbmRQYWxldHRlT3Blbiwgc2V0SXNDb21tYW5kUGFsZXR0ZU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc0Z1bGxzY3JlZW4sIHNldElzRnVsbHNjcmVlbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgY2xvc2VCdXR0b25SZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgbW9iaWxlU2lkZWJhclJlZiA9IHVzZVJlZihudWxsKTtcclxuICBjb25zdCBub3RpZmljYXRpb25zUmVmID0gdXNlUmVmKG51bGwpO1xyXG4gIGNvbnN0IG5vdGlmaWNhdGlvbnNNZW51UmVmID0gdXNlUmVmKG51bGwpO1xyXG4gIGNvbnN0IG92ZXJmbG93V3JhcHBlclJlZiA9IHVzZVJlZihudWxsKTtcclxuICBjb25zdCBvdmVyZmxvd01lbnVSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgY3VzdG9taXphdGlvbldyYXBwZXJSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgY3VzdG9taXphdGlvbk1lbnVSZWYgPSB1c2VSZWYobnVsbCk7XHJcblxyXG4gIGNvbnN0IHJlc29sdmVkU2lkZWJhcldpZHRoID0gdXNlTWVtbyhcclxuICAgICgpID0+IGNsYW1wKHN0b3JlZFNpZGViYXJXaWR0aCA/PyBTSURFQkFSX0RFRkFVTFRfV0lEVEgsIFNJREVCQVJfTUlOX1dJRFRILCBTSURFQkFSX01BWF9XSURUSCksXHJcbiAgICBbc3RvcmVkU2lkZWJhcldpZHRoXVxyXG4gICk7XHJcbiAgY29uc3QgaXNTaWRlYmFyQ29sbGFwc2VkID0gaXNNb2JpbGUgPyB0cnVlIDogc3RvcmVkU2lkZWJhckNvbGxhcHNlZDtcclxuICBjb25zdCBoYXNEb2N1bWVudCA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XHJcbiAgY29uc3Qgb3ZlcmxheVNsb3QgPSBpc0xvYWRpbmcgPyA8TG9hZGluZ092ZXJsYXkgdmlzaWJsZSB0ZXN0SUQ9XCJtYWluLWxvYWRpbmctb3ZlcmxheVwiIC8+IDogbnVsbDtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc01vYmlsZSkgc2V0SXNNb2JpbGVTaWRlYmFyT3BlbihmYWxzZSk7XHJcbiAgfSwgW2lzTW9iaWxlXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoaXNNb2JpbGUgJiYgaXNOb3RpZmljYXRpb25zT3Blbikgc2V0SXNOb3RpZmljYXRpb25zT3BlbihmYWxzZSk7XHJcbiAgfSwgW2lzTW9iaWxlLCBpc05vdGlmaWNhdGlvbnNPcGVuXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoaXNNb2JpbGUgJiYgaXNIZWFkZXJDdXN0b21pemF0aW9uT3Blbikgc2V0SXNIZWFkZXJDdXN0b21pemF0aW9uT3BlbihmYWxzZSk7XHJcbiAgfSwgW2lzTW9iaWxlLCBpc0hlYWRlckN1c3RvbWl6YXRpb25PcGVuXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWhhc0RvY3VtZW50IHx8ICFpc01vYmlsZSkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBpc01vYmlsZVNpZGViYXJPcGVuID8gJ2hpZGRlbicgOiAnJztcclxuICAgIHJldHVybiAoKSA9PiB7IGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJzsgfTtcclxuICB9LCBbaGFzRG9jdW1lbnQsIGlzTW9iaWxlLCBpc01vYmlsZVNpZGViYXJPcGVuXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWhhc0RvY3VtZW50IHx8ICFpc1Jlc2l6aW5nKSByZXR1cm47XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdjb2wtcmVzaXplJztcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9ICdub25lJztcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJyc7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9ICcnO1xyXG4gICAgfTtcclxuICB9LCBbaGFzRG9jdW1lbnQsIGlzUmVzaXppbmddKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghaGFzRG9jdW1lbnQgfHwgIWlzTm90aWZpY2F0aW9uc09wZW4pIHJldHVybjtcclxuICAgIGNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IChlKSA9PiB7XHJcbiAgICAgIGlmIChub3RpZmljYXRpb25zUmVmLmN1cnJlbnQgJiYgIW5vdGlmaWNhdGlvbnNSZWYuY3VycmVudC5jb250YWlucyhlLnRhcmdldCkpIHtcclxuICAgICAgICBzZXRJc05vdGlmaWNhdGlvbnNPcGVuKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XHJcbiAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICB9LCBbaGFzRG9jdW1lbnQsIGlzTm90aWZpY2F0aW9uc09wZW5dKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghaGFzRG9jdW1lbnQgfHwgIWlzT3ZlcmZsb3dPcGVuKSByZXR1cm47XHJcbiAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZSkgPT4ge1xyXG4gICAgICBpZiAob3ZlcmZsb3dXcmFwcGVyUmVmLmN1cnJlbnQgJiYgIW92ZXJmbG93V3JhcHBlclJlZi5jdXJyZW50LmNvbnRhaW5zKGUudGFyZ2V0KSkge1xyXG4gICAgICAgIHNldElzT3ZlcmZsb3dPcGVuKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XHJcbiAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICB9LCBbaGFzRG9jdW1lbnQsIGlzT3ZlcmZsb3dPcGVuXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWhhc0RvY3VtZW50IHx8ICFpc0hlYWRlckN1c3RvbWl6YXRpb25PcGVuKSByZXR1cm47XHJcbiAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZSkgPT4ge1xyXG4gICAgICBpZiAoY3VzdG9taXphdGlvbldyYXBwZXJSZWYuY3VycmVudCAmJiAhY3VzdG9taXphdGlvbldyYXBwZXJSZWYuY3VycmVudC5jb250YWlucyhlLnRhcmdldCkpIHtcclxuICAgICAgICBzZXRJc0hlYWRlckN1c3RvbWl6YXRpb25PcGVuKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XHJcbiAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICB9LCBbaGFzRG9jdW1lbnQsIGlzSGVhZGVyQ3VzdG9taXphdGlvbk9wZW5dKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgY29uc3QgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSA9ICgpID0+IHNldElzRnVsbHNjcmVlbihCb29sZWFuKGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSk7XHJcbiAgICBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlKCk7XHJcbiAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIGhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc1RhYmxldCAmJiAhaXNNb2JpbGUgJiYgd2lkdGggPCBicmVha3BvaW50cy5kZXNrdG9wICYmICFzdG9yZWRTaWRlYmFyQ29sbGFwc2VkKSB7XHJcbiAgICAgIGRpc3BhdGNoKHVpQWN0aW9ucy5zZXRTaWRlYmFyQ29sbGFwc2VkKHRydWUpKTtcclxuICAgIH1cclxuICB9LCBbaXNUYWJsZXQsIHdpZHRoLCBzdG9yZWRTaWRlYmFyQ29sbGFwc2VkLCBkaXNwYXRjaF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVUb2dnbGVTaWRlYmFyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKGlzTW9iaWxlKSBzZXRJc01vYmlsZVNpZGViYXJPcGVuKChwKSA9PiAhcCk7XHJcbiAgICBlbHNlIGRpc3BhdGNoKHVpQWN0aW9ucy5zZXRTaWRlYmFyQ29sbGFwc2VkKCFzdG9yZWRTaWRlYmFyQ29sbGFwc2VkKSk7XHJcbiAgfSwgW2Rpc3BhdGNoLCBpc01vYmlsZSwgc3RvcmVkU2lkZWJhckNvbGxhcHNlZF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVTaG93SGVhZGVyID0gdXNlQ2FsbGJhY2soKCkgPT4gZGlzcGF0Y2godWlBY3Rpb25zLnNldEhlYWRlckhpZGRlbihmYWxzZSkpLCBbZGlzcGF0Y2hdKTtcclxuICBjb25zdCBoYW5kbGVIaWRlSGVhZGVyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgc2V0SXNOb3RpZmljYXRpb25zT3BlbihmYWxzZSk7XHJcbiAgICBzZXRJc092ZXJmbG93T3BlbihmYWxzZSk7XHJcbiAgICBzZXRJc0hlYWRlckN1c3RvbWl6YXRpb25PcGVuKGZhbHNlKTtcclxuICAgIGRpc3BhdGNoKHVpQWN0aW9ucy5zZXRIZWFkZXJIaWRkZW4odHJ1ZSkpO1xyXG4gIH0sIFtkaXNwYXRjaF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVUb2dnbGVIZWFkZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBpZiAoaXNIZWFkZXJIaWRkZW4pIGhhbmRsZVNob3dIZWFkZXIoKTtcclxuICAgIGVsc2UgaGFuZGxlSGlkZUhlYWRlcigpO1xyXG4gIH0sIFtpc0hlYWRlckhpZGRlbiwgaGFuZGxlU2hvd0hlYWRlciwgaGFuZGxlSGlkZUhlYWRlcl0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVPcGVuQ29tbWFuZFBhbGV0dGUgPSB1c2VDYWxsYmFjaygoKSA9PiBzZXRJc0NvbW1hbmRQYWxldHRlT3Blbih0cnVlKSwgW10pO1xyXG4gIGNvbnN0IGhhbmRsZUNsb3NlQ29tbWFuZFBhbGV0dGUgPSB1c2VDYWxsYmFjaygoKSA9PiBzZXRJc0NvbW1hbmRQYWxldHRlT3BlbihmYWxzZSksIFtdKTtcclxuICBjb25zdCBoYW5kbGVTaG93U2hvcnRjdXRzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgLy8gVE9ETzogSW1wbGVtZW50IHNob3J0Y3V0cyBoZWxwIG1vZGFsICh1c2UgQGxvZ2dpbmcvbG9nZ2VyIHdoZW4gYXZhaWxhYmxlKVxyXG4gIH0sIFtdKTtcclxuICBjb25zdCBoYW5kbGVDbG9zZU1lbnVzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgc2V0SXNOb3RpZmljYXRpb25zT3BlbihmYWxzZSk7XHJcbiAgICBzZXRJc092ZXJmbG93T3BlbihmYWxzZSk7XHJcbiAgICBzZXRJc0hlYWRlckN1c3RvbWl6YXRpb25PcGVuKGZhbHNlKTtcclxuICAgIHNldElzQ29tbWFuZFBhbGV0dGVPcGVuKGZhbHNlKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUdvVG9Mb2dpbiA9IHVzZUNhbGxiYWNrKCgpID0+IHJvdXRlci5wdXNoKCcvbG9naW4nKSwgW3JvdXRlcl0pO1xyXG4gIGNvbnN0IGhhbmRsZUdvVG9SZWdpc3RlciA9IHVzZUNhbGxiYWNrKCgpID0+IHJvdXRlci5wdXNoKCcvcmVnaXN0ZXInKSwgW3JvdXRlcl0pO1xyXG4gIGNvbnN0IGhhbmRsZUNsb3NlTW9iaWxlU2lkZWJhciA9IHVzZUNhbGxiYWNrKCgpID0+IHNldElzTW9iaWxlU2lkZWJhck9wZW4oZmFsc2UpLCBbXSk7XHJcbiAgY29uc3QgaGFuZGxlVG9nZ2xlTm90aWZpY2F0aW9ucyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHNldElzT3ZlcmZsb3dPcGVuKGZhbHNlKTtcclxuICAgIHNldElzSGVhZGVyQ3VzdG9taXphdGlvbk9wZW4oZmFsc2UpO1xyXG4gICAgc2V0SXNOb3RpZmljYXRpb25zT3BlbigocCkgPT4gIXApO1xyXG4gIH0sIFtdKTtcclxuICBjb25zdCBoYW5kbGVDbG9zZU5vdGlmaWNhdGlvbnMgPSB1c2VDYWxsYmFjaygoKSA9PiBzZXRJc05vdGlmaWNhdGlvbnNPcGVuKGZhbHNlKSwgW10pO1xyXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZU92ZXJmbG93TWVudSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHNldElzTm90aWZpY2F0aW9uc09wZW4oZmFsc2UpO1xyXG4gICAgc2V0SXNIZWFkZXJDdXN0b21pemF0aW9uT3BlbihmYWxzZSk7XHJcbiAgICBzZXRJc092ZXJmbG93T3BlbigocCkgPT4gIXApO1xyXG4gIH0sIFtdKTtcclxuICBjb25zdCBoYW5kbGVUb2dnbGVIZWFkZXJDdXN0b21pemF0aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgc2V0SXNOb3RpZmljYXRpb25zT3BlbihmYWxzZSk7XHJcbiAgICBzZXRJc092ZXJmbG93T3BlbihmYWxzZSk7XHJcbiAgICBzZXRJc0hlYWRlckN1c3RvbWl6YXRpb25PcGVuKChwKSA9PiAhcCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVOb3RpZmljYXRpb25zS2V5RG93biA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKGUpID0+IHtcclxuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBoYW5kbGVDbG9zZU5vdGlmaWNhdGlvbnMoKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFtoYW5kbGVDbG9zZU5vdGlmaWNhdGlvbnNdXHJcbiAgKTtcclxuICBjb25zdCBoYW5kbGVPdmVyZmxvd0tleURvd24gPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHNldElzT3ZlcmZsb3dPcGVuKGZhbHNlKTtcclxuICAgIH1cclxuICB9LCBbXSk7XHJcbiAgY29uc3QgaGFuZGxlQ3VzdG9taXphdGlvbktleURvd24gPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHNldElzSGVhZGVyQ3VzdG9taXphdGlvbk9wZW4oZmFsc2UpO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTm90aWZpY2F0aW9uU2VsZWN0ID0gdXNlQ2FsbGJhY2soXHJcbiAgICAoZSkgPT4ge1xyXG4gICAgICBpZiAoZS5jdXJyZW50VGFyZ2V0Py5kYXRhc2V0Py5ub3RpZmljYXRpb25JZCkgc2V0SXNOb3RpZmljYXRpb25zT3BlbihmYWxzZSk7XHJcbiAgICAgIGlmIChpc01vYmlsZSkgc2V0SXNPdmVyZmxvd09wZW4oZmFsc2UpO1xyXG4gICAgfSxcclxuICAgIFtpc01vYmlsZV1cclxuICApO1xyXG5cclxuICBjb25zdCBoYW5kbGVWaWV3Tm90aWZpY2F0aW9ucyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHJvdXRlci5wdXNoKCcvbm90aWZpY2F0aW9ucycpO1xyXG4gICAgc2V0SXNOb3RpZmljYXRpb25zT3BlbihmYWxzZSk7XHJcbiAgICBzZXRJc092ZXJmbG93T3BlbihmYWxzZSk7XHJcbiAgfSwgW3JvdXRlcl0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVUb2dnbGVIZWFkZXJBY3Rpb25WaXNpYmlsaXR5ID0gdXNlQ2FsbGJhY2soXHJcbiAgICAoa2V5KSA9PiBkaXNwYXRjaCh1aUFjdGlvbnMudG9nZ2xlSGVhZGVyQWN0aW9uVmlzaWJpbGl0eShrZXkpKSxcclxuICAgIFtkaXNwYXRjaF1cclxuICApO1xyXG5cclxuICBjb25zdCBoYW5kbGVSZXNpemVTdGFydCA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChpc01vYmlsZSB8fCBpc1NpZGViYXJDb2xsYXBzZWQpIHJldHVybjtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHNldElzUmVzaXppbmcodHJ1ZSk7XHJcbiAgICAgIGNvbnN0IHN0YXJ0WCA9IGV2ZW50LmNsaWVudFg7XHJcbiAgICAgIGNvbnN0IHN0YXJ0V2lkdGggPSByZXNvbHZlZFNpZGViYXJXaWR0aDtcclxuICAgICAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gKG1vdmVFdmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRlbHRhID0gbW92ZUV2ZW50LmNsaWVudFggLSBzdGFydFg7XHJcbiAgICAgICAgZGlzcGF0Y2godWlBY3Rpb25zLnNldFNpZGViYXJXaWR0aChjbGFtcChzdGFydFdpZHRoICsgZGVsdGEsIFNJREVCQVJfTUlOX1dJRFRILCBTSURFQkFSX01BWF9XSURUSCkpKTtcclxuICAgICAgfTtcclxuICAgICAgY29uc3QgaGFuZGxlTW91c2VVcCA9ICgpID0+IHtcclxuICAgICAgICBzZXRJc1Jlc2l6aW5nKGZhbHNlKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTtcclxuICAgICAgfTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZU1vdXNlVXApO1xyXG4gICAgfSxcclxuICAgIFtkaXNwYXRjaCwgaXNNb2JpbGUsIGlzU2lkZWJhckNvbGxhcHNlZCwgcmVzb2x2ZWRTaWRlYmFyV2lkdGhdXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUmVzaXplS2V5RG93biA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKGUpID0+IHtcclxuICAgICAgaWYgKGlzTW9iaWxlIHx8IGlzU2lkZWJhckNvbGxhcHNlZCkgcmV0dXJuO1xyXG4gICAgICBpZiAoZS5rZXkgPT09ICdBcnJvd0xlZnQnIHx8IGUua2V5ID09PSAnQXJyb3dSaWdodCcpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgZGVsdGEgPSBlLmtleSA9PT0gJ0Fycm93UmlnaHQnID8gMTIgOiAtMTI7XHJcbiAgICAgICAgZGlzcGF0Y2godWlBY3Rpb25zLnNldFNpZGViYXJXaWR0aChjbGFtcChyZXNvbHZlZFNpZGViYXJXaWR0aCArIGRlbHRhLCBTSURFQkFSX01JTl9XSURUSCwgU0lERUJBUl9NQVhfV0lEVEgpKSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBbZGlzcGF0Y2gsIGlzTW9iaWxlLCBpc1NpZGViYXJDb2xsYXBzZWQsIHJlc29sdmVkU2lkZWJhcldpZHRoXVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZU1vYmlsZU92ZXJsYXlLZXlEb3duID0gdXNlQ2FsbGJhY2soXHJcbiAgICAoZSkgPT4ge1xyXG4gICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGhhbmRsZUNsb3NlTW9iaWxlU2lkZWJhcigpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgW2hhbmRsZUNsb3NlTW9iaWxlU2lkZWJhcl1cclxuICApO1xyXG5cclxuICBjb25zdCBoYW5kbGVUb2dnbGVGdWxsc2NyZWVuID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICghZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQpIGF3YWl0IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbigpO1xyXG4gICAgICBlbHNlIGF3YWl0IGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7XHJcbiAgICB9IGNhdGNoIChfKSB7fVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgdXNlS2V5Ym9hcmRTaG9ydGN1dHMoXHJcbiAgICB7XHJcbiAgICAgIHRvZ2dsZVNpZGViYXI6IGhhbmRsZVRvZ2dsZVNpZGViYXIsXHJcbiAgICAgIHRvZ2dsZUhlYWRlcjogaGFuZGxlVG9nZ2xlSGVhZGVyLFxyXG4gICAgICBvcGVuQ29tbWFuZFBhbGV0dGU6IGhhbmRsZU9wZW5Db21tYW5kUGFsZXR0ZSxcclxuICAgICAgc2hvd1Nob3J0Y3V0czogaGFuZGxlU2hvd1Nob3J0Y3V0cyxcclxuICAgICAgY2xvc2VNZW51czogaGFuZGxlQ2xvc2VNZW51cyxcclxuICAgIH0sXHJcbiAgICB0cnVlXHJcbiAgKTtcclxuICB1c2VGb2N1c1RyYXAobW9iaWxlU2lkZWJhclJlZiwgaXNNb2JpbGVTaWRlYmFyT3BlbiwgeyBpbml0aWFsRm9jdXNSZWY6IGNsb3NlQnV0dG9uUmVmIH0pO1xyXG4gIHVzZUZvY3VzVHJhcChub3RpZmljYXRpb25zTWVudVJlZiwgaXNOb3RpZmljYXRpb25zT3Blbik7XHJcbiAgdXNlRm9jdXNUcmFwKG92ZXJmbG93TWVudVJlZiwgaXNPdmVyZmxvd09wZW4pO1xyXG4gIHVzZUZvY3VzVHJhcChjdXN0b21pemF0aW9uTWVudVJlZiwgaXNIZWFkZXJDdXN0b21pemF0aW9uT3Blbik7XHJcblxyXG4gIGNvbnN0IGhlYWRlckN1c3RvbWl6YXRpb25JdGVtcyA9IHVzZUhlYWRlckN1c3RvbWl6YXRpb25JdGVtcyh0KTtcclxuICBjb25zdCBpc0hlYWRlckFjdGlvblZpc2libGUgPSB1c2VDYWxsYmFjayhcclxuICAgIChrZXkpID0+IGhlYWRlckFjdGlvblZpc2liaWxpdHk/LltrZXldICE9PSBmYWxzZSxcclxuICAgIFtoZWFkZXJBY3Rpb25WaXNpYmlsaXR5XVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGF1dGhIZWFkZXJBY3Rpb25zID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAoIWlzQXV0aGVudGljYXRlZCkge1xyXG4gICAgICByZXR1cm4gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAnbG9naW4nLFxyXG4gICAgICAgICAgbGFiZWw6IHQoJ2F1dGgubG9naW4uYnV0dG9uJyksXHJcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw6IHQoJ2F1dGgubG9naW4uYnV0dG9uJyksXHJcbiAgICAgICAgICBvblByZXNzOiBoYW5kbGVHb1RvTG9naW4sXHJcbiAgICAgICAgICB2YXJpYW50OiBBQ1RJT05fVkFSSUFOVFMuUFJJTUFSWSxcclxuICAgICAgICB9LFxyXG4gICAgICBdO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYWN0aW9ucyA9IFtdO1xyXG4gICAgaWYgKGNhbkFjY2Vzc1JlZ2lzdGVyKSB7XHJcbiAgICAgIGFjdGlvbnMucHVzaCh7XHJcbiAgICAgICAgaWQ6ICdyZWdpc3RlcicsXHJcbiAgICAgICAgbGFiZWw6IHQoJ2F1dGgucmVnaXN0ZXIuYnV0dG9uJyksXHJcbiAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsOiB0KCdhdXRoLnJlZ2lzdGVyLmJ1dHRvbicpLFxyXG4gICAgICAgIG9uUHJlc3M6IGhhbmRsZUdvVG9SZWdpc3RlcixcclxuICAgICAgICB2YXJpYW50OiBBQ1RJT05fVkFSSUFOVFMuR0hPU1QsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyogTG9nb3V0IG1vdmVkIHRvIEhlYWRlclV0aWxpdHkgdXNlciBtZW51ICovXHJcbiAgICByZXR1cm4gYWN0aW9ucztcclxuICB9LCBbY2FuQWNjZXNzUmVnaXN0ZXIsIGhhbmRsZUdvVG9Mb2dpbiwgaGFuZGxlR29Ub1JlZ2lzdGVyLCBpc0F1dGhlbnRpY2F0ZWQsIHRdKTtcclxuXHJcbiAgY29uc3QgcmF3Tm90aWZpY2F0aW9uSXRlbXMgPSB1c2VNZW1vKFxyXG4gICAgKCkgPT4gW1xyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdhcHBvaW50bWVudHMnLFxyXG4gICAgICAgIHRpdGxlOiB0KCduYXZpZ2F0aW9uLm5vdGlmaWNhdGlvbnMuaXRlbXMuYXBwb2ludG1lbnRzLnRpdGxlJyksXHJcbiAgICAgICAgbWV0YTogdCgnbmF2aWdhdGlvbi5ub3RpZmljYXRpb25zLml0ZW1zLmFwcG9pbnRtZW50cy5tZXRhJyksXHJcbiAgICAgICAgdW5yZWFkOiB0cnVlLFxyXG4gICAgICAgIGljb246ICfwn5OFJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnbGFiUmVzdWx0cycsXHJcbiAgICAgICAgdGl0bGU6IHQoJ25hdmlnYXRpb24ubm90aWZpY2F0aW9ucy5pdGVtcy5sYWJSZXN1bHRzLnRpdGxlJyksXHJcbiAgICAgICAgbWV0YTogdCgnbmF2aWdhdGlvbi5ub3RpZmljYXRpb25zLml0ZW1zLmxhYlJlc3VsdHMubWV0YScpLFxyXG4gICAgICAgIHVucmVhZDogdHJ1ZSxcclxuICAgICAgICBpY29uOiAn8J+nqicsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ21lc3NhZ2VzJyxcclxuICAgICAgICB0aXRsZTogdCgnbmF2aWdhdGlvbi5ub3RpZmljYXRpb25zLml0ZW1zLm1lc3NhZ2VzLnRpdGxlJyksXHJcbiAgICAgICAgbWV0YTogdCgnbmF2aWdhdGlvbi5ub3RpZmljYXRpb25zLml0ZW1zLm1lc3NhZ2VzLm1ldGEnKSxcclxuICAgICAgICB1bnJlYWQ6IGZhbHNlLFxyXG4gICAgICAgIGljb246ICfwn5KsJyxcclxuICAgICAgfSxcclxuICAgIF0sXHJcbiAgICBbdF1cclxuICApO1xyXG4gIGNvbnN0IHsgbm90aWZpY2F0aW9uSXRlbXMsIHVucmVhZENvdW50IH0gPSB1c2VOb3RpZmljYXRpb25EYXRhKHJhd05vdGlmaWNhdGlvbkl0ZW1zKTtcclxuXHJcbiAgY29uc3Qgc2hvdWxkU2hvd05vdGlmaWNhdGlvbnMgPSBpc0hlYWRlckFjdGlvblZpc2libGUoJ25vdGlmaWNhdGlvbnMnKTtcclxuICBjb25zdCBzaG91bGRTaG93TmV0d29yayA9IGlzSGVhZGVyQWN0aW9uVmlzaWJsZSgnbmV0d29yaycpO1xyXG4gIGNvbnN0IHNob3VsZFNob3dEYXRhYmFzZSA9IGlzSGVhZGVyQWN0aW9uVmlzaWJsZSgnZGF0YWJhc2UnKTtcclxuICBjb25zdCBzaG91bGRTaG93Tm90aWZpY2F0aW9uc0lubGluZSA9ICFpc01vYmlsZSAmJiBzaG91bGRTaG93Tm90aWZpY2F0aW9ucztcclxuICBjb25zdCBzaG91bGRTaG93RnVsbHNjcmVlbklubGluZSA9IGlzSGVhZGVyQWN0aW9uVmlzaWJsZSgnZnVsbHNjcmVlbicpICYmICFpc0NvbXBhY3RIZWFkZXIgJiYgIWlzTW9iaWxlO1xyXG4gIGNvbnN0IHNob3VsZFNob3dGdWxsc2NyZWVuT3ZlcmZsb3cgPSBpc0hlYWRlckFjdGlvblZpc2libGUoJ2Z1bGxzY3JlZW4nKSAmJiAoaXNDb21wYWN0SGVhZGVyIHx8IGlzTW9iaWxlKTtcclxuICBjb25zdCBmdWxsc2NyZWVuTGFiZWwgPSBpc0Z1bGxzY3JlZW4gPyB0KCduYXZpZ2F0aW9uLmZ1bGxzY3JlZW4uZXhpdCcpIDogdCgnbmF2aWdhdGlvbi5mdWxsc2NyZWVuLmVudGVyJyk7XHJcbiAgY29uc3QgZnVsbHNjcmVlbkljb25HbHlwaCA9IGlzRnVsbHNjcmVlbiA/ICfwn5eXJyA6ICfim7YnO1xyXG5cclxuICBjb25zdCBvdmVyZmxvd0l0ZW1zID0gdXNlTWVtbyhcclxuICAgICgpID0+XHJcbiAgICAgIGlzTW9iaWxlXHJcbiAgICAgICAgPyBbXVxyXG4gICAgICAgIDogc2hvdWxkU2hvd0Z1bGxzY3JlZW5PdmVyZmxvd1xyXG4gICAgICAgICAgPyBbeyBpZDogJ2Z1bGxzY3JlZW4nLCBsYWJlbDogZnVsbHNjcmVlbkxhYmVsLCBvblByZXNzOiBoYW5kbGVUb2dnbGVGdWxsc2NyZWVuLCBpY29uOiBmdWxsc2NyZWVuSWNvbkdseXBoIH1dXHJcbiAgICAgICAgICA6IFtdLFxyXG4gICAgW2Z1bGxzY3JlZW5JY29uR2x5cGgsIGZ1bGxzY3JlZW5MYWJlbCwgaGFuZGxlVG9nZ2xlRnVsbHNjcmVlbiwgaXNNb2JpbGUsIHNob3VsZFNob3dGdWxsc2NyZWVuT3ZlcmZsb3ddXHJcbiAgKTtcclxuXHJcbiAgY29uc3Qgc2hvdWxkU2hvd092ZXJmbG93TWVudSA9IGlzTW9iaWxlIHx8IG92ZXJmbG93SXRlbXMubGVuZ3RoID4gMDtcclxuICBjb25zdCBmdWxsc2NyZWVuSWNvbiA9IHVzZU1lbW8oXHJcbiAgICAoKSA9PiAoXHJcbiAgICAgIDxJY29uXHJcbiAgICAgICAgZ2x5cGg9e2Z1bGxzY3JlZW5JY29uR2x5cGh9XHJcbiAgICAgICAgZGVjb3JhdGl2ZVxyXG4gICAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbD17ZnVsbHNjcmVlbkxhYmVsfVxyXG4gICAgICAvPlxyXG4gICAgKSxcclxuICAgIFtmdWxsc2NyZWVuSWNvbkdseXBoLCBmdWxsc2NyZWVuTGFiZWxdXHJcbiAgKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghc2hvdWxkU2hvd05vdGlmaWNhdGlvbnMgJiYgaXNOb3RpZmljYXRpb25zT3Blbikgc2V0SXNOb3RpZmljYXRpb25zT3BlbihmYWxzZSk7XHJcbiAgfSwgW2lzTm90aWZpY2F0aW9uc09wZW4sIHNob3VsZFNob3dOb3RpZmljYXRpb25zXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWlzTW9iaWxlICYmIG92ZXJmbG93SXRlbXMubGVuZ3RoID09PSAwICYmIGlzT3ZlcmZsb3dPcGVuKSBzZXRJc092ZXJmbG93T3BlbihmYWxzZSk7XHJcbiAgfSwgW2lzTW9iaWxlLCBpc092ZXJmbG93T3Blbiwgb3ZlcmZsb3dJdGVtcy5sZW5ndGhdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlT3ZlcmZsb3dJdGVtUHJlc3MgPSB1c2VDYWxsYmFjayhhc3luYyAoaXRlbSkgPT4ge1xyXG4gICAgaWYgKGl0ZW0/Lm9uUHJlc3MpIGF3YWl0IGl0ZW0ub25QcmVzcygpO1xyXG4gICAgc2V0SXNPdmVyZmxvd09wZW4oZmFsc2UpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgQ1VTVE9NSVpBVElPTl9JQ09OX01BUCA9IHVzZU1lbW8oXHJcbiAgICAoKSA9PiAoeyBub3RpZmljYXRpb25zOiAn8J+UlCcsIG5ldHdvcms6ICfwn5O2JywgZGF0YWJhc2U6ICfwn5eEJywgZnVsbHNjcmVlbjogJ+KbticgfSksXHJcbiAgICBbXVxyXG4gICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB0LFxyXG4gICAgbWFpbkl0ZW1zLFxyXG4gICAgaXNJdGVtVmlzaWJsZSxcclxuICAgIG92ZXJsYXlTbG90LFxyXG4gICAgcmVzb2x2ZWRTaWRlYmFyV2lkdGgsXHJcbiAgICBpc1NpZGViYXJDb2xsYXBzZWQsXHJcbiAgICBpc01vYmlsZSxcclxuICAgIGlzSGVhZGVySGlkZGVuLFxyXG4gICAgaXNNb2JpbGVTaWRlYmFyT3BlbixcclxuICAgIGlzTm90aWZpY2F0aW9uc09wZW4sXHJcbiAgICBpc092ZXJmbG93T3BlbixcclxuICAgIGlzSGVhZGVyQ3VzdG9taXphdGlvbk9wZW4sXHJcbiAgICBub3RpZmljYXRpb25JdGVtcyxcclxuICAgIHVucmVhZENvdW50LFxyXG4gICAgaGVhZGVyQ3VzdG9taXphdGlvbkl0ZW1zLFxyXG4gICAgb3ZlcmZsb3dJdGVtcyxcclxuICAgIGZ1bGxzY3JlZW5MYWJlbCxcclxuICAgIGZ1bGxzY3JlZW5JY29uR2x5cGgsXHJcbiAgICBzaG91bGRTaG93Tm90aWZpY2F0aW9ucyxcclxuICAgIHNob3VsZFNob3dOZXR3b3JrLFxyXG4gICAgc2hvdWxkU2hvd0RhdGFiYXNlLFxyXG4gICAgc2hvdWxkU2hvd05vdGlmaWNhdGlvbnNJbmxpbmUsXHJcbiAgICBzaG91bGRTaG93RnVsbHNjcmVlbklubGluZSxcclxuICAgIHNob3VsZFNob3dGdWxsc2NyZWVuT3ZlcmZsb3csXHJcbiAgICBpc0hlYWRlckFjdGlvblZpc2libGUsXHJcbiAgICBhdXRoSGVhZGVyQWN0aW9ucyxcclxuICAgIGhhbmRsZVRvZ2dsZVNpZGViYXIsXHJcbiAgICBoYW5kbGVTaG93SGVhZGVyLFxyXG4gICAgaGFuZGxlSGlkZUhlYWRlcixcclxuICAgIGhhbmRsZUNsb3NlTW9iaWxlU2lkZWJhcixcclxuICAgIGhhbmRsZVRvZ2dsZU5vdGlmaWNhdGlvbnMsXHJcbiAgICBoYW5kbGVDbG9zZU5vdGlmaWNhdGlvbnMsXHJcbiAgICBoYW5kbGVUb2dnbGVPdmVyZmxvd01lbnUsXHJcbiAgICBoYW5kbGVUb2dnbGVIZWFkZXJDdXN0b21pemF0aW9uLFxyXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uc0tleURvd24sXHJcbiAgICBoYW5kbGVPdmVyZmxvd0tleURvd24sXHJcbiAgICBoYW5kbGVDdXN0b21pemF0aW9uS2V5RG93bixcclxuICAgIGhhbmRsZU5vdGlmaWNhdGlvblNlbGVjdCxcclxuICAgIGhhbmRsZVZpZXdOb3RpZmljYXRpb25zLFxyXG4gICAgaGFuZGxlVG9nZ2xlSGVhZGVyQWN0aW9uVmlzaWJpbGl0eSxcclxuICAgIGhhbmRsZVJlc2l6ZVN0YXJ0LFxyXG4gICAgaGFuZGxlUmVzaXplS2V5RG93bixcclxuICAgIGhhbmRsZU1vYmlsZU92ZXJsYXlLZXlEb3duLFxyXG4gICAgaGFuZGxlVG9nZ2xlRnVsbHNjcmVlbixcclxuICAgIGhhbmRsZU92ZXJmbG93SXRlbVByZXNzLFxyXG4gICAgc2hvdWxkU2hvd092ZXJmbG93TWVudSxcclxuICAgIGZ1bGxzY3JlZW5JY29uLFxyXG4gICAgY2xvc2VCdXR0b25SZWYsXHJcbiAgICBtb2JpbGVTaWRlYmFyUmVmLFxyXG4gICAgbm90aWZpY2F0aW9uc1JlZixcclxuICAgIG5vdGlmaWNhdGlvbnNNZW51UmVmLFxyXG4gICAgb3ZlcmZsb3dXcmFwcGVyUmVmLFxyXG4gICAgb3ZlcmZsb3dNZW51UmVmLFxyXG4gICAgY3VzdG9taXphdGlvbldyYXBwZXJSZWYsXHJcbiAgICBjdXN0b21pemF0aW9uTWVudVJlZixcclxuICAgIENVU1RPTUlaQVRJT05fSUNPTl9NQVAsXHJcbiAgICBpc0Z1bGxzY3JlZW4sXHJcbiAgICBvbkxvZ291dDogbG9nb3V0LFxyXG4gICAgaXNBdXRoZW50aWNhdGVkLFxyXG4gICAgZm9vdGVyVmlzaWJsZSxcclxuICB9O1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQU9BLElB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