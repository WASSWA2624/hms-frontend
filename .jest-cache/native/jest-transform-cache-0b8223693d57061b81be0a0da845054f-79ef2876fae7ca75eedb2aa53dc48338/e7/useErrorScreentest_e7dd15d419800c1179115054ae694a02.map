{"version":3,"names":["_getJestObj","mock","useRouter","jest","fn","_require2","require","React","TestRenderer","_require","act","renderHook","hook","options","arguments","length","undefined","initialProps","result","renderer","currentProps","HookHarness","hookResult","Object","assign","create","createElement","current","rerender","newProps","update","unmount","useErrorScreen","default","describe","mockPush","mockRouter","push","beforeEach","clearAllMocks","mockReturnValue","it","_renderHook","props","expect","handleGoHome","toBeDefined","toBe","_renderHook2","handleRetry","_renderHook3","hasRetry","_renderHook4","toHaveBeenCalledWith","toHaveBeenCalledTimes","mockOnRetry","_renderHook5","onRetry","_renderHook6","not","toThrow","_renderHook7","_renderHook8","_renderHook9","firstCallback","secondCallback","_renderHook0"],"sources":["useErrorScreen.test.js"],"sourcesContent":["/**\r\n * useErrorScreen Hook Tests\r\n * File: useErrorScreen.test.js\r\n */\r\nconst React = require('react');\r\nconst TestRenderer = require('react-test-renderer');\r\nconst { useRouter } = require('expo-router');\r\n\r\n// Custom renderHook implementation to avoid @testing-library/react-hooks dependency\r\nconst act = TestRenderer.act;\r\nconst renderHook = (hook, options = {}) => {\r\n  const { initialProps } = options;\r\n  const result = {};\r\n  let renderer;\r\n  let currentProps = initialProps;\r\n  \r\n  const HookHarness = () => {\r\n    const hookResult = hook(currentProps);\r\n    Object.assign(result, hookResult);\r\n    return null;\r\n  };\r\n  \r\n  act(() => {\r\n    renderer = TestRenderer.create(React.createElement(HookHarness));\r\n  });\r\n  \r\n  return {\r\n    result: { current: result },\r\n    rerender: (newProps) => {\r\n      currentProps = newProps;\r\n      act(() => {\r\n        renderer.update(React.createElement(HookHarness));\r\n      });\r\n    },\r\n    unmount: () => {\r\n      act(() => {\r\n        renderer.unmount();\r\n      });\r\n    },\r\n  };\r\n};\r\n\r\njest.mock('expo-router', () => ({\r\n  useRouter: jest.fn(),\r\n}));\r\n\r\nconst useErrorScreen = require('@platform/screens/common/ErrorScreen/useErrorScreen').default;\r\n\r\ndescribe('useErrorScreen Hook', () => {\r\n  const mockPush = jest.fn();\r\n  const mockRouter = {\r\n    push: mockPush,\r\n  };\r\n\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    useRouter.mockReturnValue(mockRouter);\r\n  });\r\n\r\n  it('should return handleGoHome function', () => {\r\n    const { result } = renderHook((props) => useErrorScreen(props));\r\n    expect(result.current.handleGoHome).toBeDefined();\r\n    expect(typeof result.current.handleGoHome).toBe('function');\r\n  });\r\n\r\n  it('should return handleRetry function', () => {\r\n    const { result } = renderHook((props) => useErrorScreen(props));\r\n    expect(result.current.handleRetry).toBeDefined();\r\n    expect(typeof result.current.handleRetry).toBe('function');\r\n  });\r\n\r\n  it('should return hasRetry boolean', () => {\r\n    const { result } = renderHook((props) => useErrorScreen(props));\r\n    expect(result.current.hasRetry).toBeDefined();\r\n    expect(typeof result.current.hasRetry).toBe('boolean');\r\n  });\r\n\r\n  it('should navigate to / when handleGoHome is called', () => {\r\n    const { result } = renderHook((props) => useErrorScreen(props));\r\n    \r\n    act(() => {\r\n      result.current.handleGoHome();\r\n    });\r\n\r\n    expect(mockPush).toHaveBeenCalledWith('/');\r\n    expect(mockPush).toHaveBeenCalledTimes(1);\r\n  });\r\n\r\n  it('should call onRetry when handleRetry is called and onRetry is provided', () => {\r\n    const mockOnRetry = jest.fn();\r\n    const { result } = renderHook((props) => useErrorScreen(props), { initialProps: { onRetry: mockOnRetry } });\r\n    \r\n    act(() => {\r\n      result.current.handleRetry();\r\n    });\r\n\r\n    expect(mockOnRetry).toHaveBeenCalledTimes(1);\r\n  });\r\n\r\n  it('should not throw when handleRetry is called without onRetry', () => {\r\n    const { result } = renderHook((props) => useErrorScreen(props));\r\n    \r\n    expect(() => {\r\n      act(() => {\r\n        result.current.handleRetry();\r\n      });\r\n    }).not.toThrow();\r\n  });\r\n\r\n  it('should set hasRetry to true when onRetry is provided', () => {\r\n    const mockOnRetry = jest.fn();\r\n    const { result } = renderHook((props) => useErrorScreen(props), { initialProps: { onRetry: mockOnRetry } });\r\n    expect(result.current.hasRetry).toBe(true);\r\n  });\r\n\r\n  it('should set hasRetry to false when onRetry is not provided', () => {\r\n    const { result } = renderHook((props) => useErrorScreen(props));\r\n    expect(result.current.hasRetry).toBe(false);\r\n  });\r\n\r\n  it('should memoize handleGoHome callback', () => {\r\n    const { result, rerender } = renderHook((props) => useErrorScreen(props));\r\n    const firstCallback = result.current.handleGoHome;\r\n    \r\n    rerender();\r\n    const secondCallback = result.current.handleGoHome;\r\n    \r\n    expect(firstCallback).toBe(secondCallback);\r\n  });\r\n\r\n  it('should memoize handleRetry callback', () => {\r\n    const mockOnRetry = jest.fn();\r\n    const { result, rerender } = renderHook((props) => useErrorScreen(props), { initialProps: { onRetry: mockOnRetry } });\r\n    const firstCallback = result.current.handleRetry;\r\n    \r\n    rerender({ onRetry: mockOnRetry });\r\n    const secondCallback = result.current.handleRetry;\r\n    \r\n    expect(firstCallback).toBe(secondCallback);\r\n  });\r\n});\r\n\r\n"],"mappings":"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","ignoreList":[]}