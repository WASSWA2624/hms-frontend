{"version":3,"names":["_react","_interopRequireWildcard","require","_ScreenWeb","_useScreen","_interopRequireDefault","_types","_jsxRuntime","_excluded","ScreenWeb","_ref","children","_ref$scroll","scroll","_ref$safeArea","safeArea","_ref$padding","padding","PADDING","MD","_ref$background","background","BACKGROUNDS","DEFAULT","accessibilityLabel","accessibilityHint","_ref$refreshing","refreshing","onRefresh","testID","className","rest","_objectWithoutProperties2","default","resolved","useScreen","pullStateRef","useRef","startY","isPulling","shouldTrigger","canRefresh","refreshThreshold","handleTouchStart","useCallback","event","_event$touches","target","currentTarget","scrollTop","touch","touches","current","clientY","handleTouchMove","_event$touches2","distance","handleTouchEnd","_pullStateRef$current","content","jsx","StyledRoot","Object","assign","StyledScroll","undefined","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","StyledContent","_default","exports"],"sources":["Screen.web.jsx"],"sourcesContent":["/**\r\n * Screen Component - Web\r\n * Safe-area aware screen wrapper (optionally scrollable)\r\n * File: Screen.web.jsx\r\n */\r\n\r\nimport React, { useCallback, useRef } from 'react';\r\nimport { StyledContent, StyledRoot, StyledScroll } from './Screen.web.styles';\r\nimport useScreen from './useScreen';\r\nimport { BACKGROUNDS, PADDING } from './types';\r\n\r\n/**\r\n * Screen component for Web\r\n * @param {Object} props - Screen props\r\n * @param {React.ReactNode} props.children - Screen content\r\n * @param {boolean} props.scroll - Enable scrolling\r\n * @param {boolean} props.safeArea - Respect safe area (default true)\r\n * @param {string} props.padding - Padding scale (none|sm|md|lg)\r\n * @param {string} props.background - Background (default|surface)\r\n * @param {string} props.accessibilityLabel - Accessibility label\r\n * @param {string} props.accessibilityHint - Accessibility hint\r\n * @param {string} props.testID - Test identifier\r\n * @param {string} props.className - Additional CSS class\r\n */\r\nconst ScreenWeb = ({\r\n  children,\r\n  scroll = false,\r\n  safeArea = true,\r\n  padding = PADDING.MD,\r\n  background = BACKGROUNDS.DEFAULT,\r\n  accessibilityLabel,\r\n  accessibilityHint,\r\n  refreshing = false,\r\n  onRefresh,\r\n  testID,\r\n  className,\r\n  ...rest\r\n}) => {\r\n  const resolved = useScreen({\r\n    scroll,\r\n    safeArea,\r\n    padding,\r\n    background,\r\n    accessibilityLabel,\r\n    testID,\r\n  });\r\n\r\n  const pullStateRef = useRef({\r\n    startY: 0,\r\n    isPulling: false,\r\n    shouldTrigger: false,\r\n  });\r\n  const canRefresh = typeof onRefresh === 'function';\r\n  const refreshThreshold = 80;\r\n\r\n  const handleTouchStart = useCallback(\r\n    (event) => {\r\n      if (!canRefresh || refreshing) return;\r\n      const target = event.currentTarget;\r\n      if (target && target.scrollTop > 0) return;\r\n      const touch = event.touches?.[0];\r\n      if (!touch) return;\r\n      pullStateRef.current = {\r\n        startY: touch.clientY,\r\n        isPulling: true,\r\n        shouldTrigger: false,\r\n      };\r\n    },\r\n    [canRefresh, refreshing]\r\n  );\r\n\r\n  const handleTouchMove = useCallback((event) => {\r\n    if (!pullStateRef.current.isPulling) return;\r\n    const touch = event.touches?.[0];\r\n    if (!touch) return;\r\n    const distance = touch.clientY - pullStateRef.current.startY;\r\n    if (distance > refreshThreshold) {\r\n      pullStateRef.current.shouldTrigger = true;\r\n    }\r\n  }, []);\r\n\r\n  const handleTouchEnd = useCallback(() => {\r\n    const { isPulling, shouldTrigger } = pullStateRef.current;\r\n    pullStateRef.current = { startY: 0, isPulling: false, shouldTrigger: false };\r\n    if (canRefresh && !refreshing && isPulling && shouldTrigger) {\r\n      onRefresh();\r\n    }\r\n  }, [canRefresh, onRefresh, refreshing]);\r\n\r\n  const content = (\r\n    <StyledRoot\r\n      safeArea={resolved.safeArea}\r\n      padding={resolved.padding}\r\n      background={resolved.background}\r\n      aria-label={resolved.accessibilityLabel}\r\n      aria-description={accessibilityHint}\r\n      data-testid={testID}\r\n      className={className}\r\n      {...rest}\r\n    >\r\n      {resolved.scroll ? (\r\n        <StyledScroll\r\n          data-testid={testID ? `${testID}-scroll` : undefined}\r\n          aria-busy={refreshing || undefined}\r\n          onTouchStart={canRefresh ? handleTouchStart : undefined}\r\n          onTouchMove={canRefresh ? handleTouchMove : undefined}\r\n          onTouchEnd={canRefresh ? handleTouchEnd : undefined}\r\n          onTouchCancel={canRefresh ? handleTouchEnd : undefined}\r\n        >\r\n          <StyledContent data-testid={testID ? `${testID}-content` : undefined}>\r\n            {children}\r\n          </StyledContent>\r\n        </StyledScroll>\r\n      ) : (\r\n        children\r\n      )}\r\n    </StyledRoot>\r\n  );\r\n\r\n  return content;\r\n};\r\n\r\nexport default ScreenWeb;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]}