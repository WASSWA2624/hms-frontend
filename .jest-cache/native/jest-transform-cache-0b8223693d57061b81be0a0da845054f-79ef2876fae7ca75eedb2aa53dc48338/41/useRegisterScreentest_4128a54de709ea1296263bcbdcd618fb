18d67337bac54bb9d8fadada823f80fc
_getJestObj().mock("../../../../../hooks", function () {
  return {
    useAuth: jest.fn(),
    useI18n: jest.fn(),
    useNetwork: jest.fn()
  };
});
_getJestObj().mock('expo-router', function () {
  return {
    useRouter: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
function _getJestObj() {
  var _require4 = require("@jest/globals"),
    jest = _require4.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var React = require('react');
var TestRenderer = require('react-test-renderer');
var _require = require("../../../../../hooks"),
  useAuth = _require.useAuth,
  useI18n = _require.useI18n,
  useNetwork = _require.useNetwork;
var _require2 = require('expo-router'),
  useRouter = _require2.useRouter;
var useRegisterScreen = require("../../../../../platform/screens/auth/RegisterScreen/useRegisterScreen").default;
var _require3 = require("../../../../../platform/screens/auth/RegisterScreen/types.js"),
  STEPS = _require3.STEPS;
var act = TestRenderer.act;
var renderHook = function renderHook(hook) {
  var result = {};
  var renderer;
  var HookHarness = function HookHarness() {
    var hookResult = hook();
    Object.assign(result, hookResult);
    return null;
  };
  act(function () {
    renderer = TestRenderer.create(React.createElement(HookHarness));
  });
  return {
    result: {
      current: result
    },
    unmount: function unmount() {
      act(function () {
        renderer.unmount();
      });
    }
  };
};
describe('useRegisterScreen Hook', function () {
  var register = jest.fn(function () {
    return Promise.resolve({});
  });
  var clearError = jest.fn();
  var push = jest.fn();
  var t = jest.fn(function (key) {
    if (key === 'errors.codes.UNKNOWN_ERROR') return 'Unknown error';
    if (key === 'errors.codes.CONFLICT') return 'Conflict';
    return key;
  });
  beforeEach(function () {
    jest.clearAllMocks();
    useAuth.mockReturnValue({
      register: register,
      clearError: clearError,
      isLoading: false,
      errorCode: null,
      isAuthenticated: true,
      roles: ['admin']
    });
    useI18n.mockReturnValue({
      t: t
    });
    useNetwork.mockReturnValue({
      isOffline: false
    });
    useRouter.mockReturnValue({
      push: push
    });
  });
  it('returns initial state', function () {
    var _renderHook = renderHook(function () {
        return useRegisterScreen();
      }),
      result = _renderHook.result;
    expect(result.current.email).toBe('');
    expect(result.current.password).toBe('');
    expect(result.current.tenantId).toBe('');
    expect(result.current.canSubmit).toBe(false);
    expect(result.current.canProceed).toBe(false);
  });
  it('enables continue when tenant is valid', function () {
    var _renderHook2 = renderHook(function () {
        return useRegisterScreen();
      }),
      result = _renderHook2.result;
    act(function () {
      result.current.handleChangeTenantId('550e8400-e29b-41d4-a716-446655440000');
    });
    expect(result.current.canProceed).toBe(true);
  });
  it('advances to details step and submits register payload', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook3 = renderHook(function () {
        return useRegisterScreen();
      }),
      result = _renderHook3.result;
    act(function () {
      result.current.handleChangeTenantId('550e8400-e29b-41d4-a716-446655440000');
      result.current.handleChangeFacilityId('550e8400-e29b-41d4-a716-446655440001');
    });
    act(function () {
      result.current.handleContinue();
    });
    act(function () {
      result.current.handleChangeEmail('user@example.com');
      result.current.handleChangePassword('Pass123!');
      result.current.handleChangePhone('+256 701 234 567');
    });
    yield act((0, _asyncToGenerator2.default)(function* () {
      yield result.current.handleSubmit();
    }));
    expect(clearError).toHaveBeenCalled();
    expect(register).toHaveBeenCalledWith({
      email: 'user@example.com',
      password: 'Pass123!',
      tenant_id: '550e8400-e29b-41d4-a716-446655440000',
      facility_id: '550e8400-e29b-41d4-a716-446655440001',
      phone: '256701234567'
    });
  }));
  it('maps error codes to i18n messages', function () {
    useAuth.mockReturnValue({
      register: register,
      clearError: clearError,
      isLoading: false,
      errorCode: 'CONFLICT'
    });
    var _renderHook4 = renderHook(function () {
        return useRegisterScreen();
      }),
      result = _renderHook4.result;
    expect(result.current.errorMessage).toBe('Conflict');
  });
  it('blocks access when user lacks role', function () {
    useAuth.mockReturnValue({
      register: register,
      clearError: clearError,
      isLoading: false,
      errorCode: null,
      isAuthenticated: false,
      roles: []
    });
    var _renderHook5 = renderHook(function () {
        return useRegisterScreen();
      }),
      result = _renderHook5.result;
    expect(result.current.accessErrorMessage).toBe('errors.codes.FORBIDDEN');
  });
  it('blocks continue when tenant is invalid', function () {
    var _renderHook6 = renderHook(function () {
        return useRegisterScreen();
      }),
      result = _renderHook6.result;
    act(function () {
      result.current.handleChangeTenantId('invalid');
    });
    act(function () {
      result.current.handleContinue();
    });
    expect(result.current.tenantIdError).toBe('forms.validation.invalidUuid');
    expect(result.current.step).toBe(STEPS.ORGANIZATION);
  });
  it('handles navigation actions', function () {
    var _renderHook7 = renderHook(function () {
        return useRegisterScreen();
      }),
      result = _renderHook7.result;
    act(function () {
      result.current.handleGoToLogin();
    });
    expect(push).toHaveBeenCalledWith('/login');
  });
  it('supports going back to organization step', function () {
    var _renderHook8 = renderHook(function () {
        return useRegisterScreen();
      }),
      result = _renderHook8.result;
    act(function () {
      result.current.handleChangeTenantId('550e8400-e29b-41d4-a716-446655440000');
      result.current.handleContinue();
      result.current.handleBack();
    });
    expect(result.current.step).toBe(STEPS.ORGANIZATION);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VBdXRoIiwiamVzdCIsImZuIiwidXNlSTE4biIsInVzZU5ldHdvcmsiLCJ1c2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImRlZmF1bHQiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVxdWlyZTQiLCJSZWFjdCIsIlRlc3RSZW5kZXJlciIsIl9yZXF1aXJlIiwiX3JlcXVpcmUyIiwidXNlUmVnaXN0ZXJTY3JlZW4iLCJfcmVxdWlyZTMiLCJTVEVQUyIsImFjdCIsInJlbmRlckhvb2siLCJob29rIiwicmVzdWx0IiwicmVuZGVyZXIiLCJIb29rSGFybmVzcyIsImhvb2tSZXN1bHQiLCJPYmplY3QiLCJhc3NpZ24iLCJjcmVhdGUiLCJjcmVhdGVFbGVtZW50IiwiY3VycmVudCIsInVubW91bnQiLCJkZXNjcmliZSIsInJlZ2lzdGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJjbGVhckVycm9yIiwicHVzaCIsInQiLCJrZXkiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsImlzTG9hZGluZyIsImVycm9yQ29kZSIsImlzQXV0aGVudGljYXRlZCIsInJvbGVzIiwiaXNPZmZsaW5lIiwiaXQiLCJfcmVuZGVySG9vayIsImV4cGVjdCIsImVtYWlsIiwidG9CZSIsInBhc3N3b3JkIiwidGVuYW50SWQiLCJjYW5TdWJtaXQiLCJjYW5Qcm9jZWVkIiwiX3JlbmRlckhvb2syIiwiaGFuZGxlQ2hhbmdlVGVuYW50SWQiLCJfcmVuZGVySG9vazMiLCJoYW5kbGVDaGFuZ2VGYWNpbGl0eUlkIiwiaGFuZGxlQ29udGludWUiLCJoYW5kbGVDaGFuZ2VFbWFpbCIsImhhbmRsZUNoYW5nZVBhc3N3b3JkIiwiaGFuZGxlQ2hhbmdlUGhvbmUiLCJoYW5kbGVTdWJtaXQiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJ0ZW5hbnRfaWQiLCJmYWNpbGl0eV9pZCIsInBob25lIiwiX3JlbmRlckhvb2s0IiwiZXJyb3JNZXNzYWdlIiwiX3JlbmRlckhvb2s1IiwiYWNjZXNzRXJyb3JNZXNzYWdlIiwiX3JlbmRlckhvb2s2IiwidGVuYW50SWRFcnJvciIsInN0ZXAiLCJPUkdBTklaQVRJT04iLCJfcmVuZGVySG9vazciLCJoYW5kbGVHb1RvTG9naW4iLCJfcmVuZGVySG9vazgiLCJoYW5kbGVCYWNrIl0sInNvdXJjZXMiOlsidXNlUmVnaXN0ZXJTY3JlZW4udGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogdXNlUmVnaXN0ZXJTY3JlZW4gSG9vayBUZXN0c1xyXG4gKiBGaWxlOiB1c2VSZWdpc3RlclNjcmVlbi50ZXN0LmpzXHJcbiAqL1xyXG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmNvbnN0IFRlc3RSZW5kZXJlciA9IHJlcXVpcmUoJ3JlYWN0LXRlc3QtcmVuZGVyZXInKTtcclxuY29uc3QgeyB1c2VBdXRoLCB1c2VJMThuLCB1c2VOZXR3b3JrIH0gPSByZXF1aXJlKCdAaG9va3MnKTtcclxuY29uc3QgeyB1c2VSb3V0ZXIgfSA9IHJlcXVpcmUoJ2V4cG8tcm91dGVyJyk7XHJcblxyXG5jb25zdCB1c2VSZWdpc3RlclNjcmVlbiA9IHJlcXVpcmUoJ0BwbGF0Zm9ybS9zY3JlZW5zL2F1dGgvUmVnaXN0ZXJTY3JlZW4vdXNlUmVnaXN0ZXJTY3JlZW4nKS5kZWZhdWx0O1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVucmVzb2x2ZWRcclxuY29uc3QgeyBTVEVQUyB9ID0gcmVxdWlyZSgnQHBsYXRmb3JtL3NjcmVlbnMvYXV0aC9SZWdpc3RlclNjcmVlbi90eXBlcy5qcycpO1xyXG5cclxuamVzdC5tb2NrKCdAaG9va3MnLCAoKSA9PiAoe1xyXG4gIHVzZUF1dGg6IGplc3QuZm4oKSxcclxuICB1c2VJMThuOiBqZXN0LmZuKCksXHJcbiAgdXNlTmV0d29yazogamVzdC5mbigpLFxyXG59KSk7XHJcblxyXG5qZXN0Lm1vY2soJ2V4cG8tcm91dGVyJywgKCkgPT4gKHtcclxuICB1c2VSb3V0ZXI6IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuY29uc3QgYWN0ID0gVGVzdFJlbmRlcmVyLmFjdDtcclxuY29uc3QgcmVuZGVySG9vayA9IChob29rKSA9PiB7XHJcbiAgY29uc3QgcmVzdWx0ID0ge307XHJcbiAgbGV0IHJlbmRlcmVyO1xyXG5cclxuICBjb25zdCBIb29rSGFybmVzcyA9ICgpID0+IHtcclxuICAgIGNvbnN0IGhvb2tSZXN1bHQgPSBob29rKCk7XHJcbiAgICBPYmplY3QuYXNzaWduKHJlc3VsdCwgaG9va1Jlc3VsdCk7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9O1xyXG5cclxuICBhY3QoKCkgPT4ge1xyXG4gICAgcmVuZGVyZXIgPSBUZXN0UmVuZGVyZXIuY3JlYXRlKFJlYWN0LmNyZWF0ZUVsZW1lbnQoSG9va0hhcm5lc3MpKTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3VsdDogeyBjdXJyZW50OiByZXN1bHQgfSxcclxuICAgIHVubW91bnQ6ICgpID0+IHtcclxuICAgICAgYWN0KCgpID0+IHtcclxuICAgICAgICByZW5kZXJlci51bm1vdW50KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9O1xyXG59O1xyXG5cclxuZGVzY3JpYmUoJ3VzZVJlZ2lzdGVyU2NyZWVuIEhvb2snLCAoKSA9PiB7XHJcbiAgY29uc3QgcmVnaXN0ZXIgPSBqZXN0LmZuKCgpID0+IFByb21pc2UucmVzb2x2ZSh7fSkpO1xyXG4gIGNvbnN0IGNsZWFyRXJyb3IgPSBqZXN0LmZuKCk7XHJcbiAgY29uc3QgcHVzaCA9IGplc3QuZm4oKTtcclxuICBjb25zdCB0ID0gamVzdC5mbigoa2V5KSA9PiB7XHJcbiAgICBpZiAoa2V5ID09PSAnZXJyb3JzLmNvZGVzLlVOS05PV05fRVJST1InKSByZXR1cm4gJ1Vua25vd24gZXJyb3InO1xyXG4gICAgaWYgKGtleSA9PT0gJ2Vycm9ycy5jb2Rlcy5DT05GTElDVCcpIHJldHVybiAnQ29uZmxpY3QnO1xyXG4gICAgcmV0dXJuIGtleTtcclxuICB9KTtcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgIHVzZUF1dGgubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgcmVnaXN0ZXIsXHJcbiAgICAgIGNsZWFyRXJyb3IsXHJcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgICAgIGVycm9yQ29kZTogbnVsbCxcclxuICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxyXG4gICAgICByb2xlczogWydhZG1pbiddLFxyXG4gICAgfSk7XHJcbiAgICB1c2VJMThuLm1vY2tSZXR1cm5WYWx1ZSh7IHQgfSk7XHJcbiAgICB1c2VOZXR3b3JrLm1vY2tSZXR1cm5WYWx1ZSh7IGlzT2ZmbGluZTogZmFsc2UgfSk7XHJcbiAgICB1c2VSb3V0ZXIubW9ja1JldHVyblZhbHVlKHsgcHVzaCB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3JldHVybnMgaW5pdGlhbCBzdGF0ZScsICgpID0+IHtcclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVJlZ2lzdGVyU2NyZWVuKCkpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmVtYWlsKS50b0JlKCcnKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5wYXNzd29yZCkudG9CZSgnJyk7XHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudGVuYW50SWQpLnRvQmUoJycpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhblN1Ym1pdCkudG9CZShmYWxzZSk7XHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY2FuUHJvY2VlZCkudG9CZShmYWxzZSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdlbmFibGVzIGNvbnRpbnVlIHdoZW4gdGVuYW50IGlzIHZhbGlkJywgKCkgPT4ge1xyXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUmVnaXN0ZXJTY3JlZW4oKSk7XHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVDaGFuZ2VUZW5hbnRJZCgnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAwJyk7XHJcbiAgICB9KTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYW5Qcm9jZWVkKS50b0JlKHRydWUpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnYWR2YW5jZXMgdG8gZGV0YWlscyBzdGVwIGFuZCBzdWJtaXRzIHJlZ2lzdGVyIHBheWxvYWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VSZWdpc3RlclNjcmVlbigpKTtcclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUNoYW5nZVRlbmFudElkKCc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAnKTtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ2hhbmdlRmFjaWxpdHlJZCgnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAxJyk7XHJcbiAgICB9KTtcclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUNvbnRpbnVlKCk7XHJcbiAgICB9KTtcclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUNoYW5nZUVtYWlsKCd1c2VyQGV4YW1wbGUuY29tJyk7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUNoYW5nZVBhc3N3b3JkKCdQYXNzMTIzIScpO1xyXG4gICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVDaGFuZ2VQaG9uZSgnKzI1NiA3MDEgMjM0IDU2NycpO1xyXG4gICAgfSk7XHJcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5oYW5kbGVTdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gICAgZXhwZWN0KGNsZWFyRXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIGV4cGVjdChyZWdpc3RlcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xyXG4gICAgICBlbWFpbDogJ3VzZXJAZXhhbXBsZS5jb20nLFxyXG4gICAgICBwYXNzd29yZDogJ1Bhc3MxMjMhJyxcclxuICAgICAgdGVuYW50X2lkOiAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAwJyxcclxuICAgICAgZmFjaWxpdHlfaWQ6ICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDEnLFxyXG4gICAgICBwaG9uZTogJzI1NjcwMTIzNDU2NycsXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ21hcHMgZXJyb3IgY29kZXMgdG8gaTE4biBtZXNzYWdlcycsICgpID0+IHtcclxuICAgIHVzZUF1dGgubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgcmVnaXN0ZXIsXHJcbiAgICAgIGNsZWFyRXJyb3IsXHJcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgICAgIGVycm9yQ29kZTogJ0NPTkZMSUNUJyxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUmVnaXN0ZXJTY3JlZW4oKSk7XHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZXJyb3JNZXNzYWdlKS50b0JlKCdDb25mbGljdCcpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnYmxvY2tzIGFjY2VzcyB3aGVuIHVzZXIgbGFja3Mgcm9sZScsICgpID0+IHtcclxuICAgIHVzZUF1dGgubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgcmVnaXN0ZXIsXHJcbiAgICAgIGNsZWFyRXJyb3IsXHJcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgICAgIGVycm9yQ29kZTogbnVsbCxcclxuICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcclxuICAgICAgcm9sZXM6IFtdLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VSZWdpc3RlclNjcmVlbigpKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5hY2Nlc3NFcnJvck1lc3NhZ2UpLnRvQmUoJ2Vycm9ycy5jb2Rlcy5GT1JCSURERU4nKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2Jsb2NrcyBjb250aW51ZSB3aGVuIHRlbmFudCBpcyBpbnZhbGlkJywgKCkgPT4ge1xyXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUmVnaXN0ZXJTY3JlZW4oKSk7XHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVDaGFuZ2VUZW5hbnRJZCgnaW52YWxpZCcpO1xyXG4gICAgfSk7XHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVDb250aW51ZSgpO1xyXG4gICAgfSk7XHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudGVuYW50SWRFcnJvcikudG9CZSgnZm9ybXMudmFsaWRhdGlvbi5pbnZhbGlkVXVpZCcpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnN0ZXApLnRvQmUoU1RFUFMuT1JHQU5JWkFUSU9OKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2hhbmRsZXMgbmF2aWdhdGlvbiBhY3Rpb25zJywgKCkgPT4ge1xyXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUmVnaXN0ZXJTY3JlZW4oKSk7XHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVHb1RvTG9naW4oKTtcclxuICAgIH0pO1xyXG4gICAgZXhwZWN0KHB1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvbG9naW4nKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3N1cHBvcnRzIGdvaW5nIGJhY2sgdG8gb3JnYW5pemF0aW9uIHN0ZXAnLCAoKSA9PiB7XHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VSZWdpc3RlclNjcmVlbigpKTtcclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUNoYW5nZVRlbmFudElkKCc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAnKTtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ29udGludWUoKTtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQmFjaygpO1xyXG4gICAgfSk7XHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RlcCkudG9CZShTVEVQUy5PUkdBTklaQVRJT04pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBYUFBLFdBQUEsR0FBS0MsSUFBSSx5QkFBVztFQUFBLE9BQU87SUFDekJDLE9BQU8sRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNsQkMsT0FBTyxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ2xCRSxVQUFVLEVBQUVILElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQ3RCLENBQUM7QUFBQSxDQUFDLENBQUM7QUFFSEosV0FBQSxHQUFLQyxJQUFJLENBQUMsYUFBYSxFQUFFO0VBQUEsT0FBTztJQUM5Qk0sU0FBUyxFQUFFSixJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUNyQixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBQUMsSUFBQUksc0JBQUEsR0FBQUMsT0FBQSxpREFBQUMsT0FBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBQSxTQUFBVCxZQUFBO0VBQUEsSUFBQVksU0FBQSxHQUFBSCxPQUFBO0lBQUFOLElB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