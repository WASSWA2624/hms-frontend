{"version":3,"names":["useMemo","useRouter","useAuth","useI18n","useNavigationVisibility","useUiState","MAIN_NAV_ITEMS","getMenuIconGlyph","useAuthGuard","AUTH","ACTION_VARIANTS","LoadingOverlay","jsx","_jsx","cov_2lxvx6lg23","s","useMainRouteLayoutNative","f","_ref","t","router","_ref2","isAuthenticated","logout","roles","_ref3","isLoading","_ref4","isItemVisible","mainItems","map","it","Object","assign","href","path","label","id","icon","canAccessRegister","_AUTH$REGISTER_ROLES","b","REGISTER_ROLES","length","some","role","includes","headerActions","concat","_toConsumableArray","accessibilityLabel","onPress","push","variant","GHOST","PRIMARY","overlaySlot","visible","testID"],"sources":["useMainRouteLayoutNative.js"],"sourcesContent":["/**\r\n * useMainRouteLayoutNative Hook\r\n * Shared logic for MainRouteLayout Android and iOS (header actions, overlay, nav items)\r\n * File: useMainRouteLayoutNative.js\r\n */\r\n\r\nimport { useMemo } from 'react';\r\nimport { useRouter } from 'expo-router';\r\nimport { useAuth, useI18n, useNavigationVisibility, useUiState } from '@hooks';\r\nimport { MAIN_NAV_ITEMS, getMenuIconGlyph } from '@config/sideMenu';\r\nimport { useAuthGuard } from '@navigation/guards';\r\nimport { AUTH } from '@config';\r\nimport { ACTION_VARIANTS } from '@platform/components/navigation/GlobalHeader/types';\r\nimport { LoadingOverlay } from '@platform/components';\r\n\r\n/**\r\n * Shared hook for MainRouteLayout native (Android/iOS)\r\n * @returns {Object} headerActions, overlaySlot, mainItems, isItemVisible\r\n */\r\nconst useMainRouteLayoutNative = () => {\r\n  useAuthGuard();\r\n  const { t } = useI18n();\r\n  const router = useRouter();\r\n  const { isAuthenticated, logout, roles } = useAuth();\r\n  const { isLoading } = useUiState();\r\n  const { isItemVisible } = useNavigationVisibility();\r\n  const mainItems = useMemo(\r\n    () =>\r\n      MAIN_NAV_ITEMS.map((it) => ({\r\n        ...it,\r\n        href: it.path,\r\n        label: t(`navigation.items.main.${it.id}`),\r\n        icon: getMenuIconGlyph(it.icon),\r\n      })),\r\n    [t]\r\n  );\r\n\r\n  const canAccessRegister = useMemo(\r\n    () =>\r\n      isAuthenticated &&\r\n      AUTH.REGISTER_ROLES?.length > 0 &&\r\n      AUTH.REGISTER_ROLES.some((role) => roles.includes(role)),\r\n    [isAuthenticated, roles]\r\n  );\r\n\r\n  const headerActions = useMemo(\r\n    () =>\r\n      isAuthenticated\r\n        ? [\r\n            ...(canAccessRegister\r\n              ? [\r\n                  {\r\n                    id: 'register',\r\n                    label: t('auth.register.button'),\r\n                    accessibilityLabel: t('auth.register.button'),\r\n                    onPress: () => router.push('/register'),\r\n                    variant: ACTION_VARIANTS.GHOST,\r\n                  },\r\n                ]\r\n              : []),\r\n            {\r\n              id: 'logout',\r\n              label: t('navigation.header.logout'),\r\n              accessibilityLabel: t('navigation.header.logout'),\r\n              onPress: logout,\r\n              variant: ACTION_VARIANTS.GHOST,\r\n            },\r\n          ]\r\n        : [\r\n            {\r\n              id: 'login',\r\n              label: t('auth.login.button'),\r\n              accessibilityLabel: t('auth.login.button'),\r\n              onPress: () => router.push('/login'),\r\n              variant: ACTION_VARIANTS.PRIMARY,\r\n            },\r\n          ],\r\n    [isAuthenticated, canAccessRegister, logout, router, t]\r\n  );\r\n\r\n  const overlaySlot = useMemo(\r\n    () =>\r\n      isLoading ? (\r\n        <LoadingOverlay visible testID=\"main-loading-overlay\" />\r\n      ) : null,\r\n    [isLoading]\r\n  );\r\n\r\n  return { headerActions, overlaySlot, mainItems, isItemVisible };\r\n};\r\n\r\nexport default useMainRouteLayoutNative;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,SAASA,OAAO,QAAQ,OAAO;AAC/B,SAASC,SAAS,QAAQ,aAAa;AACvC,SAASC,OAAO,EAAEC,OAAO,EAAEC,uBAAuB,EAAEC,UAAU;AAC9D,SAASC,cAAc,EAAEC,gBAAgB;AACzC,SAASC,YAAY;AACrB,SAASC,IAAI;AACb,SAASC,eAAe;AACxB,SAASC,cAAc;AAA+B,SAAAC,GAAA,IAAAC,IAAA;AAAAC,cAAA,GAAAC,CAAA;AAMtD,IAAMC,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAA,EAAS;EAAAF,cAAA,GAAAG,CAAA;EAAAH,cAAA,GAAAC,CAAA;EACrCP,YAAY,CAAC,CAAC;EACd,IAAAU,IAAA,IAAAJ,cAAA,GAAAC,CAAA,OAAcZ,OAAO,CAAC,CAAC;IAAfgB,CAAC,GAAAD,IAAA,CAADC,CAAC;EACT,IAAMC,MAAM,IAAAN,cAAA,GAAAC,CAAA,OAAGd,SAAS,CAAC,CAAC;EAC1B,IAAAoB,KAAA,IAAAP,cAAA,GAAAC,CAAA,OAA2Cb,OAAO,CAAC,CAAC;IAA5CoB,eAAe,GAAAD,KAAA,CAAfC,eAAe;IAAEC,MAAM,GAAAF,KAAA,CAANE,MAAM;IAAEC,KAAK,GAAAH,KAAA,CAALG,KAAK;EACtC,IAAAC,KAAA,IAAAX,cAAA,GAAAC,CAAA,OAAsBV,UAAU,CAAC,CAAC;IAA1BqB,SAAS,GAAAD,KAAA,CAATC,SAAS;EACjB,IAAAC,KAAA,IAAAb,cAAA,GAAAC,CAAA,OAA0BX,uBAAuB,CAAC,CAAC;IAA3CwB,aAAa,GAAAD,KAAA,CAAbC,aAAa;EACrB,IAAMC,SAAS,IAAAf,cAAA,GAAAC,CAAA,OAAGf,OAAO,CACvB,YACE;IAAAc,cAAA,GAAAG,CAAA;IAAAH,cAAA,GAAAC,CAAA;IAAA,OAAAT,cAAc,CAACwB,GAAG,CAAC,UAACC,EAAE,EAAM;MAAAjB,cAAA,GAAAG,CAAA;MAAAH,cAAA,GAAAC,CAAA;MAAA,OAAAiB,MAAA,CAAAC,MAAA,KACvBF,EAAE;QACLG,IAAI,EAAEH,EAAE,CAACI,IAAI;QACbC,KAAK,EAAEjB,CAAC,CAAC,yBAAyBY,EAAE,CAACM,EAAE,EAAE,CAAC;QAC1CC,IAAI,EAAE/B,gBAAgB,CAACwB,EAAE,CAACO,IAAI;MAAC;IACjC,CAAE,CAAC;EAAD,CAAC,EACL,CAACnB,CAAC,CACJ,CAAC;EAED,IAAMoB,iBAAiB,IAAAzB,cAAA,GAAAC,CAAA,QAAGf,OAAO,CAC/B,YACE;IAAA,IAAAwC,oBAAA;IAAA1B,cAAA,GAAAG,CAAA;IAAAH,cAAA,GAAAC,CAAA;IAAA,QAAAD,cAAA,GAAA2B,CAAA,UAAAnB,eAAe,MAAAR,cAAA,GAAA2B,CAAA,UACf,EAAAD,oBAAA,GAAA/B,IAAI,CAACiC,cAAc,qBAAnBF,oBAAA,CAAqBG,MAAM,IAAG,CAAC,MAAA7B,cAAA,GAAA2B,CAAA,UAC/BhC,IAAI,CAACiC,cAAc,CAACE,IAAI,CAAC,UAACC,IAAI,EAAK;MAAA/B,cAAA,GAAAG,CAAA;MAAAH,cAAA,GAAAC,CAAA;MAAA,OAAAS,KAAK,CAACsB,QAAQ,CAACD,IAAI,CAAC;IAAD,CAAC,CAAC;EAAD,CAAC,EAC1D,CAACvB,eAAe,EAAEE,KAAK,CACzB,CAAC;EAED,IAAMuB,aAAa,IAAAjC,cAAA,GAAAC,CAAA,QAAGf,OAAO,CAC3B,YACE;IAAAc,cAAA,GAAAG,CAAA;IAAAH,cAAA,GAAAC,CAAA;IAAA,OAAAO,eAAe,IAAAR,cAAA,GAAA2B,CAAA,aAAAO,MAAA,CAAAC,kBAAA,CAELV,iBAAiB,IAAAzB,cAAA,GAAA2B,CAAA,UACjB,CACE;MACEJ,EAAE,EAAE,UAAU;MACdD,KAAK,EAAEjB,CAAC,CAAC,sBAAsB,CAAC;MAChC+B,kBAAkB,EAAE/B,CAAC,CAAC,sBAAsB,CAAC;MAC7CgC,OAAO,EAAE,SAATA,OAAOA,CAAA,EAAQ;QAAArC,cAAA,GAAAG,CAAA;QAAAH,cAAA,GAAAC,CAAA;QAAA,OAAAK,MAAM,CAACgC,IAAI,CAAC,WAAW,CAAC;MAAD,CAAC;MACvCC,OAAO,EAAE3C,eAAe,CAAC4C;IAC3B,CAAC,CACF,KAAAxC,cAAA,GAAA2B,CAAA,UACD,EAAE,KACN;MACEJ,EAAE,EAAE,QAAQ;MACZD,KAAK,EAAEjB,CAAC,CAAC,0BAA0B,CAAC;MACpC+B,kBAAkB,EAAE/B,CAAC,CAAC,0BAA0B,CAAC;MACjDgC,OAAO,EAAE5B,MAAM;MACf8B,OAAO,EAAE3C,eAAe,CAAC4C;IAC3B,CAAC,OAAAxC,cAAA,GAAA2B,CAAA,UAEH,CACE;MACEJ,EAAE,EAAE,OAAO;MACXD,KAAK,EAAEjB,CAAC,CAAC,mBAAmB,CAAC;MAC7B+B,kBAAkB,EAAE/B,CAAC,CAAC,mBAAmB,CAAC;MAC1CgC,OAAO,EAAE,SAATA,OAAOA,CAAA,EAAQ;QAAArC,cAAA,GAAAG,CAAA;QAAAH,cAAA,GAAAC,CAAA;QAAA,OAAAK,MAAM,CAACgC,IAAI,CAAC,QAAQ,CAAC;MAAD,CAAC;MACpCC,OAAO,EAAE3C,eAAe,CAAC6C;IAC3B,CAAC,CACF;EAAD,CAAC,EACP,CAACjC,eAAe,EAAEiB,iBAAiB,EAAEhB,MAAM,EAAEH,MAAM,EAAED,CAAC,CACxD,CAAC;EAED,IAAMqC,WAAW,IAAA1C,cAAA,GAAAC,CAAA,QAAGf,OAAO,CACzB,YACE;IAAAc,cAAA,GAAAG,CAAA;IAAAH,cAAA,GAAAC,CAAA;IAAA,OAAAW,SAAS,IAAAZ,cAAA,GAAA2B,CAAA,UACP5B,IAAA,CAACF,cAAc;MAAC8C,OAAO;MAACC,MAAM,EAAC;IAAsB,CAAE,CAAC,KAAA5C,cAAA,GAAA2B,CAAA,UACtD,IAAI;EAAD,CAAC,EACV,CAACf,SAAS,CACZ,CAAC;EAACZ,cAAA,GAAAC,CAAA;EAEF,OAAO;IAAEgC,aAAa,EAAbA,aAAa;IAAES,WAAW,EAAXA,WAAW;IAAE3B,SAAS,EAATA,SAAS;IAAED,aAAa,EAAbA;EAAc,CAAC;AACjE,CAAC;AAED,eAAeZ,wBAAwB","ignoreList":[]}