8b38b3ffeb5d8336d41baa8754dff3da
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.normalizeAuthUser = exports.normalizeAuthTokens = exports.normalizeAuthResponse = void 0;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _excluded = ["id"];
var normalizeAuthUser = exports.normalizeAuthUser = function normalizeAuthUser(value) {
  if (!value || typeof value !== 'object') return null;
  var _value$id = value.id,
    id = _value$id === void 0 ? null : _value$id,
    rest = (0, _objectWithoutProperties2.default)(value, _excluded);
  return Object.assign({
    id: id
  }, rest);
};
var normalizeAuthTokens = exports.normalizeAuthTokens = function normalizeAuthTokens(value) {
  if (!value || typeof value !== 'object') return null;
  var accessToken = value.accessToken || value.access_token || null;
  var refreshToken = value.refreshToken || value.refresh_token || null;
  if (!accessToken && !refreshToken) return null;
  return {
    accessToken: accessToken,
    refreshToken: refreshToken
  };
};
var normalizeAuthResponse = exports.normalizeAuthResponse = function normalizeAuthResponse(value) {
  if (!value || typeof value !== 'object') {
    return {
      user: null,
      tokens: null
    };
  }
  var user = normalizeAuthUser(value.user || value.profile || value);
  var tokens = normalizeAuthTokens(value.tokens || value);
  return {
    user: user,
    tokens: tokens
  };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJub3JtYWxpemVBdXRoVXNlciIsImV4cG9ydHMiLCJ2YWx1ZSIsIl92YWx1ZSRpZCIsImlkIiwicmVzdCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJkZWZhdWx0IiwiX2V4Y2x1ZGVkIiwiT2JqZWN0IiwiYXNzaWduIiwibm9ybWFsaXplQXV0aFRva2VucyIsImFjY2Vzc1Rva2VuIiwiYWNjZXNzX3Rva2VuIiwicmVmcmVzaFRva2VuIiwicmVmcmVzaF90b2tlbiIsIm5vcm1hbGl6ZUF1dGhSZXNwb25zZSIsInVzZXIiLCJ0b2tlbnMiLCJwcm9maWxlIl0sInNvdXJjZXMiOlsiYXV0aC5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQXV0aCBNb2RlbFxyXG4gKiBOb3JtYWxpemVzIGF1dGggcmVzcG9uc2VzXHJcbiAqIEZpbGU6IGF1dGgubW9kZWwuanNcclxuICovXHJcblxyXG5jb25zdCBub3JtYWxpemVBdXRoVXNlciA9ICh2YWx1ZSkgPT4ge1xyXG4gIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JykgcmV0dXJuIG51bGw7XHJcbiAgY29uc3QgeyBpZCA9IG51bGwsIC4uLnJlc3QgfSA9IHZhbHVlO1xyXG4gIHJldHVybiB7IGlkLCAuLi5yZXN0IH07XHJcbn07XHJcblxyXG5jb25zdCBub3JtYWxpemVBdXRoVG9rZW5zID0gKHZhbHVlKSA9PiB7XHJcbiAgaWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKSByZXR1cm4gbnVsbDtcclxuICBjb25zdCBhY2Nlc3NUb2tlbiA9IHZhbHVlLmFjY2Vzc1Rva2VuIHx8IHZhbHVlLmFjY2Vzc190b2tlbiB8fCBudWxsO1xyXG4gIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHZhbHVlLnJlZnJlc2hUb2tlbiB8fCB2YWx1ZS5yZWZyZXNoX3Rva2VuIHx8IG51bGw7XHJcbiAgaWYgKCFhY2Nlc3NUb2tlbiAmJiAhcmVmcmVzaFRva2VuKSByZXR1cm4gbnVsbDtcclxuICByZXR1cm4geyBhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuIH07XHJcbn07XHJcblxyXG5jb25zdCBub3JtYWxpemVBdXRoUmVzcG9uc2UgPSAodmFsdWUpID0+IHtcclxuICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcclxuICAgIHJldHVybiB7IHVzZXI6IG51bGwsIHRva2VuczogbnVsbCB9O1xyXG4gIH1cclxuICBjb25zdCB1c2VyID0gbm9ybWFsaXplQXV0aFVzZXIodmFsdWUudXNlciB8fCB2YWx1ZS5wcm9maWxlIHx8IHZhbHVlKTtcclxuICBjb25zdCB0b2tlbnMgPSBub3JtYWxpemVBdXRoVG9rZW5zKHZhbHVlLnRva2VucyB8fCB2YWx1ZSk7XHJcbiAgcmV0dXJuIHsgdXNlciwgdG9rZW5zIH07XHJcbn07XHJcblxyXG5leHBvcnQgeyBub3JtYWxpemVBdXRoVXNlciwgbm9ybWFsaXplQXV0aFRva2Vucywgbm9ybWFsaXplQXV0aFJlc3BvbnNlIH07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQU1BLElBQU1BLGlCQUFpQixHQUFBQyxPQUFBLENBQUFELGlCQUFBLEdBQUcsU0FBcEJBLGlCQUFpQkEsQ0FBSUUsS0FBSyxFQUFLO0VBQ25DLElBQUksQ0FBQ0EsS0FBSyxJQUFJLE9BQU9BLEtBQUssS0FBSyxRQUFRLEVBQUUsT0FBTyxJQUFJO0VBQ3BELElBQUFDLFNBQUEsR0FBK0JELEtBQUssQ0FBNUJFLEVBQUU7SUFBRkEsRUFBRSxHQUFBRCxTQUFBLGNBQUcsSUFBSSxHQUFBQSxTQUFBO0lBQUtFLElBQUksT0FBQUMseUJBQUEsQ0FBQUMsT0FBQSxFQUFLTCxLQUFLLEVBQUFNLFNBQUE7RUFDcEMsT0FBQUMsTUFBQSxDQUFBQyxNQUFBO0lBQVNOLEVBQUUsRUFBRkE7RUFBRSxHQUFLQyxJQUFJO0FBQ3RCLENBQUM7QUFFRCxJQUFNTSxtQkFBbUIsR0FBQVYsT0FBQSxDQUFBVSxtQkFBQSxHQUFHLFNBQXRCQSxtQkFBbUJBLENBQUlULEtBQUssRUFBSztFQUNyQyxJQUFJLENBQUNBLEtBQUssSUFBSSxPQUFPQSxLQUFLLEtBQUssUUFBUSxFQUFFLE9BQU8sSUFBSTtFQUNwRCxJQUFNVSxXQUFXLEdBQUdWLEtBQUssQ0FBQ1UsV0FBVyxJQUFJVixLQUFLLENBQUNXLFlBQVksSUFBSSxJQUFJO0VBQ25FLElBQU1DLFlBQVksR0FBR1osS0FBSyxDQUFDWSxZQUFZLElBQUlaLEtBQUssQ0FBQ2EsYUFBYSxJQUFJLElBQUk7RUFDdEUsSUFBSSxDQUFDSCxXQUFXLElBQUksQ0FBQ0UsWUFBWSxFQUFFLE9BQU8sSUFBSTtFQUM5QyxPQUFPO0lBQUVGLFdBQVcsRUFBWEEsV0FBVztJQUFFRSxZQUFZLEVBQVpBO0VBQWEsQ0FBQztBQUN0QyxDQUFDO0FBRUQsSUFBTUUscUJBQXFCLEdBQUFmLE9BQUEsQ0FBQWUscUJBQUEsR0FBRyxTQUF4QkEscUJBQXFCQSxDQUFJZCxLQUFLLEVBQUs7RUFDdkMsSUFBSSxDQUFDQSxLQUFLLElBQUksT0FBT0EsS0FBSyxLQUFLLFFBQVEsRUFBRTtJQUN2QyxPQUFPO01BQUVlLElBQUksRUFBRSxJQUFJO01BQUVDLE1BQU0sRUFBRTtJQUFLLENBQUM7RUFDckM7RUFDQSxJQUFNRCxJQUFJLEdBQUdqQixpQkFBaUIsQ0FBQ0UsS0FBSyxDQUFDZSxJQUFJLElBQUlmLEtBQUssQ0FBQ2lCLE9BQU8sSUFBSWpCLEtBQUssQ0FBQztFQUNwRSxJQUFNZ0IsTUFBTSxHQUFHUCxtQkFBbUIsQ0FBQ1QsS0FBSyxDQUFDZ0IsTUFBTSxJQUFJaEIsS0FBSyxDQUFDO0VBQ3pELE9BQU87SUFBRWUsSUFBSSxFQUFKQSxJQUFJO0lBQUVDLE1BQU0sRUFBTkE7RUFBTyxDQUFDO0FBQ3pCLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=