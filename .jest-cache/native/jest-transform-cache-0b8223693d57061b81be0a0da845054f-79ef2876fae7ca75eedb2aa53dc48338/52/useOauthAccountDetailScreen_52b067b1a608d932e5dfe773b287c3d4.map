{"version":3,"names":["useCallback","useEffect","useMemo","useState","useLocalSearchParams","useRouter","useI18n","useNetwork","useOauthAccount","cov_qmgfk096g","s","resolveErrorMessage","t","errorCode","f","b","key","resolved","useOauthAccountDetailScreen","_ref","router","_ref2","id","_ref3","isOffline","_ref4","_ref5","_slicedToArray","isEditing","setIsEditing","_ref6","get","update","data","isLoading","reset","item","errorMessage","fetchItem","handleRetry","handleSave","_ref7","_asyncToGenerator","formData","_x","apply","arguments","handleCancel","handleEdit","hasError","onRetry","onSave","onCancel","onEdit"],"sources":["useOauthAccountDetailScreen.js"],"sourcesContent":["/**\n * useOauthAccountDetailScreen Hook\n * Shared logic for OauthAccountDetailScreen across platforms.\n * File: useOauthAccountDetailScreen.js\n */\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useLocalSearchParams, useRouter } from 'expo-router';\nimport { useI18n, useNetwork, useOauthAccount } from '@hooks';\n\nconst resolveErrorMessage = (t, errorCode) => {\n  if (!errorCode) return null;\n  const key = `errors.codes.${errorCode}`;\n  const resolved = t(key);\n  return resolved === key ? t('errors.codes.UNKNOWN_ERROR') : resolved;\n};\n\nconst useOauthAccountDetailScreen = () => {\n  const { t } = useI18n();\n  const router = useRouter();\n  const { id } = useLocalSearchParams();\n  const { isOffline } = useNetwork();\n  const [isEditing, setIsEditing] = useState(false);\n  const {\n    get,\n    update,\n    data,\n    isLoading,\n    errorCode,\n    reset,\n  } = useOauthAccount();\n\n  const item = useMemo(() => data?.item, [data?.item]);\n  const errorMessage = useMemo(\n    () => resolveErrorMessage(t, errorCode),\n    [t, errorCode]\n  );\n\n  const fetchItem = useCallback(() => {\n    if (id) {\n      reset();\n      get(id);\n    }\n  }, [id, get, reset]);\n\n  useEffect(() => {\n    if (id) fetchItem();\n  }, [id, fetchItem]);\n\n  const handleRetry = useCallback(() => {\n    fetchItem();\n  }, [fetchItem]);\n\n  const handleSave = useCallback(\n    async (formData) => {\n      if (id) {\n        await update(id, formData);\n        setIsEditing(false);\n      }\n    },\n    [id, update]\n  );\n\n  const handleCancel = useCallback(() => {\n    setIsEditing(false);\n  }, []);\n\n  const handleEdit = useCallback(() => {\n    setIsEditing(true);\n  }, []);\n\n  return {\n    item,\n    isLoading,\n    hasError: !!errorCode,\n    errorMessage,\n    isOffline,\n    isEditing,\n    onRetry: handleRetry,\n    onSave: handleSave,\n    onCancel: handleCancel,\n    onEdit: handleEdit,\n  };\n};\n\nexport default useOauthAccountDetailScreen;\n"],"mappings":"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","ignoreList":[]}