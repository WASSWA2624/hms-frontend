{"version":3,"names":["describe","originalEnv","process","env","loadConfig","_ref","_asyncToGenerator2","default","mod","apply","arguments","beforeEach","jest","resetModules","Object","assign","afterAll","test","NODE_ENV","_env2","EXPO_PUBLIC_API_BASE_URL","EXPO_PUBLIC_API_VERSION","config","expect","toBe","API_BASE_URL","API_VERSION","PAGINATION","toBeDefined","DEFAULT_PAGE","DEFAULT_LIMIT","MAX_LIMIT","TIMEOUTS","API_REQUEST","NETWORK_CHECK","endpoints","AUTH","LOGIN","REGISTER","featureFlags","OFFLINE_MODE","ANALYTICS_ENABLED"],"sources":["config.test.js"],"sourcesContent":["/**\r\n * Config Layer Tests\r\n * File: config.test.js\r\n */\r\n\r\ndescribe('Config Layer', () => {\r\n  const originalEnv = process.env;\r\n\r\n  const loadConfig = async () => {\r\n    const mod = await import('@config');\r\n    return mod;\r\n  };\r\n\r\n  beforeEach(() => {\r\n    jest.resetModules();\r\n    process.env = { ...originalEnv };\r\n  });\r\n\r\n  afterAll(() => {\r\n    process.env = originalEnv;\r\n  });\r\n\r\n  describe('env.js', () => {\r\n    test('should return default values when env vars are not set', async () => {\r\n      delete process.env.NODE_ENV;\r\n      delete process.env.EXPO_PUBLIC_API_BASE_URL;\r\n      delete process.env.EXPO_PUBLIC_API_VERSION;\r\n\r\n      jest.resetModules();\r\n      const config = await loadConfig();\r\n\r\n      expect(config.NODE_ENV).toBe('development');\r\n      expect(config.API_BASE_URL).toBe('http://localhost:3000');\r\n      expect(config.API_VERSION).toBe('v1');\r\n    });\r\n\r\n    test('should return env var values when set', async () => {\r\n      process.env.NODE_ENV = 'production';\r\n      process.env.EXPO_PUBLIC_API_BASE_URL = 'https://api.example.com';\r\n      process.env.EXPO_PUBLIC_API_VERSION = 'v2';\r\n\r\n      jest.resetModules();\r\n      const config = await loadConfig();\r\n\r\n      expect(config.NODE_ENV).toBe('production');\r\n      expect(config.API_BASE_URL).toBe('https://api.example.com');\r\n      expect(config.API_VERSION).toBe('v2');\r\n    });\r\n  });\r\n\r\n  describe('constants.js', () => {\r\n    test('should export pagination constants', async () => {\r\n      const config = await loadConfig();\r\n\r\n      expect(config.PAGINATION).toBeDefined();\r\n      expect(config.PAGINATION.DEFAULT_PAGE).toBe(1);\r\n      expect(config.PAGINATION.DEFAULT_LIMIT).toBe(20);\r\n      expect(config.PAGINATION.MAX_LIMIT).toBe(100);\r\n    });\r\n\r\n    test('should export timeout constants', async () => {\r\n      const config = await loadConfig();\r\n\r\n      expect(config.TIMEOUTS).toBeDefined();\r\n      expect(config.TIMEOUTS.API_REQUEST).toBe(30000);\r\n      expect(config.TIMEOUTS.NETWORK_CHECK).toBe(5000);\r\n    });\r\n  });\r\n\r\n  describe('endpoints.js', () => {\r\n    test('should construct endpoints correctly', async () => {\r\n      process.env.EXPO_PUBLIC_API_BASE_URL = 'https://api.example.com';\r\n      process.env.EXPO_PUBLIC_API_VERSION = 'v1';\r\n\r\n      jest.resetModules();\r\n      const config = await loadConfig();\r\n\r\n      expect(config.endpoints.AUTH.LOGIN).toBe(\r\n        'https://api.example.com/api/v1/auth/login'\r\n      );\r\n      expect(config.endpoints.AUTH.REGISTER).toBe(\r\n        'https://api.example.com/api/v1/auth/register'\r\n      );\r\n    });\r\n\r\n    test('should normalize base URL when it contains a trailing slash', async () => {\r\n      process.env.EXPO_PUBLIC_API_BASE_URL = 'https://api.example.com/';\r\n      process.env.EXPO_PUBLIC_API_VERSION = 'v1';\r\n\r\n      jest.resetModules();\r\n      const config = await loadConfig();\r\n\r\n      expect(config.endpoints.AUTH.LOGIN).toBe(\r\n        'https://api.example.com/api/v1/auth/login'\r\n      );\r\n    });\r\n  });\r\n\r\n  describe('feature.flags.js', () => {\r\n    test('should export feature flags namespace', async () => {\r\n      const config = await loadConfig();\r\n\r\n      expect(config.featureFlags).toBeDefined();\r\n      expect(config.featureFlags.OFFLINE_MODE).toBe(true);\r\n      expect(config.featureFlags.ANALYTICS_ENABLED).toBe(false);\r\n    });\r\n  });\r\n\r\n  describe('index.js (barrel export)', () => {\r\n    test('should export all config modules', async () => {\r\n      const config = await loadConfig();\r\n\r\n      expect(config.NODE_ENV).toBeDefined();\r\n      expect(config.API_BASE_URL).toBeDefined();\r\n      expect(config.API_VERSION).toBeDefined();\r\n\r\n      expect(config.PAGINATION).toBeDefined();\r\n      expect(config.TIMEOUTS).toBeDefined();\r\n\r\n      expect(config.endpoints).toBeDefined();\r\n      expect(config.endpoints.AUTH).toBeDefined();\r\n\r\n      expect(config.featureFlags).toBeDefined();\r\n    });\r\n  });\r\n});\r\n\r\n\r\n"],"mappings":";;;AAKAA,QAAQ,CAAC,cAAc,EAAE,YAAM;EAC7B,IAAMC,WAAW,GAAGC,OAAO,CAACC,GAAG;EAE/B,IAAMC,UAAU;IAAA,IAAAC,IAAA,OAAAC,kBAAA,CAAAC,OAAA,EAAG,aAAY;MAC7B,IAAMC,GAAG,SAAS,MAAM,eAAU,CAAC;MACnC,OAAOA,GAAG;IACZ,CAAC;IAAA,gBAHKJ,UAAUA,CAAA;MAAA,OAAAC,IAAA,CAAAI,KAAA,OAAAC,SAAA;IAAA;EAAA,GAGf;EAEDC,UAAU,CAAC,YAAM;IACfC,IAAI,CAACC,YAAY,CAAC,CAAC;IACnBX,OAAO,CAACC,GAAG,GAAAW,MAAA,CAAAC,MAAA,KAAQd,WAAW,CAAE;EAClC,CAAC,CAAC;EAEFe,QAAQ,CAAC,YAAM;IACbd,OAAO,CAACC,GAAG,GAAGF,WAAW;EAC3B,CAAC,CAAC;EAEFD,QAAQ,CAAC,QAAQ,EAAE,YAAM;IACvBiB,IAAI,CAAC,wDAAwD,MAAAX,kBAAA,CAAAC,OAAA,EAAE,aAAY;MACzE,OAAOL,OAAO,CAACC,GAAG,CAACe,QAAQ;MAC3B,OAAAC,KAAA,CAAAhB,GAAA,CAAAiB,wBAA2C;MAC3C,OAAAD,KAAA,CAAAhB,GAAA,CAAAkB,uBAA0C;MAE1CT,IAAI,CAACC,YAAY,CAAC,CAAC;MACnB,IAAMS,MAAM,SAASlB,UAAU,CAAC,CAAC;MAEjCmB,MAAM,CAACD,MAAM,CAACJ,QAAQ,CAAC,CAACM,IAAI,CAAC,aAAa,CAAC;MAC3CD,MAAM,CAACD,MAAM,CAACG,YAAY,CAAC,CAACD,IAAI,CAAC,uBAAuB,CAAC;MACzDD,MAAM,CAACD,MAAM,CAACI,WAAW,CAAC,CAACF,IAAI,CAAC,IAAI,CAAC;IACvC,CAAC,EAAC;IAEFP,IAAI,CAAC,uCAAuC,MAAAX,kBAAA,CAAAC,OAAA,EAAE,aAAY;MACxDL,OAAO,CAACC,GAAG,CAACe,QAAQ,GAAG,YAAY;MACnChB,OAAO,CAACC,GAAG,CAACiB,wBAAwB,GAAG,yBAAyB;MAChElB,OAAO,CAACC,GAAG,CAACkB,uBAAuB,GAAG,IAAI;MAE1CT,IAAI,CAACC,YAAY,CAAC,CAAC;MACnB,IAAMS,MAAM,SAASlB,UAAU,CAAC,CAAC;MAEjCmB,MAAM,CAACD,MAAM,CAACJ,QAAQ,CAAC,CAACM,IAAI,CAAC,YAAY,CAAC;MAC1CD,MAAM,CAACD,MAAM,CAACG,YAAY,CAAC,CAACD,IAAI,CAAC,yBAAyB,CAAC;MAC3DD,MAAM,CAACD,MAAM,CAACI,WAAW,CAAC,CAACF,IAAI,CAAC,IAAI,CAAC;IACvC,CAAC,EAAC;EACJ,CAAC,CAAC;EAEFxB,QAAQ,CAAC,cAAc,EAAE,YAAM;IAC7BiB,IAAI,CAAC,oCAAoC,MAAAX,kBAAA,CAAAC,OAAA,EAAE,aAAY;MACrD,IAAMe,MAAM,SAASlB,UAAU,CAAC,CAAC;MAEjCmB,MAAM,CAACD,MAAM,CAACK,UAAU,CAAC,CAACC,WAAW,CAAC,CAAC;MACvCL,MAAM,CAACD,MAAM,CAACK,UAAU,CAACE,YAAY,CAAC,CAACL,IAAI,CAAC,CAAC,CAAC;MAC9CD,MAAM,CAACD,MAAM,CAACK,UAAU,CAACG,aAAa,CAAC,CAACN,IAAI,CAAC,EAAE,CAAC;MAChDD,MAAM,CAACD,MAAM,CAACK,UAAU,CAACI,SAAS,CAAC,CAACP,IAAI,CAAC,GAAG,CAAC;IAC/C,CAAC,EAAC;IAEFP,IAAI,CAAC,iCAAiC,MAAAX,kBAAA,CAAAC,OAAA,EAAE,aAAY;MAClD,IAAMe,MAAM,SAASlB,UAAU,CAAC,CAAC;MAEjCmB,MAAM,CAACD,MAAM,CAACU,QAAQ,CAAC,CAACJ,WAAW,CAAC,CAAC;MACrCL,MAAM,CAACD,MAAM,CAACU,QAAQ,CAACC,WAAW,CAAC,CAACT,IAAI,CAAC,KAAK,CAAC;MAC/CD,MAAM,CAACD,MAAM,CAACU,QAAQ,CAACE,aAAa,CAAC,CAACV,IAAI,CAAC,IAAI,CAAC;IAClD,CAAC,EAAC;EACJ,CAAC,CAAC;EAEFxB,QAAQ,CAAC,cAAc,EAAE,YAAM;IAC7BiB,IAAI,CAAC,sCAAsC,MAAAX,kBAAA,CAAAC,OAAA,EAAE,aAAY;MACvDL,OAAO,CAACC,GAAG,CAACiB,wBAAwB,GAAG,yBAAyB;MAChElB,OAAO,CAACC,GAAG,CAACkB,uBAAuB,GAAG,IAAI;MAE1CT,IAAI,CAACC,YAAY,CAAC,CAAC;MACnB,IAAMS,MAAM,SAASlB,UAAU,CAAC,CAAC;MAEjCmB,MAAM,CAACD,MAAM,CAACa,SAAS,CAACC,IAAI,CAACC,KAAK,CAAC,CAACb,IAAI,CACtC,2CACF,CAAC;MACDD,MAAM,CAACD,MAAM,CAACa,SAAS,CAACC,IAAI,CAACE,QAAQ,CAAC,CAACd,IAAI,CACzC,8CACF,CAAC;IACH,CAAC,EAAC;IAEFP,IAAI,CAAC,6DAA6D,MAAAX,kBAAA,CAAAC,OAAA,EAAE,aAAY;MAC9EL,OAAO,CAACC,GAAG,CAACiB,wBAAwB,GAAG,0BAA0B;MACjElB,OAAO,CAACC,GAAG,CAACkB,uBAAuB,GAAG,IAAI;MAE1CT,IAAI,CAACC,YAAY,CAAC,CAAC;MACnB,IAAMS,MAAM,SAASlB,UAAU,CAAC,CAAC;MAEjCmB,MAAM,CAACD,MAAM,CAACa,SAAS,CAACC,IAAI,CAACC,KAAK,CAAC,CAACb,IAAI,CACtC,2CACF,CAAC;IACH,CAAC,EAAC;EACJ,CAAC,CAAC;EAEFxB,QAAQ,CAAC,kBAAkB,EAAE,YAAM;IACjCiB,IAAI,CAAC,uCAAuC,MAAAX,kBAAA,CAAAC,OAAA,EAAE,aAAY;MACxD,IAAMe,MAAM,SAASlB,UAAU,CAAC,CAAC;MAEjCmB,MAAM,CAACD,MAAM,CAACiB,YAAY,CAAC,CAACX,WAAW,CAAC,CAAC;MACzCL,MAAM,CAACD,MAAM,CAACiB,YAAY,CAACC,YAAY,CAAC,CAAChB,IAAI,CAAC,IAAI,CAAC;MACnDD,MAAM,CAACD,MAAM,CAACiB,YAAY,CAACE,iBAAiB,CAAC,CAACjB,IAAI,CAAC,KAAK,CAAC;IAC3D,CAAC,EAAC;EACJ,CAAC,CAAC;EAEFxB,QAAQ,CAAC,0BAA0B,EAAE,YAAM;IACzCiB,IAAI,CAAC,kCAAkC,MAAAX,kBAAA,CAAAC,OAAA,EAAE,aAAY;MACnD,IAAMe,MAAM,SAASlB,UAAU,CAAC,CAAC;MAEjCmB,MAAM,CAACD,MAAM,CAACJ,QAAQ,CAAC,CAACU,WAAW,CAAC,CAAC;MACrCL,MAAM,CAACD,MAAM,CAACG,YAAY,CAAC,CAACG,WAAW,CAAC,CAAC;MACzCL,MAAM,CAACD,MAAM,CAACI,WAAW,CAAC,CAACE,WAAW,CAAC,CAAC;MAExCL,MAAM,CAACD,MAAM,CAACK,UAAU,CAAC,CAACC,WAAW,CAAC,CAAC;MACvCL,MAAM,CAACD,MAAM,CAACU,QAAQ,CAAC,CAACJ,WAAW,CAAC,CAAC;MAErCL,MAAM,CAACD,MAAM,CAACa,SAAS,CAAC,CAACP,WAAW,CAAC,CAAC;MACtCL,MAAM,CAACD,MAAM,CAACa,SAAS,CAACC,IAAI,CAAC,CAACR,WAAW,CAAC,CAAC;MAE3CL,MAAM,CAACD,MAAM,CAACiB,YAAY,CAAC,CAACX,WAAW,CAAC,CAAC;IAC3C,CAAC,EAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}