{"version":3,"names":["_react","_interopRequireWildcard","require","_hooks","_useLanguageControls2","_interopRequireDefault","_types","_LanguageControlsWeb","_jsxRuntime","getFlagSrc","locale","code","LOCALE_FLAG_CODES","FLAG_CDN_BASE","LanguageControlsWeb","_ref","testID","className","accessibilityLabel","accessibilityHint","_useI18n","useI18n","t","_useLanguageControls","useLanguageControls","options","setLocale","_useState","useState","_useState2","_slicedToArray2","default","open","setOpen","wrapperRef","useRef","resolvedLabel","resolvedHint","close","useCallback","useEffect","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","jsxs","StyledLanguageControls","ref","children","jsx","StyledFlagTrigger","type","onClick","o","title","undefined","src","alt","width","height","loading","StyledLanguageMenu","role","map","opt","StyledLanguageItem","value","StyledLanguageItemFlag","label","_default","exports"],"sources":["LanguageControls.web.jsx"],"sourcesContent":["/**\r\n * LanguageControls Component - Web\r\n * Flag button that opens language list with flags\r\n * File: LanguageControls.web.jsx\r\n */\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { useI18n } from '@hooks';\r\nimport useLanguageControls from './useLanguageControls';\r\nimport { LOCALE_FLAG_CODES, FLAG_CDN_BASE } from './types';\r\nimport {\r\n  StyledLanguageControls,\r\n  StyledFlagTrigger,\r\n  StyledLanguageMenu,\r\n  StyledLanguageItem,\r\n  StyledLanguageItemFlag,\r\n} from './LanguageControls.web.styles';\r\n\r\nconst getFlagSrc = (locale) => {\r\n  const code = LOCALE_FLAG_CODES[locale] || 'us';\r\n  return `${FLAG_CDN_BASE}/w40/${code}.png`;\r\n};\r\n\r\n/**\r\n * LanguageControls component for Web\r\n */\r\nconst LanguageControlsWeb = ({ testID, className, accessibilityLabel, accessibilityHint }) => {\r\n  const { t } = useI18n();\r\n  const { locale, options, setLocale } = useLanguageControls();\r\n  const [open, setOpen] = useState(false);\r\n  const wrapperRef = useRef(null);\r\n\r\n  const resolvedLabel = accessibilityLabel || t('settings.language.accessibilityLabel');\r\n  const resolvedHint = accessibilityHint || t('settings.language.hint');\r\n\r\n  const close = useCallback(() => setOpen(false), []);\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const handleClickOutside = (e) => {\r\n      if (wrapperRef.current && !wrapperRef.current.contains(e.target)) close();\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, [open, close]);\r\n\r\n  return (\r\n    <StyledLanguageControls ref={wrapperRef} data-testid={testID} className={className}>\r\n      <StyledFlagTrigger\r\n        type=\"button\"\r\n        onClick={() => setOpen((o) => !o)}\r\n        aria-haspopup=\"listbox\"\r\n        aria-expanded={open}\r\n        aria-label={resolvedLabel}\r\n        title={resolvedHint}\r\n        data-testid={testID ? `${testID}-trigger` : undefined}\r\n      >\r\n        <img src={getFlagSrc(locale)} alt=\"\" width={24} height={18} loading=\"lazy\" />\r\n      </StyledFlagTrigger>\r\n      {open && (\r\n        <StyledLanguageMenu role=\"listbox\" aria-label={resolvedLabel} data-testid={testID ? `${testID}-menu` : undefined}>\r\n          {options.map((opt) => (\r\n            <StyledLanguageItem\r\n              key={opt.value}\r\n              type=\"button\"\r\n              role=\"option\"\r\n              aria-selected={opt.value === locale}\r\n              onClick={() => {\r\n                setLocale(opt.value);\r\n                close();\r\n              }}\r\n              data-testid={testID ? `${testID}-option-${opt.value}` : undefined}\r\n            >\r\n              <StyledLanguageItemFlag>\r\n                <img src={getFlagSrc(opt.value)} alt=\"\" width={24} height={18} loading=\"lazy\" />\r\n              </StyledLanguageItemFlag>\r\n              <span>{opt.label}</span>\r\n            </StyledLanguageItem>\r\n          ))}\r\n        </StyledLanguageMenu>\r\n      )}\r\n    </StyledLanguageControls>\r\n  );\r\n};\r\n\r\nexport default LanguageControlsWeb;\r\n"],"mappings":";;;;;;;AAKA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AACA,IAAAE,qBAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,MAAA,GAAAJ,OAAA;AACA,IAAAK,oBAAA,GAAAL,OAAA;AAMuC,IAAAM,WAAA,GAAAN,OAAA;AAEvC,IAAMO,UAAU,GAAG,SAAbA,UAAUA,CAAIC,MAAM,EAAK;EAC7B,IAAMC,IAAI,GAAGC,wBAAiB,CAACF,MAAM,CAAC,IAAI,IAAI;EAC9C,OAAO,GAAGG,oBAAa,QAAQF,IAAI,MAAM;AAC3C,CAAC;AAKD,IAAMG,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAAC,IAAA,EAAqE;EAAA,IAA/DC,MAAM,GAAAD,IAAA,CAANC,MAAM;IAAEC,SAAS,GAAAF,IAAA,CAATE,SAAS;IAAEC,kBAAkB,GAAAH,IAAA,CAAlBG,kBAAkB;IAAEC,iBAAiB,GAAAJ,IAAA,CAAjBI,iBAAiB;EACrF,IAAAC,QAAA,GAAc,IAAAC,cAAO,EAAC,CAAC;IAAfC,CAAC,GAAAF,QAAA,CAADE,CAAC;EACT,IAAAC,oBAAA,GAAuC,IAAAC,6BAAmB,EAAC,CAAC;IAApDd,MAAM,GAAAa,oBAAA,CAANb,MAAM;IAAEe,OAAO,GAAAF,oBAAA,CAAPE,OAAO;IAAEC,SAAS,GAAAH,oBAAA,CAATG,SAAS;EAClC,IAAAC,SAAA,GAAwB,IAAAC,eAAQ,EAAC,KAAK,CAAC;IAAAC,UAAA,OAAAC,eAAA,CAAAC,OAAA,EAAAJ,SAAA;IAAhCK,IAAI,GAAAH,UAAA;IAAEI,OAAO,GAAAJ,UAAA;EACpB,IAAMK,UAAU,GAAG,IAAAC,aAAM,EAAC,IAAI,CAAC;EAE/B,IAAMC,aAAa,GAAGlB,kBAAkB,IAAII,CAAC,CAAC,sCAAsC,CAAC;EACrF,IAAMe,YAAY,GAAGlB,iBAAiB,IAAIG,CAAC,CAAC,wBAAwB,CAAC;EAErE,IAAMgB,KAAK,GAAG,IAAAC,kBAAW,EAAC;IAAA,OAAMN,OAAO,CAAC,KAAK,CAAC;EAAA,GAAE,EAAE,CAAC;EAEnD,IAAAO,gBAAS,EAAC,YAAM;IACd,IAAI,CAACR,IAAI,EAAE;IACX,IAAMS,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIC,CAAC,EAAK;MAChC,IAAIR,UAAU,CAACS,OAAO,IAAI,CAACT,UAAU,CAACS,OAAO,CAACC,QAAQ,CAACF,CAAC,CAACG,MAAM,CAAC,EAAEP,KAAK,CAAC,CAAC;IAC3E,CAAC;IACDQ,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEN,kBAAkB,CAAC;IAC1D,OAAO;MAAA,OAAMK,QAAQ,CAACE,mBAAmB,CAAC,WAAW,EAAEP,kBAAkB,CAAC;IAAA;EAC5E,CAAC,EAAE,CAACT,IAAI,EAAEM,KAAK,CAAC,CAAC;EAEjB,OACE,IAAA9B,WAAA,CAAAyC,IAAA,EAAC1C,oBAAA,CAAA2C,sBAAsB;IAACC,GAAG,EAAEjB,UAAW;IAAC,eAAalB,MAAO;IAACC,SAAS,EAAEA,SAAU;IAAAmC,QAAA,GACjF,IAAA5C,WAAA,CAAA6C,GAAA,EAAC9C,oBAAA,CAAA+C,iBAAiB;MAChBC,IAAI,EAAC,QAAQ;MACbC,OAAO,EAAE,SAATA,OAAOA,CAAA;QAAA,OAAQvB,OAAO,CAAC,UAACwB,CAAC;UAAA,OAAK,CAACA,CAAC;QAAA,EAAC;MAAA,CAAC;MAClC,iBAAc,SAAS;MACvB,iBAAezB,IAAK;MACpB,cAAYI,aAAc;MAC1BsB,KAAK,EAAErB,YAAa;MACpB,eAAarB,MAAM,GAAG,GAAGA,MAAM,UAAU,GAAG2C,SAAU;MAAAP,QAAA,EAEtD,IAAA5C,WAAA,CAAA6C,GAAA;QAAKO,GAAG,EAAEnD,UAAU,CAACC,MAAM,CAAE;QAACmD,GAAG,EAAC,EAAE;QAACC,KAAK,EAAE,EAAG;QAACC,MAAM,EAAE,EAAG;QAACC,OAAO,EAAC;MAAM,CAAE;IAAC,CAC5D,CAAC,EACnBhC,IAAI,IACH,IAAAxB,WAAA,CAAA6C,GAAA,EAAC9C,oBAAA,CAAA0D,kBAAkB;MAACC,IAAI,EAAC,SAAS;MAAC,cAAY9B,aAAc;MAAC,eAAapB,MAAM,GAAG,GAAGA,MAAM,OAAO,GAAG2C,SAAU;MAAAP,QAAA,EAC9G3B,OAAO,CAAC0C,GAAG,CAAC,UAACC,GAAG;QAAA,OACf,IAAA5D,WAAA,CAAAyC,IAAA,EAAC1C,oBAAA,CAAA8D,kBAAkB;UAEjBd,IAAI,EAAC,QAAQ;UACbW,IAAI,EAAC,QAAQ;UACb,iBAAeE,GAAG,CAACE,KAAK,KAAK5D,MAAO;UACpC8C,OAAO,EAAE,SAATA,OAAOA,CAAA,EAAQ;YACb9B,SAAS,CAAC0C,GAAG,CAACE,KAAK,CAAC;YACpBhC,KAAK,CAAC,CAAC;UACT,CAAE;UACF,eAAatB,MAAM,GAAG,GAAGA,MAAM,WAAWoD,GAAG,CAACE,KAAK,EAAE,GAAGX,SAAU;UAAAP,QAAA,GAElE,IAAA5C,WAAA,CAAA6C,GAAA,EAAC9C,oBAAA,CAAAgE,sBAAsB;YAAAnB,QAAA,EACrB,IAAA5C,WAAA,CAAA6C,GAAA;cAAKO,GAAG,EAAEnD,UAAU,CAAC2D,GAAG,CAACE,KAAK,CAAE;cAACT,GAAG,EAAC,EAAE;cAACC,KAAK,EAAE,EAAG;cAACC,MAAM,EAAE,EAAG;cAACC,OAAO,EAAC;YAAM,CAAE;UAAC,CAC1D,CAAC,EACzB,IAAAxD,WAAA,CAAA6C,GAAA;YAAAD,QAAA,EAAOgB,GAAG,CAACI;UAAK,CAAO,CAAC;QAAA,GAbnBJ,GAAG,CAACE,KAcS,CAAC;MAAA,CACtB;IAAC,CACgB,CACrB;EAAA,CACqB,CAAC;AAE7B,CAAC;AAAC,IAAAG,QAAA,GAAAC,OAAA,CAAA3C,OAAA,GAEajB,mBAAmB","ignoreList":[]}