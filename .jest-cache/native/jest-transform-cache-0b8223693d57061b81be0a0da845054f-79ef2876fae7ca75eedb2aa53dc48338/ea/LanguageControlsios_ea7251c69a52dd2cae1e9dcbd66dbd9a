216347d59bc74abc791e68bf5c101b6a
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _hooks = require("../../../../hooks");
var _useLanguageControls2 = _interopRequireDefault(require("./useLanguageControls"));
var _types = require("./types");
var _LanguageControlsIos = require("./LanguageControls.ios.styles");
var _jsxRuntime = require("react/jsx-runtime");
var LanguageControlsIOS = function LanguageControlsIOS(_ref) {
  var testID = _ref.testID,
    accessibilityLabel = _ref.accessibilityLabel,
    accessibilityHint = _ref.accessibilityHint;
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var _useLanguageControls = (0, _useLanguageControls2.default)(),
    locale = _useLanguageControls.locale,
    options = _useLanguageControls.options,
    setLocale = _useLanguageControls.setLocale;
  var _useState = (0, _react.useState)(false),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    visible = _useState2[0],
    setVisible = _useState2[1];
  var resolvedLabel = accessibilityLabel || t('settings.language.accessibilityLabel');
  var resolvedHint = accessibilityHint || t('settings.language.hint');
  var currentFlag = _types.LOCALE_FLAGS[locale] || 'üåê';
  var close = (0, _react.useCallback)(function () {
    return setVisible(false);
  }, []);
  return (0, _jsxRuntime.jsxs)(_LanguageControlsIos.StyledLanguageControls, {
    testID: testID,
    children: [(0, _jsxRuntime.jsx)(_LanguageControlsIos.StyledFlagTrigger, {
      onPress: function onPress() {
        return setVisible(true);
      },
      accessibilityRole: "button",
      accessibilityLabel: resolvedLabel,
      accessibilityHint: resolvedHint,
      children: (0, _jsxRuntime.jsx)(_reactNative.Text, {
        style: {
          fontSize: 18
        },
        children: currentFlag
      })
    }), (0, _jsxRuntime.jsx)(_reactNative.Modal, {
      visible: visible,
      transparent: true,
      animationType: "fade",
      children: (0, _jsxRuntime.jsxs)(_reactNative.View, {
        style: {
          flex: 1
        },
        children: [(0, _jsxRuntime.jsx)(_LanguageControlsIos.StyledModalOverlay, {
          onPress: close,
          style: {
            position: 'absolute',
            top: 0,
            left: 0,
            right: 0,
            bottom: 0
          }
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: {
            flex: 1,
            justifyContent: 'center',
            padding: 24,
            pointerEvents: 'box-none'
          },
          children: (0, _jsxRuntime.jsx)(_LanguageControlsIos.StyledModalContent, {
            children: options.map(function (opt) {
              return (0, _jsxRuntime.jsxs)(_LanguageControlsIos.StyledLanguageItem, {
                onPress: function onPress() {
                  setLocale(opt.value);
                  close();
                },
                children: [(0, _jsxRuntime.jsx)(_LanguageControlsIos.StyledLanguageItemFlag, {
                  children: _types.LOCALE_FLAGS[opt.value] || 'üåê'
                }), (0, _jsxRuntime.jsx)(_reactNative.Text, {
                  children: opt.label
                })]
              }, opt.value);
            })
          })
        })]
      })
    })]
  });
};
var _default = exports.default = LanguageControlsIOS;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVhY3ROYXRpdmUiLCJfaG9va3MiLCJfdXNlTGFuZ3VhZ2VDb250cm9sczIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX3R5cGVzIiwiX0xhbmd1YWdlQ29udHJvbHNJb3MiLCJfanN4UnVudGltZSIsIkxhbmd1YWdlQ29udHJvbHNJT1MiLCJfcmVmIiwidGVzdElEIiwiYWNjZXNzaWJpbGl0eUxhYmVsIiwiYWNjZXNzaWJpbGl0eUhpbnQiLCJfdXNlSTE4biIsInVzZUkxOG4iLCJ0IiwiX3VzZUxhbmd1YWdlQ29udHJvbHMiLCJ1c2VMYW5ndWFnZUNvbnRyb2xzIiwibG9jYWxlIiwib3B0aW9ucyIsInNldExvY2FsZSIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5MiIsImRlZmF1bHQiLCJ2aXNpYmxlIiwic2V0VmlzaWJsZSIsInJlc29sdmVkTGFiZWwiLCJyZXNvbHZlZEhpbnQiLCJjdXJyZW50RmxhZyIsIkxPQ0FMRV9GTEFHUyIsImNsb3NlIiwidXNlQ2FsbGJhY2siLCJqc3hzIiwiU3R5bGVkTGFuZ3VhZ2VDb250cm9scyIsImNoaWxkcmVuIiwianN4IiwiU3R5bGVkRmxhZ1RyaWdnZXIiLCJvblByZXNzIiwiYWNjZXNzaWJpbGl0eVJvbGUiLCJUZXh0Iiwic3R5bGUiLCJmb250U2l6ZSIsIk1vZGFsIiwidHJhbnNwYXJlbnQiLCJhbmltYXRpb25UeXBlIiwiVmlldyIsImZsZXgiLCJTdHlsZWRNb2RhbE92ZXJsYXkiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsImp1c3RpZnlDb250ZW50IiwicGFkZGluZyIsInBvaW50ZXJFdmVudHMiLCJTdHlsZWRNb2RhbENvbnRlbnQiLCJtYXAiLCJvcHQiLCJTdHlsZWRMYW5ndWFnZUl0ZW0iLCJ2YWx1ZSIsIlN0eWxlZExhbmd1YWdlSXRlbUZsYWciLCJsYWJlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkxhbmd1YWdlQ29udHJvbHMuaW9zLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTGFuZ3VhZ2VDb250cm9scyBDb21wb25lbnQgLSBpT1NcclxuICogRmxhZyBidXR0b24gdGhhdCBvcGVucyBsYW5ndWFnZSBsaXN0XHJcbiAqL1xyXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBNb2RhbCwgVGV4dCwgVmlldyB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XHJcbmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICdAaG9va3MnO1xyXG5pbXBvcnQgdXNlTGFuZ3VhZ2VDb250cm9scyBmcm9tICcuL3VzZUxhbmd1YWdlQ29udHJvbHMnO1xyXG5pbXBvcnQgeyBMT0NBTEVfRkxBR1MgfSBmcm9tICcuL3R5cGVzJztcclxuaW1wb3J0IHtcclxuICBTdHlsZWRMYW5ndWFnZUNvbnRyb2xzLFxyXG4gIFN0eWxlZEZsYWdUcmlnZ2VyLFxyXG4gIFN0eWxlZExhbmd1YWdlSXRlbSxcclxuICBTdHlsZWRMYW5ndWFnZUl0ZW1GbGFnLFxyXG4gIFN0eWxlZE1vZGFsT3ZlcmxheSxcclxuICBTdHlsZWRNb2RhbENvbnRlbnQsXHJcbn0gZnJvbSAnLi9MYW5ndWFnZUNvbnRyb2xzLmlvcy5zdHlsZXMnO1xyXG5cclxuY29uc3QgTGFuZ3VhZ2VDb250cm9sc0lPUyA9ICh7IHRlc3RJRCwgYWNjZXNzaWJpbGl0eUxhYmVsLCBhY2Nlc3NpYmlsaXR5SGludCB9KSA9PiB7XHJcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XHJcbiAgY29uc3QgeyBsb2NhbGUsIG9wdGlvbnMsIHNldExvY2FsZSB9ID0gdXNlTGFuZ3VhZ2VDb250cm9scygpO1xyXG4gIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgY29uc3QgcmVzb2x2ZWRMYWJlbCA9IGFjY2Vzc2liaWxpdHlMYWJlbCB8fCB0KCdzZXR0aW5ncy5sYW5ndWFnZS5hY2Nlc3NpYmlsaXR5TGFiZWwnKTtcclxuICBjb25zdCByZXNvbHZlZEhpbnQgPSBhY2Nlc3NpYmlsaXR5SGludCB8fCB0KCdzZXR0aW5ncy5sYW5ndWFnZS5oaW50Jyk7XHJcbiAgY29uc3QgY3VycmVudEZsYWcgPSBMT0NBTEVfRkxBR1NbbG9jYWxlXSB8fCAn8J+MkCc7XHJcblxyXG4gIGNvbnN0IGNsb3NlID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0VmlzaWJsZShmYWxzZSksIFtdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxTdHlsZWRMYW5ndWFnZUNvbnRyb2xzIHRlc3RJRD17dGVzdElEfT5cclxuICAgICAgPFN0eWxlZEZsYWdUcmlnZ2VyXHJcbiAgICAgICAgb25QcmVzcz17KCkgPT4gc2V0VmlzaWJsZSh0cnVlKX1cclxuICAgICAgICBhY2Nlc3NpYmlsaXR5Um9sZT1cImJ1dHRvblwiXHJcbiAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXtyZXNvbHZlZExhYmVsfVxyXG4gICAgICAgIGFjY2Vzc2liaWxpdHlIaW50PXtyZXNvbHZlZEhpbnR9XHJcbiAgICAgID5cclxuICAgICAgICA8VGV4dCBzdHlsZT17eyBmb250U2l6ZTogMTggfX0+e2N1cnJlbnRGbGFnfTwvVGV4dD5cclxuICAgICAgPC9TdHlsZWRGbGFnVHJpZ2dlcj5cclxuICAgICAgPE1vZGFsIHZpc2libGU9e3Zpc2libGV9IHRyYW5zcGFyZW50IGFuaW1hdGlvblR5cGU9XCJmYWRlXCI+XHJcbiAgICAgICAgPFZpZXcgc3R5bGU9e3sgZmxleDogMSB9fT5cclxuICAgICAgICAgIDxTdHlsZWRNb2RhbE92ZXJsYXkgb25QcmVzcz17Y2xvc2V9IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAgfX0gLz5cclxuICAgICAgICAgIDxWaWV3IHN0eWxlPXt7IGZsZXg6IDEsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywgcGFkZGluZzogMjQsIHBvaW50ZXJFdmVudHM6ICdib3gtbm9uZScgfX0+XHJcbiAgICAgICAgICAgIDxTdHlsZWRNb2RhbENvbnRlbnQ+XHJcbiAgICAgICAgICAgICAge29wdGlvbnMubWFwKChvcHQpID0+IChcclxuICAgICAgICAgICAgICAgIDxTdHlsZWRMYW5ndWFnZUl0ZW1cclxuICAgICAgICAgICAgICAgICAga2V5PXtvcHQudmFsdWV9XHJcbiAgICAgICAgICAgICAgICAgIG9uUHJlc3M9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRMb2NhbGUob3B0LnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBjbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8U3R5bGVkTGFuZ3VhZ2VJdGVtRmxhZz57TE9DQUxFX0ZMQUdTW29wdC52YWx1ZV0gfHwgJ/CfjJAnfTwvU3R5bGVkTGFuZ3VhZ2VJdGVtRmxhZz5cclxuICAgICAgICAgICAgICAgICAgPFRleHQ+e29wdC5sYWJlbH08L1RleHQ+XHJcbiAgICAgICAgICAgICAgICA8L1N0eWxlZExhbmd1YWdlSXRlbT5cclxuICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgPC9TdHlsZWRNb2RhbENvbnRlbnQ+XHJcbiAgICAgICAgICA8L1ZpZXc+XHJcbiAgICAgICAgPC9WaWV3PlxyXG4gICAgICA8L01vZGFsPlxyXG4gICAgPC9TdHlsZWRMYW5ndWFnZUNvbnRyb2xzPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBMYW5ndWFnZUNvbnRyb2xzSU9TO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFJQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJ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