{"version":3,"names":["_getJestObj","mock","React","require","_require","View","Text","Slot","result","mockSlotRenderer","createElement","useRouter","push","jest","fn","replace","back","_require2","configureStore","rootReducer","default","store","reducer","preloadedState","ui","theme","locale","isLoading","network","isOnline","mockPersistor","purge","pause","persist","flush","persistor","virtual","_require3","PersistGate","_ref","children","loading","Fragment","bootstrapApp","mockBootstrapApp","apply","arguments","logger","error","info","warn","debug","ErrorBoundary","_ref2","_require4","ThemeProvider","lightTheme","__esModule","_ref3","_require5","ActivityIndicator","StyledLoadingContainer","_ref4","testID","StyledActivityIndicator","props","StyledSlotContainer","_ref5","selectTheme","I18nProvider","_ref6","getDeviceLocale","_interopRequireDefault","_asyncToGenerator2","_react","_reactNative","_reactRedux","_reactNative2","_layout","_jsxRuntime","_require6","describe","beforeEach","clearAllMocks","mockResolvedValue","undefined","test","expect","render","jsx","not","toThrow","waitFor","toHaveBeenCalled","timeout","TestChild","useSelector","state","_state$ui","_state$network","_render","getByTestId","toBe","_render2","getByText","toBeTruthy","_render3","_render4","ThrowError","Error","originalError","console","_state$ui2","_render5"],"sources":["root-layout-redux.test.js"],"sourcesContent":["/**\r\n * Root Layout Redux Provider Tests\r\n * File: root-layout-redux.test.js\r\n * \r\n * Step 7.3: Add Redux Provider to root layout\r\n * \r\n * Per Step 7.3 requirements:\r\n * - Provider is imported from react-redux\r\n * - Store is imported from @store\r\n * - Provider wraps content (inside ErrorBoundary) with store prop\r\n * - PersistGate wrapper with loading fallback is present\r\n * - Store is accessible via useSelector in child components\r\n * \r\n * Per app-router.mdc: Root layouts use <Slot /> to render child routes, not {children} props.\r\n * Per testing.mdc: Tests verify behavior, not implementation details.\r\n * Per bootstrap-config.mdc: Redux Provider mounted only in root layout.\r\n * Per state-management.mdc: Store access patterns via Provider.\r\n */\r\nimport React from 'react';\r\nimport { Text } from 'react-native';\r\nimport { useSelector } from 'react-redux';\r\nimport { render, waitFor, act } from '@testing-library/react-native';\r\n\r\n// Mock expo-router Slot component\r\n// Per app-router.mdc: Layouts use <Slot /> to render child routes\r\nlet mockSlotRenderer = () => null;\r\njest.mock('expo-router', () => {\r\n  const React = require('react');\r\n  const { View, Text } = require('react-native');\r\n  return {\r\n    Slot: () => {\r\n      const result = mockSlotRenderer();\r\n      return result || React.createElement(View, null, React.createElement(Text, null, 'Mock Slot - No Child Routes'));\r\n    },\r\n    useRouter: () => ({\r\n      push: jest.fn(),\r\n      replace: jest.fn(),\r\n      back: jest.fn(),\r\n    }),\r\n  };\r\n});\r\n\r\n// Mock the store module before importing RootLayout\r\njest.mock('@store', () => {\r\n  const { configureStore } = require('@reduxjs/toolkit');\r\n  const rootReducer = require('@store/rootReducer').default;\r\n  \r\n  const store = configureStore({\r\n    reducer: rootReducer,\r\n    preloadedState: {\r\n      ui: {\r\n        theme: 'light',\r\n        locale: 'en',\r\n        isLoading: false,\r\n      },\r\n      network: {\r\n        isOnline: true,\r\n      },\r\n    },\r\n  });\r\n  \r\n  // Attach mock persistor to store\r\n  const mockPersistor = {\r\n    purge: jest.fn(),\r\n    pause: jest.fn(),\r\n    persist: jest.fn(),\r\n    flush: jest.fn(),\r\n  };\r\n  store.persistor = mockPersistor;\r\n  \r\n  return store;\r\n}, { virtual: true });\r\n\r\n// Mock PersistGate to render children immediately (simulating post-rehydration)\r\njest.mock('redux-persist/integration/react', () => {\r\n  const React = require('react');\r\n  const { Text } = require('react-native');\r\n  \r\n  return {\r\n    PersistGate: ({ children, loading }) => {\r\n      // PersistGate renders children after rehydration\r\n      // For testing, we'll render children immediately\r\n      return React.createElement(React.Fragment, null, children);\r\n    },\r\n  };\r\n});\r\n\r\n// Mock bootstrap to resolve immediately\r\nconst mockBootstrapApp = jest.fn();\r\njest.mock('@bootstrap', () => ({\r\n  bootstrapApp: (...args) => mockBootstrapApp(...args),\r\n}), { virtual: true });\r\n\r\n// Mock logger\r\njest.mock('@logging', () => ({\r\n  logger: {\r\n    error: jest.fn(),\r\n    info: jest.fn(),\r\n    warn: jest.fn(),\r\n    debug: jest.fn(),\r\n  },\r\n}), { virtual: true });\r\n\r\n// Mock ErrorBoundary\r\njest.mock('@errors', () => {\r\n  const React = require('react');\r\n  return {\r\n    ErrorBoundary: ({ children }) => React.createElement(React.Fragment, null, children),\r\n  };\r\n}, { virtual: true });\r\n\r\n// Mock ThemeProviderWrapper\r\njest.mock('@platform/layouts/common/ThemeProviderWrapper', () => {\r\n  const React = require('react');\r\n  const { ThemeProvider } = require('styled-components/native');\r\n  const lightTheme = require('@theme/light.theme').default;\r\n  return {\r\n    __esModule: true,\r\n    default: ({ children }) => React.createElement(ThemeProvider, { theme: lightTheme }, children),\r\n  };\r\n}, { virtual: true });\r\n\r\n// Mock RootLayoutStyles\r\njest.mock('@platform/layouts/common/RootLayoutStyles', () => {\r\n  const React = require('react');\r\n  const { View, ActivityIndicator } = require('react-native');\r\n  return {\r\n    StyledLoadingContainer: ({ children, testID }) =>\r\n      React.createElement(View, { testID }, children),\r\n    StyledActivityIndicator: (props) => React.createElement(ActivityIndicator, props),\r\n    StyledSlotContainer: ({ children }) => React.createElement(View, null, children),\r\n  };\r\n}, { virtual: true });\r\n\r\n// Mock store selectors\r\njest.mock('@store/selectors', () => ({\r\n  selectTheme: jest.fn(() => 'light'),\r\n}), { virtual: true });\r\n\r\n// Mock i18n\r\njest.mock('@i18n', () => {\r\n  const React = require('react');\r\n  return {\r\n    I18nProvider: ({ children }) => React.createElement(React.Fragment, null, children),\r\n    getDeviceLocale: jest.fn(() => 'en'),\r\n  };\r\n}, { virtual: true });\r\n\r\n// Import RootLayout after mocks are set up\r\nimport RootLayout from '@app/_layout';\r\n\r\ndescribe('app/_layout.jsx - Redux Provider Integration', () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    // Make bootstrap resolve immediately for all tests\r\n    mockBootstrapApp.mockResolvedValue(undefined);\r\n    // Default Slot renderer\r\n    mockSlotRenderer = () => React.createElement(Text, null, 'Test Content');\r\n  });\r\n\r\n  test('should render Provider without errors', async () => {\r\n    // Per Step 7.3: Test that Provider renders without errors\r\n    expect(() => {\r\n      render(<RootLayout />);\r\n    }).not.toThrow();\r\n\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should make store accessible via useSelector in child components', async () => {\r\n    // Per Step 7.3: Test that store is accessible via useSelector in child components\r\n    // Component that uses useSelector to access store\r\n    const TestChild = () => {\r\n      const theme = useSelector((state) => state.ui?.theme);\r\n      const isOnline = useSelector((state) => state.network?.isOnline);\r\n      \r\n      return React.createElement(\r\n        React.Fragment,\r\n        null,\r\n        React.createElement(Text, { testID: 'theme' }, theme),\r\n        React.createElement(Text, { testID: 'isOnline' }, isOnline ? 'online' : 'offline')\r\n      );\r\n    };\r\n    \r\n    // Mock Slot to render TestChild\r\n    mockSlotRenderer = () => React.createElement(TestChild);\r\n    \r\n    const { getByTestId } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete and component to render\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Verify store state is accessible via useSelector\r\n    await waitFor(() => {\r\n      expect(getByTestId('theme').props.children).toBe('light');\r\n      expect(getByTestId('isOnline').props.children).toBe('online');\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should render children inside PersistGate', async () => {\r\n    // Per Step 7.3: Test that PersistGate renders children\r\n    // Per Step 7.3: PersistGate wrapper with loading fallback is present\r\n    mockSlotRenderer = () => React.createElement(Text, null, 'Test Content');\r\n    \r\n    const { getByText } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Wait for content to render\r\n    await waitFor(() => {\r\n      expect(getByText('Test Content')).toBeTruthy();\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should handle PersistGate with loading fallback', async () => {\r\n    // Per Step 7.3: Test all branches (with/without PersistGate)\r\n    // Test that PersistGate loading fallback works\r\n    mockSlotRenderer = () => React.createElement(Text, null, 'Test Content');\r\n    \r\n    const { getByText } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // With PersistGate, children should render after rehydration\r\n    await waitFor(() => {\r\n      expect(getByText('Test Content')).toBeTruthy();\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should handle multiple children with Redux Provider', async () => {\r\n    // Test that Provider handles multiple child components\r\n    mockSlotRenderer = () => React.createElement(\r\n      React.Fragment,\r\n      null,\r\n      React.createElement(Text, null, 'First Child'),\r\n      React.createElement(Text, null, 'Second Child'),\r\n      React.createElement(Text, null, 'Third Child')\r\n    );\r\n    \r\n    const { getByText } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Wait for all children to render\r\n    await waitFor(() => {\r\n      expect(getByText('First Child')).toBeTruthy();\r\n      expect(getByText('Second Child')).toBeTruthy();\r\n      expect(getByText('Third Child')).toBeTruthy();\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should handle empty state with Redux Provider', async () => {\r\n    // Test that Provider handles empty rendering\r\n    mockSlotRenderer = () => null;\r\n    \r\n    expect(() => {\r\n      render(<RootLayout />);\r\n    }).not.toThrow();\r\n\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should maintain ErrorBoundary wrapping Provider', async () => {\r\n    // Per Step 7.3: Test that Provider is wrapped inside ErrorBoundary\r\n    // Verify ErrorBoundary is still present (tested in root-layout-error-boundary.test.js)\r\n    // This test ensures Provider doesn't break ErrorBoundary\r\n    const ThrowError = () => {\r\n      throw new Error('Test error');\r\n    };\r\n\r\n    // Mock Slot to render error-throwing component\r\n    mockSlotRenderer = () => React.createElement(ThrowError);\r\n\r\n    // Suppress console.error for error boundary test\r\n    const originalError = console.error;\r\n    console.error = jest.fn();\r\n\r\n    try {\r\n      render(<RootLayout />);\r\n\r\n      // Wait for bootstrap to complete\r\n      await waitFor(() => {\r\n        expect(mockBootstrapApp).toHaveBeenCalled();\r\n      }, { timeout: 3000 });\r\n\r\n      // ErrorBoundary should catch the error\r\n      // Note: Since ErrorBoundary is mocked to render children, this test verifies\r\n      // that the structure is correct, but actual error handling is tested in root-layout-error-boundary.test.js\r\n      // The component should render without crashing (ErrorBoundary handles it)\r\n    } finally {\r\n      console.error = originalError;\r\n    }\r\n  });\r\n\r\n  test('should handle store state updates', async () => {\r\n    // Per Step 7.3: Test that store state is accessible and reactive\r\n    // Component that reads from store\r\n    const TestChild = () => {\r\n      const isLoading = useSelector((state) => state.ui?.isLoading);\r\n      return React.createElement(Text, { testID: 'loading' }, isLoading ? 'loading' : 'idle');\r\n    };\r\n\r\n    // Mock Slot to render TestChild\r\n    mockSlotRenderer = () => React.createElement(TestChild);\r\n\r\n    const { getByTestId } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Verify initial state is accessible\r\n    await waitFor(() => {\r\n      expect(getByTestId('loading').props.children).toBe('idle');\r\n    }, { timeout: 3000 });\r\n  });\r\n});\r\n\r\n"],"mappings":"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","ignoreList":[]}