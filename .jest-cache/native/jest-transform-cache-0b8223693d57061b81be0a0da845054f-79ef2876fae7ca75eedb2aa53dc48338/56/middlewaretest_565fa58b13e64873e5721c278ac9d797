315a895a5ea8aaf29d926e6b1563b1ad
_getJestObj().mock("../../logging", function () {
  return {
    logger: {
      debug: jest.fn()
    }
  };
});
var _middleware = require("../../store/middleware");
var _logging = require("../../logging");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('store/middleware', function () {
  var originalEnv = process.env.NODE_ENV;
  afterEach(function () {
    process.env.NODE_ENV = originalEnv;
    _logging.logger.debug.mockClear();
  });
  it('logs actions in development', function () {
    process.env.NODE_ENV = 'development';
    var store = {
      getState: jest.fn()
    };
    var next = jest.fn();
    var action = {
      type: 'TEST_ACTION',
      payload: {
        id: 1
      }
    };
    (0, _middleware.loggingMiddleware)(store)(next)(action);
    expect(_logging.logger.debug).toHaveBeenCalledWith('Redux action', {
      type: action.type,
      payload: action.payload
    });
    expect(next).toHaveBeenCalledWith(action);
  });
  it('skips logging outside development', function () {
    process.env.NODE_ENV = 'production';
    var store = {
      getState: jest.fn()
    };
    var next = jest.fn();
    var action = {
      type: 'TEST_ACTION'
    };
    (0, _middleware.loggingMiddleware)(store)(next)(action);
    expect(_logging.logger.debug).not.toHaveBeenCalled();
    expect(next).toHaveBeenCalledWith(action);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJsb2dnZXIiLCJkZWJ1ZyIsImplc3QiLCJmbiIsIl9taWRkbGV3YXJlIiwicmVxdWlyZSIsIl9sb2dnaW5nIiwiX3JlcXVpcmUiLCJkZXNjcmliZSIsIm9yaWdpbmFsRW52IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiYWZ0ZXJFYWNoIiwibW9ja0NsZWFyIiwiaXQiLCJzdG9yZSIsImdldFN0YXRlIiwibmV4dCIsImFjdGlvbiIsInR5cGUiLCJwYXlsb2FkIiwiaWQiLCJsb2dnaW5nTWlkZGxld2FyZSIsImV4cGVjdCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwibm90IiwidG9IYXZlQmVlbkNhbGxlZCJdLCJzb3VyY2VzIjpbIm1pZGRsZXdhcmUudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU3RvcmUgTWlkZGxld2FyZSBUZXN0c1xyXG4gKiBGaWxlOiBtaWRkbGV3YXJlLnRlc3QuanNcclxuICovXHJcbmltcG9ydCB7IGxvZ2dpbmdNaWRkbGV3YXJlIH0gZnJvbSAnQHN0b3JlL21pZGRsZXdhcmUnO1xyXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdAbG9nZ2luZyc7XHJcblxyXG5qZXN0Lm1vY2soJ0Bsb2dnaW5nJywgKCkgPT4gKHtcclxuICBsb2dnZXI6IHtcclxuICAgIGRlYnVnOiBqZXN0LmZuKCksXHJcbiAgfSxcclxufSkpO1xyXG5cclxuZGVzY3JpYmUoJ3N0b3JlL21pZGRsZXdhcmUnLCAoKSA9PiB7XHJcbiAgY29uc3Qgb3JpZ2luYWxFbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOVjtcclxuXHJcbiAgYWZ0ZXJFYWNoKCgpID0+IHtcclxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID0gb3JpZ2luYWxFbnY7XHJcbiAgICBsb2dnZXIuZGVidWcubW9ja0NsZWFyKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdsb2dzIGFjdGlvbnMgaW4gZGV2ZWxvcG1lbnQnLCAoKSA9PiB7XHJcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9ICdkZXZlbG9wbWVudCc7XHJcbiAgICBjb25zdCBzdG9yZSA9IHsgZ2V0U3RhdGU6IGplc3QuZm4oKSB9O1xyXG4gICAgY29uc3QgbmV4dCA9IGplc3QuZm4oKTtcclxuICAgIGNvbnN0IGFjdGlvbiA9IHsgdHlwZTogJ1RFU1RfQUNUSU9OJywgcGF5bG9hZDogeyBpZDogMSB9IH07XHJcblxyXG4gICAgbG9nZ2luZ01pZGRsZXdhcmUoc3RvcmUpKG5leHQpKGFjdGlvbik7XHJcblxyXG4gICAgZXhwZWN0KGxvZ2dlci5kZWJ1ZykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ1JlZHV4IGFjdGlvbicsIHtcclxuICAgICAgdHlwZTogYWN0aW9uLnR5cGUsXHJcbiAgICAgIHBheWxvYWQ6IGFjdGlvbi5wYXlsb2FkLFxyXG4gICAgfSk7XHJcbiAgICBleHBlY3QobmV4dCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoYWN0aW9uKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3NraXBzIGxvZ2dpbmcgb3V0c2lkZSBkZXZlbG9wbWVudCcsICgpID0+IHtcclxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID0gJ3Byb2R1Y3Rpb24nO1xyXG4gICAgY29uc3Qgc3RvcmUgPSB7IGdldFN0YXRlOiBqZXN0LmZuKCkgfTtcclxuICAgIGNvbnN0IG5leHQgPSBqZXN0LmZuKCk7XHJcbiAgICBjb25zdCBhY3Rpb24gPSB7IHR5cGU6ICdURVNUX0FDVElPTicgfTtcclxuXHJcbiAgICBsb2dnaW5nTWlkZGxld2FyZShzdG9yZSkobmV4dCkoYWN0aW9uKTtcclxuXHJcbiAgICBleHBlY3QobG9nZ2VyLmRlYnVnKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgZXhwZWN0KG5leHQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGFjdGlvbik7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiJBQU9BQSxXQUFBLEdBQUtDLElBQUksa0JBQWE7RUFBQSxPQUFPO0lB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