a457335c6ab7059df99ecf5178e61660
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _fs = _interopRequireDefault(require("fs"));
var _path = _interopRequireDefault(require("path"));
var _guards = require("../../../navigation/guards");
describe('Step 7.11: Guard Infrastructure', function () {
  var guardsDir = _path.default.join(__dirname, '../../../navigation/guards');
  var barrelFile = _path.default.join(guardsDir, 'index.js');
  describe('Folder Structure', function () {
    it('should have guards directory at src/navigation/guards/', function () {
      expect(_fs.default.existsSync(guardsDir)).toBe(true);
      expect(_fs.default.statSync(guardsDir).isDirectory()).toBe(true);
    });
    it('should have barrel export file at src/navigation/guards/index.js', function () {
      expect(_fs.default.existsSync(barrelFile)).toBe(true);
      expect(_fs.default.statSync(barrelFile).isFile()).toBe(true);
    });
  });
  describe('Barrel Export', function () {
    it('should export useAuthGuard hook', function () {
      expect(typeof _guards.useAuthGuard).toBe('function');
    });
    it('should export useRoleGuard hook', function () {
      expect(typeof _guards.useRoleGuard).toBe('function');
    });
    it('should export ROLE_GUARD_ERRORS constants', function () {
      expect(_guards.ROLE_GUARD_ERRORS).toBeDefined();
      expect(typeof _guards.ROLE_GUARD_ERRORS).toBe('object');
      expect(_guards.ROLE_GUARD_ERRORS.NO_USER).toBe('NO_USER');
      expect(_guards.ROLE_GUARD_ERRORS.NO_ROLE).toBe('NO_ROLE');
      expect(_guards.ROLE_GUARD_ERRORS.INSUFFICIENT_ROLE).toBe('INSUFFICIENT_ROLE');
    });
    it('should allow importing from @navigation/guards alias', function () {
      expect(_guards.useAuthGuard).toBeDefined();
      expect(_guards.useRoleGuard).toBeDefined();
      expect(_guards.ROLE_GUARD_ERRORS).toBeDefined();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZnMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXRoIiwiX2d1YXJkcyIsImRlc2NyaWJlIiwiZ3VhcmRzRGlyIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJiYXJyZWxGaWxlIiwiaXQiLCJleHBlY3QiLCJmcyIsImV4aXN0c1N5bmMiLCJ0b0JlIiwic3RhdFN5bmMiLCJpc0RpcmVjdG9yeSIsImlzRmlsZSIsInVzZUF1dGhHdWFyZCIsInVzZVJvbGVHdWFyZCIsIlJPTEVfR1VBUkRfRVJST1JTIiwidG9CZURlZmluZWQiLCJOT19VU0VSIiwiTk9fUk9MRSIsIklOU1VGRklDSUVOVF9ST0xFIl0sInNvdXJjZXMiOlsiaW5kZXgudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogR3VhcmQgSW5mcmFzdHJ1Y3R1cmUgVGVzdHMgKFN0ZXAgNy4xMSlcclxuICogXHJcbiAqIFZlcmlmaWVzOlxyXG4gKiAtIEZvbGRlciBzdHJ1Y3R1cmUgZXhpc3RzIChzcmMvbmF2aWdhdGlvbi9ndWFyZHMvKVxyXG4gKiAtIEJhcnJlbCBleHBvcnQgZmlsZSBleGlzdHMgKHNyYy9uYXZpZ2F0aW9uL2d1YXJkcy9pbmRleC5qcylcclxuICogLSBCYXJyZWwgZXhwb3J0IGNvcnJlY3RseSBleHBvcnRzIGFsbCBndWFyZHNcclxuICogXHJcbiAqIFJ1bGUgUmVmZXJlbmNlczpcclxuICogLSBwcm9qZWN0LXN0cnVjdHVyZS5tZGMgKG5hdmlnYXRpb24gZ3VhcmRzIGluIHNyYy9uYXZpZ2F0aW9uL2d1YXJkcy8pXHJcbiAqIC0gY29kaW5nLWNvbnZlbnRpb25zLm1kYyAoYmFycmVsIGV4cG9ydHMgdmlhIGluZGV4LmpzKVxyXG4gKi9cclxuXHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQge1xyXG4gIHVzZUF1dGhHdWFyZCxcclxuICB1c2VSb2xlR3VhcmQsXHJcbiAgUk9MRV9HVUFSRF9FUlJPUlMsXHJcbn0gZnJvbSAnQG5hdmlnYXRpb24vZ3VhcmRzJztcclxuXHJcbmRlc2NyaWJlKCdTdGVwIDcuMTE6IEd1YXJkIEluZnJhc3RydWN0dXJlJywgKCkgPT4ge1xyXG4gIGNvbnN0IGd1YXJkc0RpciA9IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi8uLi8uLi9uYXZpZ2F0aW9uL2d1YXJkcycpO1xyXG4gIGNvbnN0IGJhcnJlbEZpbGUgPSBwYXRoLmpvaW4oZ3VhcmRzRGlyLCAnaW5kZXguanMnKTtcclxuXHJcbiAgZGVzY3JpYmUoJ0ZvbGRlciBTdHJ1Y3R1cmUnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGhhdmUgZ3VhcmRzIGRpcmVjdG9yeSBhdCBzcmMvbmF2aWdhdGlvbi9ndWFyZHMvJywgKCkgPT4ge1xyXG4gICAgICBleHBlY3QoZnMuZXhpc3RzU3luYyhndWFyZHNEaXIpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoZnMuc3RhdFN5bmMoZ3VhcmRzRGlyKS5pc0RpcmVjdG9yeSgpKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGJhcnJlbCBleHBvcnQgZmlsZSBhdCBzcmMvbmF2aWdhdGlvbi9ndWFyZHMvaW5kZXguanMnLCAoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChmcy5leGlzdHNTeW5jKGJhcnJlbEZpbGUpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoZnMuc3RhdFN5bmMoYmFycmVsRmlsZSkuaXNGaWxlKCkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0JhcnJlbCBFeHBvcnQnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGV4cG9ydCB1c2VBdXRoR3VhcmQgaG9vaycsICgpID0+IHtcclxuICAgICAgZXhwZWN0KHR5cGVvZiB1c2VBdXRoR3VhcmQpLnRvQmUoJ2Z1bmN0aW9uJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGV4cG9ydCB1c2VSb2xlR3VhcmQgaG9vaycsICgpID0+IHtcclxuICAgICAgZXhwZWN0KHR5cGVvZiB1c2VSb2xlR3VhcmQpLnRvQmUoJ2Z1bmN0aW9uJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGV4cG9ydCBST0xFX0dVQVJEX0VSUk9SUyBjb25zdGFudHMnLCAoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChST0xFX0dVQVJEX0VSUk9SUykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHR5cGVvZiBST0xFX0dVQVJEX0VSUk9SUykudG9CZSgnb2JqZWN0Jyk7XHJcbiAgICAgIGV4cGVjdChST0xFX0dVQVJEX0VSUk9SUy5OT19VU0VSKS50b0JlKCdOT19VU0VSJyk7XHJcbiAgICAgIGV4cGVjdChST0xFX0dVQVJEX0VSUk9SUy5OT19ST0xFKS50b0JlKCdOT19ST0xFJyk7XHJcbiAgICAgIGV4cGVjdChST0xFX0dVQVJEX0VSUk9SUy5JTlNVRkZJQ0lFTlRfUk9MRSkudG9CZSgnSU5TVUZGSUNJRU5UX1JPTEUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgYWxsb3cgaW1wb3J0aW5nIGZyb20gQG5hdmlnYXRpb24vZ3VhcmRzIGFsaWFzJywgKCkgPT4ge1xyXG4gICAgICAvLyBWZXJpZnkgdGhhdCB0aGUgYWxpYXMgcmVzb2x2ZXMgY29ycmVjdGx5XHJcbiAgICAgIC8vIFRoaXMgdGVzdCB2ZXJpZmllcyB0aGUgaW1wb3J0cyBhdCB0aGUgdG9wIG9mIHRoZSBmaWxlIHdvcmsgY29ycmVjdGx5XHJcbiAgICAgIC8vIFRoZSBpbXBvcnRzIGFyZSBhbHJlYWR5IHRlc3RlZCBhYm92ZSwgdGhpcyBjb25maXJtcyBhbGlhcyByZXNvbHV0aW9uXHJcbiAgICAgIGV4cGVjdCh1c2VBdXRoR3VhcmQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdCh1c2VSb2xlR3VhcmQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChST0xFX0dV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