b130098fb67f1ffc00458bc880e7cb7f
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireDefault(require("react"));
var _ = require("../..");
var _hooks = require("../../../../hooks");
var _SearchBarWeb = require("./SearchBar.web.styles");
var _useSearchBar2 = _interopRequireDefault(require("./useSearchBar"));
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["value", "onChange", "onSearch", "placeholder", "showClearButton", "debounceMs", "accessibilityLabel", "testID", "className"];
var SearchBarWeb = function SearchBarWeb(_ref) {
  var _ref$value = _ref.value,
    value = _ref$value === void 0 ? '' : _ref$value,
    onChange = _ref.onChange,
    onSearch = _ref.onSearch,
    placeholder = _ref.placeholder,
    _ref$showClearButton = _ref.showClearButton,
    showClearButton = _ref$showClearButton === void 0 ? true : _ref$showClearButton,
    _ref$debounceMs = _ref.debounceMs,
    debounceMs = _ref$debounceMs === void 0 ? 300 : _ref$debounceMs,
    accessibilityLabel = _ref.accessibilityLabel,
    testID = _ref.testID,
    className = _ref.className,
    rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var _useSearchBar = (0, _useSearchBar2.default)({
      value: value,
      onChange: onChange,
      onSearch: onSearch,
      debounceMs: debounceMs
    }),
    localValue = _useSearchBar.localValue,
    hasValue = _useSearchBar.hasValue,
    handleChange = _useSearchBar.handleChange,
    handleClear = _useSearchBar.handleClear,
    handleSubmit = _useSearchBar.handleSubmit;
  var placeholderText = placeholder || t('common.searchPlaceholder');
  var searchIconLabel = t('common.searchIcon');
  var clearButtonLabel = t('common.clearSearch');
  var accessibilityLabelText = accessibilityLabel;
  var handleKeyPress = function handleKeyPress(e) {
    if (e.key === 'Enter') {
      handleSubmit();
    }
  };
  var searchRegionLabel = accessibilityLabelText || placeholderText || searchIconLabel;
  return (0, _jsxRuntime.jsxs)(_SearchBarWeb.StyledContainer, Object.assign({
    className: className,
    "data-testid": testID,
    testID: testID,
    role: "search",
    "aria-label": searchRegionLabel
  }, rest, {
    children: [(0, _jsxRuntime.jsx)(_SearchBarWeb.StyledSearchIcon, {
      accessibilityLabel: searchIconLabel,
      "aria-hidden": "true",
      "data-testid": testID ? `${testID}-icon` : undefined,
      testID: testID ? `${testID}-icon` : undefined,
      children: "\uD83D\uDD0D"
    }), (0, _jsxRuntime.jsx)(_SearchBarWeb.StyledTextFieldWrapper, {
      children: (0, _jsxRuntime.jsx)(_.TextField, Object.assign({
        value: localValue,
        onChange: handleChange,
        onKeyPress: handleKeyPress,
        placeholder: placeholderText,
        type: "search"
      }, accessibilityLabelText && {
        accessibilityLabel: accessibilityLabelText
      }, {
        testID: testID ? `${testID}-input` : undefined
      }))
    }), showClearButton && hasValue && (0, _jsxRuntime.jsx)(_.Button, {
      variant: "text",
      size: "small",
      onClick: handleClear,
      accessibilityLabel: clearButtonLabel,
      testID: testID ? `${testID}-clear` : undefined,
      children: "\u2715"
    })]
  }));
};
var _default = exports.default = SearchBarWeb;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl8iLCJfaG9va3MiLCJfU2VhcmNoQmFyV2ViIiwiX3VzZVNlYXJjaEJhcjIiLCJfanN4UnVudGltZSIsIl9leGNsdWRlZCIsIlNlYXJjaEJhcldlYiIsIl9yZWYiLCJfcmVmJHZhbHVlIiwidmFsdWUiLCJvbkNoYW5nZSIsIm9uU2VhcmNoIiwicGxhY2Vob2xkZXIiLCJfcmVmJHNob3dDbGVhckJ1dHRvbiIsInNob3dDbGVhckJ1dHRvbiIsIl9yZWYkZGVib3VuY2VNcyIsImRlYm91bmNlTXMiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJ0ZXN0SUQiLCJjbGFzc05hbWUiLCJyZXN0IiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsImRlZmF1bHQiLCJfdXNlSTE4biIsInVzZUkxOG4iLCJ0IiwiX3VzZVNlYXJjaEJhciIsInVzZVNlYXJjaEJhciIsImxvY2FsVmFsdWUiLCJoYXNWYWx1ZSIsImhhbmRsZUNoYW5nZSIsImhhbmRsZUNsZWFyIiwiaGFuZGxlU3VibWl0IiwicGxhY2Vob2xkZXJUZXh0Iiwic2VhcmNoSWNvbkxhYmVsIiwiY2xlYXJCdXR0b25MYWJlbCIsImFjY2Vzc2liaWxpdHlMYWJlbFRleHQiLCJoYW5kbGVLZXlQcmVzcyIsImUiLCJrZXkiLCJzZWFyY2hSZWdpb25MYWJlbCIsImpzeHMiLCJTdHlsZWRDb250YWluZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJyb2xlIiwiY2hpbGRyZW4iLCJqc3giLCJTdHlsZWRTZWFyY2hJY29uIiwidW5kZWZpbmVkIiwiU3R5bGVkVGV4dEZpZWxkV3JhcHBlciIsIlRleHRGaWVsZCIsIm9uS2V5UHJlc3MiLCJ0eXBlIiwiQnV0dG9uIiwidmFyaWFudCIsInNpemUiLCJvbkNsaWNrIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiU2VhcmNoQmFyLndlYi5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFNlYXJjaEJhciAtIFdlYlxyXG4gKiBJbnB1dCArIEljb24gKyBDbGVhciBjb21wb3NpdGlvbjsgTWljcm9zb2Z0IEZsdWVudCBsb29rXHJcbiAqIEZpbGU6IFNlYXJjaEJhci53ZWIuanN4XHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgQnV0dG9uLCBUZXh0RmllbGQgfSBmcm9tICdAcGxhdGZvcm0vY29tcG9uZW50cyc7XHJcbmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICdAaG9va3MnO1xyXG5pbXBvcnQgeyBTdHlsZWRDb250YWluZXIsIFN0eWxlZFNlYXJjaEljb24sIFN0eWxlZFRleHRGaWVsZFdyYXBwZXIgfSBmcm9tICcuL1NlYXJjaEJhci53ZWIuc3R5bGVzJztcclxuaW1wb3J0IHVzZVNlYXJjaEJhciBmcm9tICcuL3VzZVNlYXJjaEJhcic7XHJcblxyXG5jb25zdCBTZWFyY2hCYXJXZWIgPSAoe1xyXG4gIHZhbHVlID0gJycsXHJcbiAgb25DaGFuZ2UsXHJcbiAgb25TZWFyY2gsXHJcbiAgcGxhY2Vob2xkZXIsXHJcbiAgc2hvd0NsZWFyQnV0dG9uID0gdHJ1ZSxcclxuICBkZWJvdW5jZU1zID0gMzAwLFxyXG4gIGFjY2Vzc2liaWxpdHlMYWJlbCxcclxuICB0ZXN0SUQsXHJcbiAgY2xhc3NOYW1lLFxyXG4gIC4uLnJlc3RcclxufSkgPT4ge1xyXG4gIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xyXG4gIGNvbnN0IHtcclxuICAgIGxvY2FsVmFsdWUsXHJcbiAgICBoYXNWYWx1ZSxcclxuICAgIGhhbmRsZUNoYW5nZSxcclxuICAgIGhhbmRsZUNsZWFyLFxyXG4gICAgaGFuZGxlU3VibWl0LFxyXG4gIH0gPSB1c2VTZWFyY2hCYXIoe1xyXG4gICAgdmFsdWUsXHJcbiAgICBvbkNoYW5nZSxcclxuICAgIG9uU2VhcmNoLFxyXG4gICAgZGVib3VuY2VNcyxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgcGxhY2Vob2xkZXJUZXh0ID0gcGxhY2Vob2xkZXIgfHwgdCgnY29tbW9uLnNlYXJjaFBsYWNlaG9sZGVyJyk7XHJcbiAgY29uc3Qgc2VhcmNoSWNvbkxhYmVsID0gdCgnY29tbW9uLnNlYXJjaEljb24nKTtcclxuICBjb25zdCBjbGVhckJ1dHRvbkxhYmVsID0gdCgnY29tbW9uLmNsZWFyU2VhcmNoJyk7XHJcbiAgY29uc3QgYWNjZXNzaWJpbGl0eUxhYmVsVGV4dCA9IGFjY2Vzc2liaWxpdHlMYWJlbDtcclxuXHJcbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZSkgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgIGhhbmRsZVN1Ym1pdCgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNlYXJjaFJlZ2lvbkxhYmVsID0gYWNjZXNzaWJpbGl0eUxhYmVsVGV4dCB8fCBwbGFjZWhvbGRlclRleHQgfHwgc2VhcmNoSWNvbkxhYmVsO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPFN0eWxlZENvbnRhaW5lclxyXG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cclxuICAgICAgZGF0YS10ZXN0aWQ9e3Rlc3RJRH1cclxuICAgICAgdGVzdElEPXt0ZXN0SUR9XHJcbiAgICAgIHJvbGU9XCJzZWFyY2hcIlxyXG4gICAgICBhcmlhLWxhYmVsPXtzZWFyY2hSZWdpb25MYWJlbH1cclxuICAgICAgey4uLnJlc3R9XHJcbiAgICA+XHJcbiAgICAgIDxTdHlsZWRTZWFyY2hJY29uXHJcbiAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXtzZWFyY2hJY29uTGFiZWx9XHJcbiAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcclxuICAgICAgICBkYXRhLXRlc3RpZD17dGVzdElEID8gYCR7dGVzdElEfS1pY29uYCA6IHVuZGVmaW5lZH1cclxuICAgICAgICB0ZXN0SUQ9e3Rlc3RJRCA/IGAke3Rlc3RJRH0taWNvbmAgOiB1bmRlZmluZWR9XHJcbiAgICAgID5cclxuICAgICAgICDwn5SNXHJcbiAgICAgIDwvU3R5bGVkU2VhcmNoSWNvbj5cclxuICAgICAgPFN0eWxlZFRleHRGaWVsZFdyYXBwZXI+XHJcbiAgICAgICAgPFRleHRGaWVsZFxyXG4gICAgICAgICAgdmFsdWU9e2xvY2FsVmFsdWV9XHJcbiAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgb25LZXlQcmVzcz17aGFuZGxlS2V5UHJlc3N9XHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJUZXh0fVxyXG4gICAgICAgICAgdHlwZT1cInNlYXJjaFwiXHJcbiAgICAgICAgICB7Li4uKGFjY2Vzc2liaWxpdHlMYWJlbFRleHQgJiYgeyBhY2Nlc3NpYmlsaXR5TGFiZWw6IGFjY2Vzc2liaWxpdHlMYWJlbFRleHQgfSl9XHJcbiAgICAgICAgICB0ZXN0SUQ9e3Rlc3RJRCA/IGAke3Rlc3RJRH0taW5wdXRgIDogdW5kZWZpbmVkfVxyXG4gICAgICAgIC8+XHJcbiAgICAgIDwvU3R5bGVkVGV4dEZpZWxkV3JhcHBlcj5cclxuICAgICAge3Nob3dDbGVhckJ1dHRvbiAmJiBoYXNWYWx1ZSAmJiAoXHJcbiAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgdmFyaWFudD1cInRleHRcIlxyXG4gICAgICAgICAgc2l6ZT1cInNtYWxsXCJcclxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsZWFyfVxyXG4gICAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXtjbGVhckJ1dHRvbkxhYmVsfVxyXG4gICAgICAgICAgdGVzdElEPXt0ZXN0SUQgPyBgJHt0ZXN0SUR9LWNsZWFyYCA6IHVuZGVmaW5lZH1cclxuICAgICAgICA+XHJcbiAgICAgICAgICDinJVcclxuICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgKX1cclxuICAgIDwvU3R5bGVkQ29udGFpbmVyPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWFyY2hCYXJXZWI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBTUEs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