e52b553c51f36419e63f69cb38c76afd
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = require("react");
var _expoRouter = require("expo-router");
var _hooks = require("../../../../hooks");
var _sideMenu = require("../../../../config/sideMenu");
var _guards = require("../../../../navigation/guards");
var _types = require("../../../components/navigation/GlobalHeader/types");
var _components = require("../../../components");
var _jsxRuntime = require("react/jsx-runtime");
var usePatientRouteLayout = function usePatientRouteLayout() {
  (0, _guards.useAuthGuard)();
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var router = (0, _expoRouter.useRouter)();
  var _useAuth = (0, _hooks.useAuth)(),
    isAuthenticated = _useAuth.isAuthenticated,
    logout = _useAuth.logout;
  var _useUiState = (0, _hooks.useUiState)(),
    isLoading = _useUiState.isLoading;
  var _useNavigationVisibil = (0, _hooks.useNavigationVisibility)(),
    isItemVisible = _useNavigationVisibil.isItemVisible;
  var patientItems = _sideMenu.PATIENT_MENU_ITEMS;
  var headerActions = (0, _react.useMemo)(function () {
    return isAuthenticated ? [{
      id: 'logout',
      label: t('navigation.header.logout'),
      accessibilityLabel: t('navigation.header.logout'),
      onPress: logout,
      variant: _types.ACTION_VARIANTS.GHOST
    }] : [{
      id: 'login',
      label: t('auth.login.button'),
      accessibilityLabel: t('auth.login.button'),
      onPress: function onPress() {
        return router.push('/login');
      },
      variant: _types.ACTION_VARIANTS.PRIMARY
    }, {
      id: 'register',
      label: t('auth.register.button'),
      accessibilityLabel: t('auth.register.button'),
      onPress: function onPress() {
        return router.push('/register');
      },
      variant: _types.ACTION_VARIANTS.GHOST
    }];
  }, [isAuthenticated, logout, router, t]);
  var overlaySlot = (0, _react.useMemo)(function () {
    return isLoading ? (0, _jsxRuntime.jsx)(_components.LoadingOverlay, {
      visible: true,
      testID: "patient-loading-overlay"
    }) : null;
  }, [isLoading]);
  return {
    headerActions: headerActions,
    overlaySlot: overlaySlot,
    patientItems: patientItems,
    isItemVisible: isItemVisible
  };
};
var _default = exports.default = usePatientRouteLayout;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2V4cG9Sb3V0ZXIiLCJfaG9va3MiLCJfc2lkZU1lbnUiLCJfZ3VhcmRzIiwiX3R5cGVzIiwiX2NvbXBvbmVudHMiLCJfanN4UnVudGltZSIsInVzZVBhdGllbnRSb3V0ZUxheW91dCIsInVzZUF1dGhHdWFyZCIsIl91c2VJMThuIiwidXNlSTE4biIsInQiLCJyb3V0ZXIiLCJ1c2VSb3V0ZXIiLCJfdXNlQXV0aCIsInVzZUF1dGgiLCJpc0F1dGhlbnRpY2F0ZWQiLCJsb2dvdXQiLCJfdXNlVWlTdGF0ZSIsInVzZVVpU3RhdGUiLCJpc0xvYWRpbmciLCJfdXNlTmF2aWdhdGlvblZpc2liaWwiLCJ1c2VOYXZpZ2F0aW9uVmlzaWJpbGl0eSIsImlzSXRlbVZpc2libGUiLCJwYXRpZW50SXRlbXMiLCJQQVRJRU5UX01FTlVfSVRFTVMiLCJoZWFkZXJBY3Rpb25zIiwidXNlTWVtbyIsImlkIiwibGFiZWwiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJvblByZXNzIiwidmFyaWFudCIsIkFDVElPTl9WQVJJQU5UUyIsIkdIT1NUIiwicHVzaCIsIlBSSU1BUlkiLCJvdmVybGF5U2xvdCIsImpzeCIsIkxvYWRpbmdPdmVybGF5IiwidmlzaWJsZSIsInRlc3RJRCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlcyI6WyJ1c2VQYXRpZW50Um91dGVMYXlvdXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIHVzZVBhdGllbnRSb3V0ZUxheW91dCBIb29rXHJcbiAqIFNoYXJlZCBsb2dpYyBmb3IgUGF0aWVudFJvdXRlTGF5b3V0IChoZWFkZXIgYWN0aW9ucywgb3ZlcmxheSwgbmF2IGl0ZW1zKVxyXG4gKiBGaWxlOiB1c2VQYXRpZW50Um91dGVMYXlvdXQuanNcclxuICovXHJcblxyXG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICdleHBvLXJvdXRlcic7XHJcbmltcG9ydCB7IHVzZUF1dGgsIHVzZUkxOG4sIHVzZU5hdmlnYXRpb25WaXNpYmlsaXR5LCB1c2VVaVN0YXRlIH0gZnJvbSAnQGhvb2tzJztcclxuaW1wb3J0IHsgUEFUSUVOVF9NRU5VX0lURU1TIH0gZnJvbSAnQGNvbmZpZy9zaWRlTWVudSc7XHJcbmltcG9ydCB7IHVzZUF1dGhHdWFyZCB9IGZyb20gJ0BuYXZpZ2F0aW9uL2d1YXJkcyc7XHJcbmltcG9ydCB7IEFDVElPTl9WQVJJQU5UUyB9IGZyb20gJ0BwbGF0Zm9ybS9jb21wb25lbnRzL25hdmlnYXRpb24vR2xvYmFsSGVhZGVyL3R5cGVzJztcclxuaW1wb3J0IHsgTG9hZGluZ092ZXJsYXkgfSBmcm9tICdAcGxhdGZvcm0vY29tcG9uZW50cyc7XHJcblxyXG4vKipcclxuICogU2hhcmVkIGhvb2sgZm9yIFBhdGllbnRSb3V0ZUxheW91dCAoYWxsIHBsYXRmb3JtcylcclxuICogQHJldHVybnMge09iamVjdH0gaGVhZGVyQWN0aW9ucywgb3ZlcmxheVNsb3QsIHBhdGllbnRJdGVtcywgaXNJdGVtVmlzaWJsZVxyXG4gKi9cclxuY29uc3QgdXNlUGF0aWVudFJvdXRlTGF5b3V0ID0gKCkgPT4ge1xyXG4gIHVzZUF1dGhHdWFyZCgpO1xyXG4gIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IHsgaXNBdXRoZW50aWNhdGVkLCBsb2dvdXQgfSA9IHVzZUF1dGgoKTtcclxuICBjb25zdCB7IGlzTG9hZGluZyB9ID0gdXNlVWlTdGF0ZSgpO1xyXG4gIGNvbnN0IHsgaXNJdGVtVmlzaWJsZSB9ID0gdXNlTmF2aWdhdGlvblZpc2liaWxpdHkoKTtcclxuICBjb25zdCBwYXRpZW50SXRlbXMgPSBQQVRJRU5UX01FTlVfSVRFTVM7XHJcblxyXG4gIGNvbnN0IGhlYWRlckFjdGlvbnMgPSB1c2VNZW1vKFxyXG4gICAgKCkgPT5cclxuICAgICAgaXNBdXRoZW50aWNhdGVkXHJcbiAgICAgICAgPyBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogJ2xvZ291dCcsXHJcbiAgICAgICAgICAgICAgbGFiZWw6IHQoJ25hdmlnYXRpb24uaGVhZGVyLmxvZ291dCcpLFxyXG4gICAgICAgICAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbDogdCgnbmF2aWdhdGlvbi5oZWFkZXIubG9nb3V0JyksXHJcbiAgICAgICAgICAgICAgb25QcmVzczogbG9nb3V0LFxyXG4gICAgICAgICAgICAgIHZhcmlhbnQ6IEFDVElPTl9WQVJJQU5UUy5HSE9TVCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIF1cclxuICAgICAgICA6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAnbG9naW4nLFxyXG4gICAgICAgICAgICAgIGxhYmVsOiB0KCdhdXRoLmxvZ2luLmJ1dHRvbicpLFxyXG4gICAgICAgICAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbDogdCgnYXV0aC5sb2dpbi5idXR0b24nKSxcclxuICAgICAgICAgICAgICBvblByZXNzOiAoKSA9PiByb3V0ZXIucHVzaCgnL2xvZ2luJyksXHJcbiAgICAgICAgICAgICAgdmFyaWFudDogQUNUSU9OX1ZBUklBTlRTLlBSSU1BUlksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogJ3JlZ2lzdGVyJyxcclxuICAgICAgICAgICAgICBsYWJlbDogdCgnYXV0aC5yZWdpc3Rlci5idXR0b24nKSxcclxuICAgICAgICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw6IHQoJ2F1dGgucmVnaXN0ZXIuYnV0dG9uJyksXHJcbiAgICAgICAgICAgICAgb25QcmVzczogKCkgPT4gcm91dGVyLnB1c2goJy9yZWdpc3RlcicpLFxyXG4gICAgICAgICAgICAgIHZhcmlhbnQ6IEFDVElPTl9WQVJJQU5UUy5HSE9TVCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIF0sXHJcbiAgICBbaXNBdXRoZW50aWNhdGVkLCBsb2dvdXQsIHJvdXRlciwgdF1cclxuICApO1xyXG5cclxuICBjb25zdCBvdmVybGF5U2xvdCA9IHVzZU1lbW8oXHJcbiAgICAoKSA9PlxyXG4gICAgICBpc0xvYWRpbmcgPyAoXHJcbiAgICAgICAgPExvYWRpbmdPdmVybGF5IHZpc2libGUgdGVzdElEPVwicGF0aWVudC1sb2FkaW5nLW92ZXJsYXlcIiAvPlxyXG4gICAgICApIDogbnVsbCxcclxuICAgIFtpc0xvYWRpbmddXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHsgaGVhZGVyQWN0aW9ucywgb3ZlcmxheVNsb3QsIHBhdGllbnRJdGVtcywgaXNJdGVtVmlzaWJsZSB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlUGF0aWVudFJvdXRlTGF5b3V0O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7QUFNQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxXQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxNQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxNQUFBLEdBQUFMLE9BQUE7QUFDQSxJQUFBTSxXQUFBLEdBQUFOLE9BQUE7QUFBc0QsSUFBQU8sV0FBQSxHQUFBUCxPQUFBO0FBTXRELElBQU1RLHFCQUFxQixHQUFHLFNBQXhCQSxxQkFBcUJBLENBQUEsRUFBUztFQUNsQyxJQUFBQyxvQkFBWSxFQUFDLENBQUM7RUFDZCxJQUFBQyxRQUFBLEdBQWMsSUFBQUMsY0FBTyxFQUFDLENBQUM7SUFBZkMsQ0FBQyxHQUFBRixRQUFBLENBQURFLENBQUM7RUFDVCxJQUFNQyxNQUFNLEdBQUcsSUFBQUMscUJBQVMsRUFBQyxDQUFDO0VBQzFCLElBQUFDLFFBQUEsR0FBb0MsSUFBQUMsY0FBTyxFQUFDLENBQUM7SUFBckNDLGVBQWUsR0FBQUYsUUFBQSxDQUFmRSxlQUFlO0lBQUVDLE1BQU0sR0FBQUgsUUFBQSxDQUFORyxNQUFNO0VBQy9CLElBQUFDLFdBQUEsR0FBc0IsSUFBQUMsaUJBQVUsRUFBQyxDQUFDO0lBQTFCQyxTQUFTLEdBQUFGLFdBQUEsQ0FBVEUsU0FBUztFQUNqQixJQUFBQyxxQkFBQSxHQUEwQixJQUFBQyw4QkFBdUIsRUFBQyxDQUFDO0lBQTNDQyxhQUFhLEdBQUFGLHFCQUFBLENBQWJFLGFBQWE7RUFDckIsSUFBTUMsWUFBWSxHQUFHQyw0QkFBa0I7RUFFdkMsSUFBTUMsYUFBYSxHQUFHLElBQUFDLGNBQU8sRUFDM0I7SUFBQSxPQUNFWCxlQUFlLEdBQ1gsQ0FDRTtNQUNFWSxFQUFFLEVBQUUsUUFBUTtNQUNaQyxLQUFLLEVBQUVsQixDQUFDLENBQUMsMEJBQTBCLENBQUM7TUFDcENtQixrQkFBa0IsRUFBRW5CLENBQUMsQ0FBQywwQkFBMEIsQ0FBQztNQUNqRG9CLE9BQU8sRUFBRWQsTUFBTTtNQUNmZSxPQUFPLEVBQUVDLHNCQUFlLENBQUNDO0lBQzNCLENBQUMsQ0FDRixHQUNELENBQ0U7TUFDRU4sRUFBRSxFQUFFLE9BQU87TUFDWEMsS0FBSyxFQUFFbEIsQ0FBQyxDQUFDLG1CQUFtQixDQUFDO01BQzdCbUIsa0JBQWtCLEVBQUVuQixDQUFDLENBQUMsbUJBQW1CLENBQUM7TUFDMUNvQixPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBQTtRQUFBLE9BQVFuQixNQUFNLENBQUN1QixJQUFJLENBQUMsUUFBUSxDQUFDO01BQUE7TUFDcENILE9BQU8sRUFBRUMsc0JBQWUsQ0FBQ0c7SUFDM0IsQ0FBQyxFQUNEO01BQ0VSLEVBQUUsRUFBRSxVQUFVO01BQ2RDLEtBQUssRUFBRWxCLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQztNQUNoQ21CLGtCQUFrQixFQUFFbkIsQ0FBQyxDQUFDLHNCQUFzQixDQUFDO01BQzdDb0IsT0FBTyxFQUFFLFNBQVRBLE9BQU9BLENBQUE7UUFBQSxPQUFRbkIsTUFBTSxDQUFDdUIsSUFBSSxDQUFDLFdBQVcsQ0FBQztNQUFBO01BQ3ZDSCxPQUFPLEVBQUVDLHNCQUFlLENBQUNDO0lBQzNCLENBQUMsQ0FDRjtFQUFBLEdBQ1AsQ0FBQ2xCLGVBQWUsRUFBRUMsTUFBTSxFQUFFTCxNQUFNLEVBQUVELENBQUMsQ0FDckMsQ0FBQztFQUVELElBQU0wQixXQUFXLEdBQUcsSUFBQVYsY0FBTyxFQUN6QjtJQUFBLE9BQ0VQLFNBQVMsR0FDUCxJQUFBZCxXQUFBLENBQUFnQyxHQUFBLEVBQUNqQyxXQUFBLENBQUFrQyxjQUFjO01BQUNDLE9BQU87TUFBQ0MsTUFBTSxFQUFDO0lBQXlCLENBQUUsQ0FBQyxHQUN6RCxJQUFJO0VBQUEsR0FDVixDQUFDckIsU0FBUyxDQUNaLENBQUM7RUFFRCxPQUFPO0lBQUVNLGFBQWEsRUFBYkEsYUFBYTtJQUFFVyxXQUFXLEVBQVhBLFdBQVc7SUFBRWIsWUFBWSxFQUFaQSxZQUFZO0lBQUVELGFBQWEsRUFBYkE7RUFBYyxDQUFDO0FBQ3BFLENBQUM7QUFBQyxJQUFBbUIsUUFBQSxHQUFBQyxPQUFBLENBQUFDLE9BQUEsR0FFYXJDLHFCQUFxQiIsImlnbm9yZUxpc3QiOltdfQ==