{"version":3,"names":["_getJestObj","mock","useAuthGuard","jest","fn","useRouter","usePathname","Slot","_ref","children","useAuth","useI18n","t","key","locale","useUiState","isLoading","useShellBanners","GlobalHeader","_ref2","props","_objectWithoutProperties2","default","_excluded","_jsxRuntime","jsx","Object","assign","LoadingOverlay","_ref3","_excluded2","NoticeSurface","_ref4","_excluded3","ShellBanners","_ref5","_excluded4","_interopRequireDefault","require","_asyncToGenerator2","_react","_reactNative","_reactTestRenderer","_layout","_hooks","_guards","_expoRouter","_require","describe","mockRouter","beforeEach","clearAllMocks","replace","push","mockReturnValue","isAuthenticated","logout","roles","authenticated","user","it","_render","render","getByTestId","waitFor","expect","not","toHaveBeenCalled","id","email","toHaveBeenCalledWith","_render2","rerender","toHaveBeenCalledTimes","mockImplementation","_render3","mockClear","_render4","_render5","headerCall","calls","actionIds","actions","map","action","toContain","Error","toThrow","undefined"],"sources":["auth-layout-guard.test.js"],"sourcesContent":["/**\r\n * Auth Layout Guard Tests\r\n * \r\n * Tests for auth layout with auth guard integration covering:\r\n * - Unauthenticated users can access auth routes (no redirect)\r\n * - Authenticated users are redirected to home route when accessing auth routes\r\n * - All branches (authenticated vs unauthenticated states)\r\n * - Integration between layout and guard hook\r\n * \r\n * Coverage: 100% required (critical path: auth/access control)\r\n */\r\n\r\nimport React from 'react';\r\nimport { render, waitFor } from '@testing-library/react-native';\r\nimport { act } from 'react-test-renderer';\r\nimport AuthLayout from '@app/(auth)/_layout';\r\nimport { useAuth } from '@hooks';\r\nimport { useAuthGuard } from '@navigation/guards';\r\nimport { usePathname, useRouter } from 'expo-router';\r\n\r\n// Mock dependencies\r\njest.mock('@navigation/guards', () => ({\r\n  useAuthGuard: jest.fn(),\r\n}));\r\n\r\njest.mock('expo-router', () => ({\r\n  useRouter: jest.fn(),\r\n  usePathname: jest.fn(() => '/login'),\r\n  Slot: ({ children }) => children || null,\r\n}));\r\n\r\njest.mock('@hooks', () => ({\r\n  useAuth: jest.fn(),\r\n  useI18n: () => ({\r\n    t: (key) => key,\r\n    locale: 'en',\r\n  }),\r\n  useUiState: () => ({ isLoading: false }),\r\n  useShellBanners: () => [],\r\n}));\r\n\r\njest.mock('@platform/components', () => ({\r\n  GlobalHeader: jest.fn(({ children, ...props }) => (\r\n    <div {...props}>{children || 'GlobalHeader'}</div>\r\n  )),\r\n  LoadingOverlay: jest.fn(({ children, ...props }) => (\r\n    <div {...props}>{children || 'LoadingOverlay'}</div>\r\n  )),\r\n  NoticeSurface: jest.fn(({ children, ...props }) => (\r\n    <div {...props}>{children || 'NoticeSurface'}</div>\r\n  )),\r\n  ShellBanners: jest.fn(({ children, ...props }) => (\r\n    <div {...props}>{children || 'ShellBanners'}</div>\r\n  )),\r\n}));\r\n\r\ndescribe('AuthLayout with Auth Guard', () => {\r\n  let mockRouter;\r\n\r\n  beforeEach(() => {\r\n    // Reset mocks\r\n    jest.clearAllMocks();\r\n\r\n    // Setup router mock\r\n    mockRouter = {\r\n      replace: jest.fn(),\r\n      push: jest.fn(),\r\n    };\r\n    useRouter.mockReturnValue(mockRouter);\r\n    usePathname.mockReturnValue('/login');\r\n\r\n    // Default: unauthenticated\r\n    useAuth.mockReturnValue({ isAuthenticated: false, logout: jest.fn(), roles: [] });\r\n    useAuthGuard.mockReturnValue({\r\n      authenticated: false,\r\n      user: null,\r\n    });\r\n  });\r\n\r\n  it('should render Slot for unauthenticated users', async () => {\r\n    useAuthGuard.mockReturnValue({\r\n      authenticated: false,\r\n      user: null,\r\n    });\r\n\r\n    const { getByTestId } = render(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      // Layout should render without redirecting\r\n      expect(mockRouter.replace).not.toHaveBeenCalled();\r\n    });\r\n  });\r\n\r\n  it('should redirect authenticated users to home route', async () => {\r\n    useAuthGuard.mockReturnValue({\r\n      authenticated: true,\r\n      user: { id: '1', email: 'test@example.com' },\r\n    });\r\n\r\n    render(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockRouter.replace).toHaveBeenCalledWith('/home');\r\n    });\r\n  });\r\n\r\n  it('should allow register route for authorized roles', async () => {\r\n    usePathname.mockReturnValue('/register');\r\n    useAuth.mockReturnValue({ isAuthenticated: true, logout: jest.fn(), roles: ['admin'] });\r\n    useAuthGuard.mockReturnValue({\r\n      authenticated: true,\r\n      user: { id: '1', email: 'test@example.com' },\r\n    });\r\n\r\n    render(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockRouter.replace).not.toHaveBeenCalled();\r\n    });\r\n  });\r\n\r\n  it('should redirect from register route without access', async () => {\r\n    usePathname.mockReturnValue('/register');\r\n    useAuth.mockReturnValue({ isAuthenticated: true, logout: jest.fn(), roles: [] });\r\n    useAuthGuard.mockReturnValue({\r\n      authenticated: true,\r\n      user: { id: '1', email: 'test@example.com' },\r\n    });\r\n\r\n    render(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockRouter.replace).toHaveBeenCalledWith('/home');\r\n    });\r\n  });\r\n\r\n  it('should only redirect once per authenticated state (idempotent)', async () => {\r\n    useAuthGuard.mockReturnValue({\r\n      authenticated: true,\r\n      user: { id: '1', email: 'test@example.com' },\r\n    });\r\n\r\n    const { rerender } = render(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockRouter.replace).toHaveBeenCalledTimes(1);\r\n      expect(mockRouter.replace).toHaveBeenCalledWith('/home');\r\n    });\r\n\r\n    // Rerender should not trigger another redirect\r\n    rerender(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockRouter.replace).toHaveBeenCalledTimes(1);\r\n    });\r\n  });\r\n\r\n  it('should handle transition from unauthenticated to authenticated', async () => {\r\n    let authenticated = false;\r\n\r\n    useAuthGuard.mockImplementation(() => ({\r\n      authenticated,\r\n      user: authenticated ? { id: '1', email: 'test@example.com' } : null,\r\n    }));\r\n\r\n    const { rerender } = render(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockRouter.replace).not.toHaveBeenCalled();\r\n    });\r\n\r\n    // Transition to authenticated\r\n    authenticated = true;\r\n    mockRouter.replace.mockClear();\r\n\r\n    rerender(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockRouter.replace).toHaveBeenCalledWith('/home');\r\n    });\r\n  });\r\n\r\n  it('should handle transition from authenticated to unauthenticated', async () => {\r\n    let authenticated = true;\r\n\r\n    useAuthGuard.mockImplementation(() => ({\r\n      authenticated,\r\n      user: authenticated ? { id: '1', email: 'test@example.com' } : null,\r\n    }));\r\n\r\n    const { rerender } = render(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockRouter.replace).toHaveBeenCalledWith('/home');\r\n    });\r\n\r\n    // Transition to unauthenticated\r\n    authenticated = false;\r\n    mockRouter.replace.mockClear();\r\n\r\n    rerender(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      // Should not redirect when unauthenticated\r\n      expect(mockRouter.replace).not.toHaveBeenCalled();\r\n    });\r\n  });\r\n\r\n  it('should reset redirect flag when transitioning from authenticated to unauthenticated', async () => {\r\n    let authenticated = true;\r\n\r\n    useAuthGuard.mockImplementation(() => ({\r\n      authenticated,\r\n      user: authenticated ? { id: '1', email: 'test@example.com' } : null,\r\n    }));\r\n\r\n    const { rerender } = render(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockRouter.replace).toHaveBeenCalledWith('/home');\r\n    });\r\n\r\n    // Transition to unauthenticated\r\n    authenticated = false;\r\n    mockRouter.replace.mockClear();\r\n\r\n    rerender(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockRouter.replace).not.toHaveBeenCalled();\r\n    });\r\n\r\n    // Transition back to authenticated (should redirect again)\r\n    authenticated = true;\r\n\r\n    rerender(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockRouter.replace).toHaveBeenCalledWith('/home');\r\n    });\r\n  });\r\n\r\n  it('should call useAuthGuard hook', () => {\r\n    render(<AuthLayout />);\r\n\r\n    expect(useAuthGuard).toHaveBeenCalled();\r\n  });\r\n\r\n  it('should pass login action when unauthenticated', () => {\r\n    render(<AuthLayout />);\r\n    const GlobalHeader = require('@platform/components').GlobalHeader;\r\n    const headerCall = GlobalHeader.mock.calls[0];\r\n    const actionIds = headerCall[0].actions.map((action) => action.id);\r\n    expect(actionIds).toContain('login');\r\n    expect(actionIds).not.toContain('logout');\r\n  });\r\n\r\n  it('should pass logout action when authenticated', () => {\r\n    useAuth.mockReturnValue({ isAuthenticated: true, logout: jest.fn(), roles: ['admin'] });\r\n    useAuthGuard.mockReturnValue({\r\n      authenticated: true,\r\n      user: { id: '1', email: 'test@example.com' },\r\n    });\r\n    render(<AuthLayout />);\r\n    const GlobalHeader = require('@platform/components').GlobalHeader;\r\n    const headerCall = GlobalHeader.mock.calls[0];\r\n    const actionIds = headerCall[0].actions.map((action) => action.id);\r\n    expect(actionIds).toContain('logout');\r\n    expect(actionIds).not.toContain('login');\r\n    expect(actionIds).not.toContain('register');\r\n  });\r\n\r\n  it('should call useRouter hook', () => {\r\n    render(<AuthLayout />);\r\n\r\n    expect(useRouter).toHaveBeenCalled();\r\n  });\r\n\r\n  it('should handle router errors gracefully', () => {\r\n    useAuthGuard.mockReturnValue({\r\n      authenticated: true,\r\n      user: { id: '1', email: 'test@example.com' },\r\n    });\r\n\r\n    mockRouter.replace.mockImplementation(() => {\r\n      throw new Error('Router error');\r\n    });\r\n\r\n    // Should throw error (router error propagates)\r\n    expect(() => {\r\n      render(<AuthLayout />);\r\n    }).toThrow('Router error');\r\n  });\r\n\r\n  it('should handle useAuthGuard returning undefined authenticated', async () => {\r\n    useAuthGuard.mockReturnValue({\r\n      authenticated: undefined,\r\n      user: null,\r\n    });\r\n\r\n    render(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      // Should not redirect if authenticated is undefined/falsy\r\n      expect(mockRouter.replace).not.toHaveBeenCalled();\r\n    });\r\n  });\r\n\r\n  it('should handle useAuthGuard returning null user for authenticated state', async () => {\r\n    useAuthGuard.mockReturnValue({\r\n      authenticated: true,\r\n      user: null,\r\n    });\r\n\r\n    render(<AuthLayout />);\r\n\r\n    await waitFor(() => {\r\n      // Should still redirect if authenticated is true, even if user is null\r\n      expect(mockRouter.replace).toHaveBeenCalledWith('/home');\r\n    });\r\n  });\r\n});\r\n\r\n"],"mappings":"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","ignoreList":[]}