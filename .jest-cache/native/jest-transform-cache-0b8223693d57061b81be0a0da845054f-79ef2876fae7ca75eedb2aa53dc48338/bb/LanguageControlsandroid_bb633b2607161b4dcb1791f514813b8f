d335443e51d22cce168cabd103c3343e
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _hooks = require("../../../../hooks");
var _useLanguageControls2 = _interopRequireDefault(require("./useLanguageControls"));
var _types = require("./types");
var _LanguageControlsAndroid = require("./LanguageControls.android.styles");
var _jsxRuntime = require("react/jsx-runtime");
var LanguageControlsAndroid = function LanguageControlsAndroid(_ref) {
  var testID = _ref.testID,
    accessibilityLabel = _ref.accessibilityLabel,
    accessibilityHint = _ref.accessibilityHint;
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var _useLanguageControls = (0, _useLanguageControls2.default)(),
    locale = _useLanguageControls.locale,
    options = _useLanguageControls.options,
    setLocale = _useLanguageControls.setLocale;
  var _useState = (0, _react.useState)(false),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    visible = _useState2[0],
    setVisible = _useState2[1];
  var resolvedLabel = accessibilityLabel || t('settings.language.accessibilityLabel');
  var resolvedHint = accessibilityHint || t('settings.language.hint');
  var currentFlag = _types.LOCALE_FLAGS[locale] || 'üåê';
  var close = (0, _react.useCallback)(function () {
    return setVisible(false);
  }, []);
  return (0, _jsxRuntime.jsxs)(_LanguageControlsAndroid.StyledLanguageControls, {
    testID: testID,
    children: [(0, _jsxRuntime.jsx)(_LanguageControlsAndroid.StyledFlagTrigger, {
      onPress: function onPress() {
        return setVisible(true);
      },
      accessibilityRole: "button",
      accessibilityLabel: resolvedLabel,
      accessibilityHint: resolvedHint,
      children: (0, _jsxRuntime.jsx)(_reactNative.Text, {
        style: {
          fontSize: 18
        },
        children: currentFlag
      })
    }), (0, _jsxRuntime.jsx)(_reactNative.Modal, {
      visible: visible,
      transparent: true,
      animationType: "fade",
      children: (0, _jsxRuntime.jsxs)(_reactNative.View, {
        style: {
          flex: 1
        },
        children: [(0, _jsxRuntime.jsx)(_LanguageControlsAndroid.StyledModalOverlay, {
          onPress: close,
          style: {
            position: 'absolute',
            top: 0,
            left: 0,
            right: 0,
            bottom: 0
          }
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: {
            flex: 1,
            justifyContent: 'center',
            padding: 24,
            pointerEvents: 'box-none'
          },
          children: (0, _jsxRuntime.jsx)(_LanguageControlsAndroid.StyledModalContent, {
            children: options.map(function (opt) {
              return (0, _jsxRuntime.jsxs)(_LanguageControlsAndroid.StyledLanguageItem, {
                onPress: function onPress() {
                  setLocale(opt.value);
                  close();
                },
                children: [(0, _jsxRuntime.jsx)(_LanguageControlsAndroid.StyledLanguageItemFlag, {
                  children: _types.LOCALE_FLAGS[opt.value] || 'üåê'
                }), (0, _jsxRuntime.jsx)(_reactNative.Text, {
                  children: opt.label
                })]
              }, opt.value);
            })
          })
        })]
      })
    })]
  });
};
var _default = exports.default = LanguageControlsAndroid;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVhY3ROYXRpdmUiLCJfaG9va3MiLCJfdXNlTGFuZ3VhZ2VDb250cm9sczIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX3R5cGVzIiwiX0xhbmd1YWdlQ29udHJvbHNBbmRyb2lkIiwiX2pzeFJ1bnRpbWUiLCJMYW5ndWFnZUNvbnRyb2xzQW5kcm9pZCIsIl9yZWYiLCJ0ZXN0SUQiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJhY2Nlc3NpYmlsaXR5SGludCIsIl91c2VJMThuIiwidXNlSTE4biIsInQiLCJfdXNlTGFuZ3VhZ2VDb250cm9scyIsInVzZUxhbmd1YWdlQ29udHJvbHMiLCJsb2NhbGUiLCJvcHRpb25zIiwic2V0TG9jYWxlIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwiZGVmYXVsdCIsInZpc2libGUiLCJzZXRWaXNpYmxlIiwicmVzb2x2ZWRMYWJlbCIsInJlc29sdmVkSGludCIsImN1cnJlbnRGbGFnIiwiTE9DQUxFX0ZMQUdTIiwiY2xvc2UiLCJ1c2VDYWxsYmFjayIsImpzeHMiLCJTdHlsZWRMYW5ndWFnZUNvbnRyb2xzIiwiY2hpbGRyZW4iLCJqc3giLCJTdHlsZWRGbGFnVHJpZ2dlciIsIm9uUHJlc3MiLCJhY2Nlc3NpYmlsaXR5Um9sZSIsIlRleHQiLCJzdHlsZSIsImZvbnRTaXplIiwiTW9kYWwiLCJ0cmFuc3BhcmVudCIsImFuaW1hdGlvblR5cGUiLCJWaWV3IiwiZmxleCIsIlN0eWxlZE1vZGFsT3ZlcmxheSIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInJpZ2h0IiwiYm90dG9tIiwianVzdGlmeUNvbnRlbnQiLCJwYWRkaW5nIiwicG9pbnRlckV2ZW50cyIsIlN0eWxlZE1vZGFsQ29udGVudCIsIm1hcCIsIm9wdCIsIlN0eWxlZExhbmd1YWdlSXRlbSIsInZhbHVlIiwiU3R5bGVkTGFuZ3VhZ2VJdGVtRmxhZyIsImxhYmVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiTGFuZ3VhZ2VDb250cm9scy5hbmRyb2lkLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTGFuZ3VhZ2VDb250cm9scyBDb21wb25lbnQgLSBBbmRyb2lkXHJcbiAqIEZsYWcgYnV0dG9uIHRoYXQgb3BlbnMgbGFuZ3VhZ2UgbGlzdFxyXG4gKi9cclxuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgTW9kYWwsIFRleHQsIFZpZXcgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xyXG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAnQGhvb2tzJztcclxuaW1wb3J0IHVzZUxhbmd1YWdlQ29udHJvbHMgZnJvbSAnLi91c2VMYW5ndWFnZUNvbnRyb2xzJztcclxuaW1wb3J0IHsgTE9DQUxFX0ZMQUdTIH0gZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCB7XHJcbiAgU3R5bGVkTGFuZ3VhZ2VDb250cm9scyxcclxuICBTdHlsZWRGbGFnVHJpZ2dlcixcclxuICBTdHlsZWRMYW5ndWFnZUl0ZW0sXHJcbiAgU3R5bGVkTGFuZ3VhZ2VJdGVtRmxhZyxcclxuICBTdHlsZWRNb2RhbE92ZXJsYXksXHJcbiAgU3R5bGVkTW9kYWxDb250ZW50LFxyXG59IGZyb20gJy4vTGFuZ3VhZ2VDb250cm9scy5hbmRyb2lkLnN0eWxlcyc7XHJcblxyXG5jb25zdCBMYW5ndWFnZUNvbnRyb2xzQW5kcm9pZCA9ICh7IHRlc3RJRCwgYWNjZXNzaWJpbGl0eUxhYmVsLCBhY2Nlc3NpYmlsaXR5SGludCB9KSA9PiB7XHJcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XHJcbiAgY29uc3QgeyBsb2NhbGUsIG9wdGlvbnMsIHNldExvY2FsZSB9ID0gdXNlTGFuZ3VhZ2VDb250cm9scygpO1xyXG4gIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgY29uc3QgcmVzb2x2ZWRMYWJlbCA9IGFjY2Vzc2liaWxpdHlMYWJlbCB8fCB0KCdzZXR0aW5ncy5sYW5ndWFnZS5hY2Nlc3NpYmlsaXR5TGFiZWwnKTtcclxuICBjb25zdCByZXNvbHZlZEhpbnQgPSBhY2Nlc3NpYmlsaXR5SGludCB8fCB0KCdzZXR0aW5ncy5sYW5ndWFnZS5oaW50Jyk7XHJcbiAgY29uc3QgY3VycmVudEZsYWcgPSBMT0NBTEVfRkxBR1NbbG9jYWxlXSB8fCAn8J+MkCc7XHJcblxyXG4gIGNvbnN0IGNsb3NlID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0VmlzaWJsZShmYWxzZSksIFtdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxTdHlsZWRMYW5ndWFnZUNvbnRyb2xzIHRlc3RJRD17dGVzdElEfT5cclxuICAgICAgPFN0eWxlZEZsYWdUcmlnZ2VyXHJcbiAgICAgICAgb25QcmVzcz17KCkgPT4gc2V0VmlzaWJsZSh0cnVlKX1cclxuICAgICAgICBhY2Nlc3NpYmlsaXR5Um9sZT1cImJ1dHRvblwiXHJcbiAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXtyZXNvbHZlZExhYmVsfVxyXG4gICAgICAgIGFjY2Vzc2liaWxpdHlIaW50PXtyZXNvbHZlZEhpbnR9XHJcbiAgICAgID5cclxuICAgICAgICA8VGV4dCBzdHlsZT17eyBmb250U2l6ZTogMTggfX0+e2N1cnJlbnRGbGFnfTwvVGV4dD5cclxuICAgICAgPC9TdHlsZWRGbGFnVHJpZ2dlcj5cclxuICAgICAgPE1vZGFsIHZpc2libGU9e3Zpc2libGV9IHRyYW5zcGFyZW50IGFuaW1hdGlvblR5cGU9XCJmYWRlXCI+XHJcbiAgICAgICAgPFZpZXcgc3R5bGU9e3sgZmxleDogMSB9fT5cclxuICAgICAgICAgIDxTdHlsZWRNb2RhbE92ZXJsYXkgb25QcmVzcz17Y2xvc2V9IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAgfX0gLz5cclxuICAgICAgICAgIDxWaWV3IHN0eWxlPXt7IGZsZXg6IDEsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywgcGFkZGluZzogMjQsIHBvaW50ZXJFdmVudHM6ICdib3gtbm9uZScgfX0+XHJcbiAgICAgICAgICAgIDxTdHlsZWRNb2RhbENvbnRlbnQ+XHJcbiAgICAgICAgICAgICAge29wdGlvbnMubWFwKChvcHQpID0+IChcclxuICAgICAgICAgICAgICAgIDxTdHlsZWRMYW5ndWFnZUl0ZW1cclxuICAgICAgICAgICAgICAgICAga2V5PXtvcHQudmFsdWV9XHJcbiAgICAgICAgICAgICAgICAgIG9uUHJlc3M9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRMb2NhbGUob3B0LnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBjbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8U3R5bGVkTGFuZ3VhZ2VJdGVtRmxhZz57TE9DQUxFX0ZMQUdTW29wdC52YWx1ZV0gfHwgJ/CfjJAnfTwvU3R5bGVkTGFuZ3VhZ2VJdGVtRmxhZz5cclxuICAgICAgICAgICAgICAgICAgPFRleHQ+e29wdC5sYWJlbH08L1RleHQ+XHJcbiAgICAgICAgICAgICAgICA8L1N0eWxlZExhbmd1YWdlSXRlbT5cclxuICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgPC9TdHlsZWRNb2RhbENvbnRlbnQ+XHJcbiAgICAgICAgICA8L1ZpZXc+XHJcbiAgICAgICAgPC9WaWV3PlxyXG4gICAgICA8L01vZGFsPlxyXG4gICAgPC9TdHlsZWRMYW5ndWFnZUNvbnRyb2xzPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBMYW5ndWFnZUNvbnRyb2xzQW5kcm9pZDtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBSUEsSUFBQUEsTUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0Es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