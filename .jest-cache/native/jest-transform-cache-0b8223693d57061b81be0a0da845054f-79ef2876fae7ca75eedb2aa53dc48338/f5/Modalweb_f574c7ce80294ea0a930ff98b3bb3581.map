{"version":3,"names":["_react","_interopRequireWildcard","require","_ModalWeb","_useModal2","_interopRequireDefault","_hooks","_types","_jsxRuntime","ModalWeb","_ref","_ref$visible","visible","onDismiss","_ref$size","size","SIZES","MEDIUM","_ref$showCloseButton","showCloseButton","_ref$dismissOnBackdro","dismissOnBackdrop","children","accessibilityLabel","accessibilityHint","testID","className","_useI18n","useI18n","t","_useModal","useModal","handleBackdropPress","modalRef","useRef","useEffect","document","handleEscape","e","key","handleTab","current","querySelectorAll","focusableElements","firstElement","lastElement","length","shiftKey","activeElement","preventDefault","focus","addEventListener","querySelector","firstFocusable","body","style","overflow","removeEventListener","jsx","StyledBackdrop","onClick","role","undefined","jsxs","StyledModalContainer","ref","stopPropagation","StyledCloseButton","onPress","type","StyledDescription","id","StyledContent","_default","exports","default"],"sources":["Modal.web.jsx"],"sourcesContent":["/**\r\n * Modal Component - Web\r\n * Modal dialog component for Web platform\r\n * File: Modal.web.jsx\r\n */\r\n\r\nimport React, { useEffect, useRef } from 'react';\r\nimport { StyledBackdrop, StyledModalContainer, StyledCloseButton, StyledContent, StyledDescription } from './Modal.web.styles';\r\nimport useModal from './useModal';\r\nimport { useI18n } from '@hooks';\r\nimport { SIZES } from './types';\r\n\r\n/**\r\n * Modal component for Web\r\n * @param {Object} props - Modal props\r\n * @param {boolean} props.visible - Modal visibility\r\n * @param {Function} props.onDismiss - Dismiss handler\r\n * @param {string} props.size - Modal size (small, medium, large, fullscreen)\r\n * @param {boolean} props.showCloseButton - Show close button\r\n * @param {boolean} props.dismissOnBackdrop - Dismiss on backdrop press\r\n * @param {React.ReactNode} props.children - Modal content\r\n * @param {string} props.accessibilityLabel - Accessibility label\r\n * @param {string} props.accessibilityHint - Accessibility hint\r\n * @param {string} props.testID - Test identifier\r\n * @param {string} props.className - Additional CSS class\r\n */\r\nconst ModalWeb = ({\r\n  visible = false,\r\n  onDismiss,\r\n  size = SIZES.MEDIUM,\r\n  showCloseButton = true,\r\n  dismissOnBackdrop = true,\r\n  children,\r\n  accessibilityLabel,\r\n  accessibilityHint,\r\n  testID,\r\n  className,\r\n}) => {\r\n  const { t } = useI18n();\r\n  const { handleBackdropPress } = useModal({\r\n    visible,\r\n    onDismiss,\r\n    dismissOnBackdrop,\r\n  });\r\n\r\n  const modalRef = useRef(null);\r\n\r\n  // Focus trap and ESC key handling\r\n  useEffect(() => {\r\n    if (!visible) return;\r\n    \r\n    // Guard for non-web environments (e.g., tests)\r\n    if (typeof document === 'undefined') return;\r\n\r\n    const handleEscape = (e) => {\r\n      if (e.key === 'Escape' && onDismiss) {\r\n        onDismiss();\r\n      }\r\n    };\r\n\r\n    const handleTab = (e) => {\r\n      if (!modalRef.current || typeof modalRef.current.querySelectorAll !== 'function') return;\r\n\r\n      const focusableElements = modalRef.current.querySelectorAll(\r\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n      );\r\n      const firstElement = focusableElements[0];\r\n      const lastElement = focusableElements[focusableElements.length - 1];\r\n\r\n      if (e.shiftKey) {\r\n        if (document.activeElement === firstElement) {\r\n          e.preventDefault();\r\n          lastElement?.focus();\r\n        }\r\n      } else {\r\n        if (document.activeElement === lastElement) {\r\n          e.preventDefault();\r\n          firstElement?.focus();\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleEscape);\r\n    document.addEventListener('keydown', handleTab);\r\n\r\n    // Focus first element\r\n    if (modalRef.current && typeof modalRef.current.querySelector === 'function') {\r\n      const firstFocusable = modalRef.current.querySelector(\r\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n      );\r\n      firstFocusable?.focus();\r\n    }\r\n\r\n    // Prevent body scroll\r\n    document.body.style.overflow = 'hidden';\r\n\r\n    return () => {\r\n      if (typeof document !== 'undefined') {\r\n        document.removeEventListener('keydown', handleEscape);\r\n        document.removeEventListener('keydown', handleTab);\r\n        document.body.style.overflow = '';\r\n      }\r\n    };\r\n  }, [visible, onDismiss]);\r\n\r\n  if (!visible) return null;\r\n\r\n  return (\r\n    <StyledBackdrop\r\n      onClick={handleBackdropPress}\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      aria-label={accessibilityLabel}\r\n      aria-describedby={accessibilityHint && testID ? `${testID}-description` : undefined}\r\n      data-testid={testID}\r\n      testID={testID}\r\n      className={className}\r\n    >\r\n      <StyledModalContainer\r\n        size={size}\r\n        ref={modalRef}\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {showCloseButton && onDismiss && (\r\n          <StyledCloseButton\r\n            onClick={onDismiss}\r\n            onPress={onDismiss}\r\n            aria-label={t('common.close')}\r\n            type=\"button\"\r\n            data-testid={testID ? `${testID}-close` : undefined}\r\n            testID={testID ? `${testID}-close` : undefined}\r\n          >\r\n            Ã—\r\n          </StyledCloseButton>\r\n        )}\r\n        {accessibilityHint && testID && (\r\n          <StyledDescription id={`${testID}-description`}>\r\n            {accessibilityHint}\r\n          </StyledDescription>\r\n        )}\r\n        <StyledContent>\r\n          {children}\r\n        </StyledContent>\r\n      </StyledModalContainer>\r\n    </StyledBackdrop>\r\n  );\r\n};\r\n\r\nexport default ModalWeb;\r\n\r\n"],"mappings":"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","ignoreList":[]}