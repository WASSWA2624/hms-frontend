4ffce7fb7b984244858aef60f4b26266
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _react = _interopRequireDefault(require("react"));
var _reactRedux = require("react-redux");
var _toolkit = require("@reduxjs/toolkit");
var _reactNative = require("@testing-library/react-native");
var _rootReducer = _interopRequireDefault(require("../../store/rootReducer"));
var _useNavigationVisibility = _interopRequireDefault(require("../../hooks/useNavigationVisibility"));
var _jsxRuntime = require("react/jsx-runtime");
var TestComponent = function TestComponent(_ref) {
  var onResult = _ref.onResult;
  var result = (0, _useNavigationVisibility.default)();
  _react.default.useEffect(function () {
    onResult(result);
  }, [onResult, result]);
  return null;
};
var createStore = function createStore() {
  var preloadedState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return (0, _toolkit.configureStore)({
    reducer: _rootReducer.default,
    preloadedState: Object.assign({
      ui: {
        theme: 'light',
        locale: 'en',
        isLoading: false
      },
      network: {
        isOnline: true
      },
      auth: {
        isAuthenticated: false,
        user: null
      }
    }, preloadedState)
  });
};
describe('useNavigationVisibility', function () {
  it('returns isItemVisible that is true when authenticated and item is truthy', function () {
    var store = createStore({
      auth: {
        isAuthenticated: true,
        user: {}
      }
    });
    var result;
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
      store: store,
      children: (0, _jsxRuntime.jsx)(TestComponent, {
        onResult: function onResult(value) {
          return result = value;
        }
      })
    }));
    expect(result.isItemVisible({
      id: 'home'
    })).toBe(true);
  });
  it('returns isItemVisible that is false when not authenticated', function () {
    var store = createStore({
      auth: {
        isAuthenticated: false,
        user: null
      }
    });
    var result;
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
      store: store,
      children: (0, _jsxRuntime.jsx)(TestComponent, {
        onResult: function onResult(value) {
          return result = value;
        }
      })
    }));
    expect(result.isItemVisible({
      id: 'home'
    })).toBe(false);
  });
  it('returns isItemVisible that is false when item is falsy', function () {
    var store = createStore({
      auth: {
        isAuthenticated: true,
        user: {}
      }
    });
    var result;
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
      store: store,
      children: (0, _jsxRuntime.jsx)(TestComponent, {
        onResult: function onResult(value) {
          return result = value;
        }
      })
    }));
    expect(result.isItemVisible(null)).toBe(false);
    expect(result.isItemVisible(undefined)).toBe(false);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdFJlZHV4IiwiX3Rvb2xraXQiLCJfcmVhY3ROYXRpdmUiLCJfcm9vdFJlZHVjZXIiLCJfdXNlTmF2aWdhdGlvblZpc2liaWxpdHkiLCJfanN4UnVudGltZSIsIlRlc3RDb21wb25lbnQiLCJfcmVmIiwib25SZXN1bHQiLCJyZXN1bHQiLCJ1c2VOYXZpZ2F0aW9uVmlzaWJpbGl0eSIsIlJlYWN0IiwidXNlRWZmZWN0IiwiY3JlYXRlU3RvcmUiLCJwcmVsb2FkZWRTdGF0ZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImNvbmZpZ3VyZVN0b3JlIiwicmVkdWNlciIsInJvb3RSZWR1Y2VyIiwiT2JqZWN0IiwiYXNzaWduIiwidWkiLCJ0aGVtZSIsImxvY2FsZSIsImlzTG9hZGluZyIsIm5ldHdvcmsiLCJpc09ubGluZSIsImF1dGgiLCJpc0F1dGhlbnRpY2F0ZWQiLCJ1c2VyIiwiZGVzY3JpYmUiLCJpdCIsInN0b3JlIiwicmVuZGVyIiwianN4IiwiUHJvdmlkZXIiLCJjaGlsZHJlbiIsInZhbHVlIiwiZXhwZWN0IiwiaXNJdGVtVmlzaWJsZSIsImlkIiwidG9CZSJdLCJzb3VyY2VzIjpbInVzZU5hdmlnYXRpb25WaXNpYmlsaXR5LnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIHVzZU5hdmlnYXRpb25WaXNpYmlsaXR5IEhvb2sgVGVzdHNcclxuICogRmlsZTogdXNlTmF2aWdhdGlvblZpc2liaWxpdHkudGVzdC5qc1xyXG4gKi9cclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCB7IGNvbmZpZ3VyZVN0b3JlIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XHJcbmltcG9ydCB7IHJlbmRlciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IHJvb3RSZWR1Y2VyIGZyb20gJ0BzdG9yZS9yb290UmVkdWNlcic7XHJcbmltcG9ydCB1c2VOYXZpZ2F0aW9uVmlzaWJpbGl0eSBmcm9tICdAaG9va3MvdXNlTmF2aWdhdGlvblZpc2liaWxpdHknO1xyXG5cclxuY29uc3QgVGVzdENvbXBvbmVudCA9ICh7IG9uUmVzdWx0IH0pID0+IHtcclxuICBjb25zdCByZXN1bHQgPSB1c2VOYXZpZ2F0aW9uVmlzaWJpbGl0eSgpO1xyXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBvblJlc3VsdChyZXN1bHQpO1xyXG4gIH0sIFtvblJlc3VsdCwgcmVzdWx0XSk7XHJcbiAgcmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVTdG9yZSA9IChwcmVsb2FkZWRTdGF0ZSA9IHt9KSA9PlxyXG4gIGNvbmZpZ3VyZVN0b3JlKHtcclxuICAgIHJlZHVjZXI6IHJvb3RSZWR1Y2VyLFxyXG4gICAgcHJlbG9hZGVkU3RhdGU6IHtcclxuICAgICAgdWk6IHsgdGhlbWU6ICdsaWdodCcsIGxvY2FsZTogJ2VuJywgaXNMb2FkaW5nOiBmYWxzZSB9LFxyXG4gICAgICBuZXR3b3JrOiB7IGlzT25saW5lOiB0cnVlIH0sXHJcbiAgICAgIGF1dGg6IHsgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSwgdXNlcjogbnVsbCB9LFxyXG4gICAgICAuLi5wcmVsb2FkZWRTdGF0ZSxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG5kZXNjcmliZSgndXNlTmF2aWdhdGlvblZpc2liaWxpdHknLCAoKSA9PiB7XHJcbiAgaXQoJ3JldHVybnMgaXNJdGVtVmlzaWJsZSB0aGF0IGlzIHRydWUgd2hlbiBhdXRoZW50aWNhdGVkIGFuZCBpdGVtIGlzIHRydXRoeScsICgpID0+IHtcclxuICAgIGNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoe1xyXG4gICAgICBhdXRoOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjoge30gfSxcclxuICAgIH0pO1xyXG4gICAgbGV0IHJlc3VsdDtcclxuICAgIHJlbmRlcihcclxuICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XHJcbiAgICAgICAgPFRlc3RDb21wb25lbnQgb25SZXN1bHQ9eyh2YWx1ZSkgPT4gKHJlc3VsdCA9IHZhbHVlKX0gLz5cclxuICAgICAgPC9Qcm92aWRlcj5cclxuICAgICk7XHJcbiAgICBleHBlY3QocmVzdWx0LmlzSXRlbVZpc2libGUoeyBpZDogJ2hvbWUnIH0pKS50b0JlKHRydWUpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgncmV0dXJucyBpc0l0ZW1WaXNpYmxlIHRoYXQgaXMgZmFsc2Ugd2hlbiBub3QgYXV0aGVudGljYXRlZCcsICgpID0+IHtcclxuICAgIGNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoeyBhdXRoOiB7IGlzQXV0aGVudGljYXRlZDogZmFsc2UsIHVzZXI6IG51bGwgfSB9KTtcclxuICAgIGxldCByZXN1bHQ7XHJcbiAgICByZW5kZXIoXHJcbiAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxyXG4gICAgICAgIDxUZXN0Q29tcG9uZW50IG9uUmVzdWx0PXsodmFsdWUpID0+IChyZXN1bHQgPSB2YWx1ZSl9IC8+XHJcbiAgICAgIDwvUHJvdmlkZXI+XHJcbiAgICApO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5pc0l0ZW1WaXNpYmxlKHsgaWQ6ICdob21lJyB9KSkudG9CZShmYWxzZSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdyZXR1cm5zIGlzSXRlbVZpc2libGUgdGhhdCBpcyBmYWxzZSB3aGVuIGl0ZW0gaXMgZmFsc3knLCAoKSA9PiB7XHJcbiAgICBjb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKHtcclxuICAgICAgYXV0aDogeyBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsIHVzZXI6IHt9IH0sXHJcbiAgICB9KTtcclxuICAgIGxldCByZXN1bHQ7XHJcbiAgICByZW5kZXIoXHJcbiAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxyXG4gICAgICAgIDxUZXN0Q29tcG9uZW50IG9uUmVzdWx0PXsodmFsdWUpID0+IChyZXN1bHQgPSB2YWx1ZSl9IC8+XHJcbiAgICAgIDwvUHJvdmlkZXI+XHJcbiAgICApO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5pc0l0ZW1WaXNpYmxlKG51bGwpKS50b0JlKGZhbHNlKTtcclxuICAgIGV4cGVjdChyZXN1bHQuaXNJdGVtVmlzaWJsZSh1bmRlZmluZWQpKS50b0JlKGZhbHNlKTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6IjtBQUlBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFdBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLFlBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLFlBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLHdCQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFBcUUsSUFBQU0sV0FBQSxHQUFBTixPQUFBO0FBRXJFLElBQU1PLGFBQWEsR0FBRyxTQUFoQkEsYUFBYUEsQ0FBQUMsSUFBQSxFQUFxQjtFQUFBLElBQWZDLFFBQVEsR0FBQUQsSUFBQSxDQUFSQyxRQUFRO0VBQy9CLElBQU1DLE1BQU0sR0FBRyxJQUFBQyxnQ0FBdUIsRUFBQyxDQUFDO0VBQ3hDQyxjQUFLLENBQUNDLFNBQVMsQ0FBQyxZQUFNO0lBQ3BCSixRQUFRLENBQUNDLE1BQU0sQ0FBQztFQUNsQixDQUFDLEVBQUUsQ0FBQ0QsUUFBUSxFQUFFQyxNQUFNLENBQUMsQ0FBQztFQUN0QixPQUFPLElBQUk7QUFDYixDQUFDO0FBRUQsSUFBTUksV0FBVyxHQUFHLFNBQWRBLFdBQVdBLENBQUE7RUFBQSxJQUFJQyxjQUFjLEdBQUFDLFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLENBQUMsQ0FBQztFQUFBLE9BQ3RDLElBQUFHLHVCQUFjLEVBQUM7SUFDYkMsT0FBTyxFQUFFQyxvQkFBVztJQUNwQk4sY0FBYyxFQUFBTyxNQUFBLENBQUFDLE1BQUE7TUFDWkMsRUFBRSxFQUFFO1FBQUVDLEtBQUssRUFBRSxPQUFPO1FBQUVDLE1BQU0sRUFBRSxJQUFJO1FBQUVDLFNBQVMsRUFBRTtNQUFNLENBQUM7TUFDdERDLE9BQU8sRUFBRTtRQUFFQyxRQUFRLEVBQUU7TUFBSyxDQUFDO01BQzNCQyxJQUFJLEVBQUU7UUFBRUMsZUFBZSxFQUFFLEtBQUs7UUFBRUMsSUFBSSxFQUFFO01BQUs7SUFBQyxHQUN6Q2pCLGNBQWM7RUFFckIsQ0FBQyxDQUFDO0FBQUE7QUFFSmtCLFFBQVEsQ0FBQyx5QkFBeUIsRUFBRSxZQUFNO0VBQ3hDQyxFQUFFLENBQUMsMEVBQTBFLEVBQUUsWUFBTTtJQUNuRixJQUFNQyxLQUFLLEdBQUdyQixXQUFXLENBQUM7TUFDeEJnQixJQUFJLEVBQUU7UUFBRUMsZUFBZSxFQUFFLElBQUk7UUFBRUMsSUFBSSxFQUFFLENBQUM7TUFBRTtJQUMxQyxDQUFDLENBQUM7SUFDRixJQUFJdEIsTUFBTTtJQUNWLElBQUEwQixtQkFBTSxFQUNKLElBQUE5QixXQUFBLENBQUErQixHQUFBLEVBQUNwQyxXQUFBLENBQUFxQyxRQUFRO01BQUNILEtBQUssRUFBRUEsS0FBTTtNQUFBSSxRQUFBLEVBQ3JCLElBQUFqQyxXQUFBLENBQUErQixHQUFBLEVBQUM5QixhQUFhO1FBQUNFLFFBQVEsRUFBRSxTQUFWQSxRQUFRQSxDQUFHK0IsS0FBSztVQUFBLE9BQU05QixNQUFNLEdBQUc4QixLQUFLO1FBQUE7TUFBRSxDQUFFO0lBQUMsQ0FDaEQsQ0FDWixDQUFDO0lBQ0RDLE1BQU0sQ0FBQy9CLE1BQU0sQ0FBQ2dDLGFBQWEsQ0FBQztNQUFFQyxFQUFFLEVBQUU7SUFBTyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDO0VBQ3pELENBQUMsQ0FBQztFQUVGVixFQUFFLENBQUMsNERBQTRELEVBQUUsWUFBTTtJQUNyRSxJQUFNQyxLQUFLLEdBQUdyQixXQUFXLENBQUM7TUFBRWdCLElBQUksRUFBRTtRQUFFQyxlQUFlLEVBQUUsS0FBSztRQUFFQyxJQUFJLEVBQUU7TUFBSztJQUFFLENBQUMsQ0FBQztJQUMzRSxJQUFJdEIsTUFBTTtJQUNWLElBQUEwQixtQkFBTSxFQUNKLElBQUE5QixXQUFBLENBQUErQixHQUFBLEVBQUNwQyxXQUFBLENBQUFxQyxRQUFRO01BQUNILEtBQUssRUFBRUEsS0FBTTtNQUFBSSxRQUFBLEVBQ3JCLElBQUFqQyxXQUFBLENBQUErQixHQUFBLEVBQUM5QixhQUFhO1FBQUNFLFFBQVEsRUFBRSxTQUFWQSxRQUFRQSxDQUFHK0IsS0FBSztVQUFBLE9BQU05QixNQUFNLEdBQUc4QixLQUFLO1FBQUE7TUFBRSxDQUFFO0lBQUMsQ0FDaEQsQ0FDWixDQUFDO0lBQ0RDLE1BQU0sQ0FBQy9CLE1BQU0sQ0FBQ2dDLGFBQWEsQ0FBQztNQUFFQyxFQUFFLEVBQUU7SUFBTyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUMsS0FBSyxDQUFDO0VBQzFELENBQUMsQ0FBQztFQUVGVixFQUFFLENBQUMsd0RBQXdELEVBQUUsWUFBTTtJQUNqRSxJQUFNQyxLQUFLLEdBQUdyQixXQUFXLENBQUM7TUFDeEJnQixJQUFJLEVBQUU7UUFBRUMsZUFBZSxFQUFFLElBQUk7UUFBRUMsSUFBSSxFQUFFLENBQUM7TUFBRTtJQUMxQyxDQUFDLENBQUM7SUFDRixJQUFJdEIsTUFBTTtJQUNWLElBQUEwQixtQkFBTSxFQUNKLElBQUE5QixXQUFBLENBQUErQixHQUFBLEVBQUNwQyxXQUFBLENBQUFxQyxRQUFRO01BQUNILEtBQUssRUFBRUEsS0FBTTtNQUFBSSxRQUFBLEVBQ3JCLElBQUFqQyxXQUFBLENBQUErQixHQUFBLEVBQUM5QixhQUFhO1FBQUNFLFFBQVEsRUFBRSxTQUFWQSxRQUFRQSxDQUFHK0IsS0FBSztVQUFBLE9BQU05QixNQUFNLEdBQUc4QixLQUFLO1FBQUE7TUFBRSxDQUFFO0lBQUMsQ0FDaEQsQ0FDWixDQUFDO0lBQ0RDLE1BQU0sQ0FBQy9CLE1BQU0sQ0FBQ2dDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDRSxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQzlDSCxNQUFNLENBQUMvQixNQUFNLENBQUNnQyxhQUFhLENBQUN4QixTQUFTLENBQUMsQ0FBQyxDQUFDMEIsSUFBSSxDQUFDLEtBQUssQ0FBQztFQUNyRCxDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=