{"version":3,"names":["React","useEffect","AuthFormLayout","Button","ErrorState","OfflineState","Stack","useI18n","useLocalSearchParams","useFacilitySelectionScreen","jsx","_jsx","jsxs","_jsxs","cov_9g2sg1dxk","s","FacilitySelectionScreenAndroid","f","_ref","t","params","_ref2","facilities","selectedFacilityId","isLoading","isOffline","errorMessage","canSubmit","initialize","handleSelectFacility","handleSubmit","handleGoBack","b","facilitiesList","JSON","parse","payload","loginPayload","error","console","statusSlot","title","description","accessibilityLabel","testID","actionSlot","spacing","children","variant","size","loading","disabled","onPress","accessibilityHint","status","actions","titleTestID","descriptionTestID","map","facility","id","name"],"sources":["FacilitySelectionScreen.android.jsx"],"sourcesContent":["/**\r\n * FacilitySelectionScreen Component - Android\r\n * Facility selection screen for Android platform\r\n * File: FacilitySelectionScreen.android.jsx\r\n */\r\nimport React, { useEffect } from 'react';\r\nimport { AuthFormLayout, Button, ErrorState, OfflineState, Stack } from '@platform/components';\r\nimport { useI18n } from '@hooks';\r\nimport { useLocalSearchParams } from 'expo-router';\r\nimport useFacilitySelectionScreen from './useFacilitySelectionScreen';\r\n\r\n/**\r\n * FacilitySelectionScreen component for Android\r\n */\r\nconst FacilitySelectionScreenAndroid = () => {\r\n  const { t } = useI18n();\r\n  const params = useLocalSearchParams();\r\n  const {\r\n    facilities,\r\n    selectedFacilityId,\r\n    isLoading,\r\n    isOffline,\r\n    errorMessage,\r\n    canSubmit,\r\n    initialize,\r\n    handleSelectFacility,\r\n    handleSubmit,\r\n    handleGoBack,\r\n  } = useFacilitySelectionScreen();\r\n\r\n  useEffect(() => {\r\n    if (params.facilities) {\r\n      try {\r\n        const facilitiesList = JSON.parse(params.facilities);\r\n        const payload = params.loginPayload ? JSON.parse(params.loginPayload) : null;\r\n        initialize(facilitiesList, payload);\r\n      } catch (error) {\r\n        console.error('Failed to parse facilities data:', error);\r\n      }\r\n    }\r\n  }, [params.facilities, params.loginPayload, initialize]);\r\n\r\n  const statusSlot = isOffline ? (\r\n    <OfflineState\r\n      title={t('shell.banners.offline.title')}\r\n      description={t('shell.banners.offline.message')}\r\n      accessibilityLabel={t('shell.banners.offline.accessibilityLabel')}\r\n      testID=\"facility-selection-offline-state\"\r\n    />\r\n  ) : errorMessage ? (\r\n    <ErrorState\r\n      title={t('auth.facilitySelection.error.title')}\r\n      description={errorMessage}\r\n      accessibilityLabel={t('auth.facilitySelection.error.title')}\r\n      testID=\"facility-selection-error-state\"\r\n    />\r\n  ) : null;\r\n\r\n  const actionSlot = (\r\n    <Stack spacing=\"sm\">\r\n      <Button\r\n        variant=\"primary\"\r\n        size=\"large\"\r\n        loading={isLoading}\r\n        disabled={!canSubmit}\r\n        onPress={handleSubmit}\r\n        accessibilityLabel={t('auth.facilitySelection.button')}\r\n        accessibilityHint={t('auth.facilitySelection.buttonHint')}\r\n        testID=\"facility-selection-button\"\r\n      >\r\n        {t('auth.facilitySelection.button')}\r\n      </Button>\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"large\"\r\n        disabled={isLoading}\r\n        onPress={handleGoBack}\r\n        accessibilityLabel={t('common.back')}\r\n        testID=\"facility-selection-back\"\r\n      >\r\n        {t('common.back')}\r\n      </Button>\r\n    </Stack>\r\n  );\r\n\r\n  return (\r\n    <AuthFormLayout\r\n      title={t('auth.facilitySelection.title')}\r\n      description={t('auth.facilitySelection.description')}\r\n      status={statusSlot}\r\n      actions={actionSlot}\r\n      accessibilityLabel={t('auth.facilitySelection.title')}\r\n      testID=\"facility-selection-screen\"\r\n      titleTestID=\"facility-selection-title\"\r\n      descriptionTestID=\"facility-selection-description\"\r\n    >\r\n      <Stack spacing=\"md\">\r\n        {facilities.map((facility) => (\r\n          <Button\r\n            key={facility.id}\r\n            variant={selectedFacilityId === facility.id ? 'primary' : 'outline'}\r\n            size=\"large\"\r\n            onPress={() => handleSelectFacility(facility.id)}\r\n            accessibilityLabel={facility.name}\r\n            testID={`facility-option-${facility.id}`}\r\n          >\r\n            {facility.name}\r\n          </Button>\r\n        ))}\r\n      </Stack>\r\n    </AuthFormLayout>\r\n  );\r\n};\r\n\r\nexport default FacilitySelectionScreenAndroid;\r\n"],"mappings":"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","ignoreList":[]}