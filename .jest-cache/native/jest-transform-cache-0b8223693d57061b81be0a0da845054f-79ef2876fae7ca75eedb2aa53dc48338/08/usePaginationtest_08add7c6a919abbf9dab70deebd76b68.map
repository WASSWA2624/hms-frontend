{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_reactTestRenderer","_usePagination","_jsxRuntime","TestComponent","_ref","initialPage","initialLimit","onResult","api","usePagination","React","useEffect","describe","it","_asyncToGenerator2","default","render","jsx","value","waitFor","expect","page","toBe","limit","v","act","setPage","setLimit","prevPage","nextPage","reset","prev"],"sources":["usePagination.test.js"],"sourcesContent":["/**\r\n * usePagination Hook Tests\r\n * File: usePagination.test.js\r\n */\r\nimport React from 'react';\r\nimport { render, waitFor } from '@testing-library/react-native';\r\nimport { act } from 'react-test-renderer';\r\nimport usePagination from '@hooks/usePagination';\r\n\r\nconst TestComponent = ({ initialPage, initialLimit, onResult }) => {\r\n  const api = usePagination({ initialPage, initialLimit });\r\n  React.useEffect(() => {\r\n    onResult(api);\r\n  });\r\n  return null;\r\n};\r\n\r\ndescribe('usePagination', () => {\r\n  it('respects initial values', async () => {\r\n    let api;\r\n    render(\r\n      <TestComponent\r\n        initialPage={2}\r\n        initialLimit={25}\r\n        onResult={(value) => (api = value)}\r\n      />\r\n    );\r\n\r\n    await waitFor(() => {\r\n      expect(api.page).toBe(2);\r\n      expect(api.limit).toBe(25);\r\n    });\r\n  });\r\n\r\n  it('setters update page/limit deterministically (positive ints only)', async () => {\r\n    let api;\r\n    render(<TestComponent initialPage={1} initialLimit={10} onResult={(v) => (api = v)} />);\r\n\r\n    await waitFor(() => expect(api.page).toBe(1));\r\n\r\n    act(() => {\r\n      api.setPage(3.7);\r\n      api.setLimit('50');\r\n    });\r\n\r\n    await waitFor(() => {\r\n      expect(api.page).toBe(3);\r\n      expect(api.limit).toBe(50);\r\n    });\r\n\r\n    act(() => {\r\n      api.setPage(0);\r\n      api.setLimit(-10);\r\n    });\r\n\r\n    await waitFor(() => {\r\n      expect(api.page).toBe(3);\r\n      expect(api.limit).toBe(50);\r\n    });\r\n  });\r\n\r\n  it('nextPage/prevPage apply bounds (page >= 1)', async () => {\r\n    let api;\r\n    render(<TestComponent initialPage={1} initialLimit={10} onResult={(v) => (api = v)} />);\r\n\r\n    await waitFor(() => expect(api.page).toBe(1));\r\n\r\n    act(() => {\r\n      api.prevPage();\r\n    });\r\n\r\n    await waitFor(() => expect(api.page).toBe(1));\r\n\r\n    act(() => {\r\n      api.nextPage();\r\n      api.nextPage();\r\n    });\r\n\r\n    await waitFor(() => expect(api.page).toBe(3));\r\n  });\r\n\r\n  it('reset returns to initial state', async () => {\r\n    let api;\r\n    render(<TestComponent initialPage={2} initialLimit={10} onResult={(v) => (api = v)} />);\r\n\r\n    await waitFor(() => expect(api.page).toBe(2));\r\n\r\n    act(() => {\r\n      api.setPage(5);\r\n      api.setLimit(99);\r\n    });\r\n\r\n    await waitFor(() => {\r\n      expect(api.page).toBe(5);\r\n      expect(api.limit).toBe(99);\r\n    });\r\n\r\n    act(() => {\r\n      api.reset();\r\n    });\r\n\r\n    await waitFor(() => {\r\n      expect(api.page).toBe(2);\r\n      expect(api.limit).toBe(10);\r\n    });\r\n  });\r\n\r\n  it('sanitizes invalid initial values and supports functional updates', async () => {\r\n    let api;\r\n    render(<TestComponent initialPage={0} initialLimit={'abc'} onResult={(v) => (api = v)} />);\r\n\r\n    await waitFor(() => {\r\n      expect(api.page).toBe(1);\r\n      expect(api.limit).toBe(20);\r\n    });\r\n\r\n    act(() => {\r\n      api.setPage((prev) => prev + 1);\r\n      api.setLimit((prev) => prev + 5);\r\n    });\r\n\r\n    await waitFor(() => {\r\n      expect(api.page).toBe(2);\r\n      expect(api.limit).toBe(25);\r\n    });\r\n  });\r\n});\r\n\r\n"],"mappings":"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","ignoreList":[]}