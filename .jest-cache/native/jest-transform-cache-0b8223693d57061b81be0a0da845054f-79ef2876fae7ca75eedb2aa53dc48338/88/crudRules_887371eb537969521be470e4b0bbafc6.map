{"version":3,"names":["_zod","require","cov_2pfr5vml3v","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","s","f","b","_coverageSchema","coverage","actualCoverage","idSchema","z","union","string","min","number","int","nonnegative","payloadSchema","object","passthrough","listParamsSchema","page","positive","optional","limit","sort_by","order","enum","createCrudRules","exports","parseId","value","parse","parsePayload","_ref","parseListParams","_ref2"],"sources":["crudRules.js"],"sourcesContent":["/**\r\n * CRUD Rules Factory\r\n * Shared validation for CRUD features\r\n * File: crudRules.js\r\n */\r\nimport { z } from 'zod';\r\n\r\nconst idSchema = z.union([z.string().min(1), z.number().int().nonnegative()]);\r\nconst payloadSchema = z.object({}).passthrough();\r\nconst listParamsSchema = z\r\n  .object({\r\n    page: z.number().int().positive().optional(),\r\n    limit: z.number().int().positive().optional(),\r\n    sort_by: z.string().min(1).optional(),\r\n    order: z.enum(['asc', 'desc']).optional(),\r\n  })\r\n  .passthrough();\r\n\r\nconst createCrudRules = () => ({\r\n  parseId: (value) => idSchema.parse(value),\r\n  parsePayload: (value) => payloadSchema.parse(value ?? {}),\r\n  parseListParams: (value) => listParamsSchema.parse(value ?? {}),\r\n});\r\n\r\nexport { createCrudRules };\r\n"],"mappings":"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","ignoreList":[]}