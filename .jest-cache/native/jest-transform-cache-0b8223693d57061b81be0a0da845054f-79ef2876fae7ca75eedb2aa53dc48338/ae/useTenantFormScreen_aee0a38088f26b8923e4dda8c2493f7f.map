{"version":3,"names":["useCallback","useEffect","useState","useRouter","useLocalSearchParams","useI18n","useTenant","cov_27xe63gog0","s","useTenantFormScreen","f","_ref","t","router","_ref2","id","_ref3","get","create","update","data","isLoading","errorCode","reset","isEdit","Boolean","_ref4","_ref5","_slicedToArray","name","setName","_ref6","_ref7","slug","setSlug","_ref8","_ref9","isActive","setIsActive","tenant","b","Array","isArray","_ref0","_ref1","_ref10","is_active","handleSubmit","_asyncToGenerator","trim","undefined","replace","_unused","handleCancel","push","hasError","onSubmit","onCancel","testID"],"sources":["useTenantFormScreen.js"],"sourcesContent":["/**\r\n * useTenantFormScreen Hook\r\n * Shared logic for TenantFormScreen (create/edit).\r\n */\r\nimport { useCallback, useEffect, useState } from 'react';\r\nimport { useRouter, useLocalSearchParams } from 'expo-router';\r\nimport { useI18n, useTenant } from '@hooks';\r\n\r\nconst useTenantFormScreen = () => {\r\n  const { t } = useI18n();\r\n  const router = useRouter();\r\n  const { id } = useLocalSearchParams();\r\n  const { get, create, update, data, isLoading, errorCode, reset } = useTenant();\r\n\r\n  const isEdit = Boolean(id);\r\n  const [name, setName] = useState('');\r\n  const [slug, setSlug] = useState('');\r\n  const [isActive, setIsActive] = useState(true);\r\n\r\n  const tenant = data && typeof data === 'object' && !Array.isArray(data) ? data : null;\r\n\r\n  useEffect(() => {\r\n    if (isEdit && id) {\r\n      reset();\r\n      get(id);\r\n    }\r\n  }, [isEdit, id, get, reset]);\r\n\r\n  useEffect(() => {\r\n    if (tenant) {\r\n      setName(tenant.name ?? '');\r\n      setSlug(tenant.slug ?? '');\r\n      setIsActive(tenant.is_active ?? true);\r\n    }\r\n  }, [tenant]);\r\n\r\n  const handleSubmit = useCallback(async () => {\r\n    try {\r\n      if (isEdit && id) {\r\n        await update(id, {\r\n          name: name.trim(),\r\n          slug: slug.trim() || undefined,\r\n          is_active: isActive,\r\n        });\r\n      } else {\r\n        await create({\r\n          name: name.trim(),\r\n          slug: slug.trim() || undefined,\r\n          is_active: isActive,\r\n        });\r\n      }\r\n      router.replace('/settings/tenants');\r\n    } catch {\r\n      /* error from hook */\r\n    }\r\n  }, [isEdit, id, name, slug, isActive, create, update, router]);\r\n\r\n  const handleCancel = useCallback(() => {\r\n    router.push('/settings/tenants');\r\n  }, [router]);\r\n\r\n  return {\r\n    isEdit,\r\n    name,\r\n    setName,\r\n    slug,\r\n    setSlug,\r\n    isActive,\r\n    setIsActive,\r\n    isLoading,\r\n    hasError: Boolean(errorCode),\r\n    tenant,\r\n    onSubmit: handleSubmit,\r\n    onCancel: handleCancel,\r\n    testID: 'tenant-form-screen',\r\n  };\r\n};\r\n\r\nexport default useTenantFormScreen;\r\n"],"mappings":"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","ignoreList":[]}