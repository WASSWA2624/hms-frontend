{"version":3,"names":["_react","require","_expoRouter","_hooks","resolveErrorMessage","t","errorCode","key","resolved","useTenantDetailScreen","_useI18n","useI18n","router","useRouter","_useLocalSearchParams","useLocalSearchParams","id","_useNetwork","useNetwork","isOffline","_useTenant","useTenant","get","remove","data","isLoading","reset","tenant","Array","isArray","errorMessage","useMemo","fetchDetail","useCallback","useEffect","handleRetry","handleBack","push","handleEdit","handleDelete","_asyncToGenerator2","default","_unused","hasError","Boolean","onRetry","onBack","onEdit","onDelete","_default","exports"],"sources":["useTenantDetailScreen.js"],"sourcesContent":["/**\r\n * useTenantDetailScreen Hook\r\n * Shared logic for TenantDetailScreen across platforms.\r\n * File: useTenantDetailScreen.js\r\n */\r\nimport { useCallback, useEffect, useMemo } from 'react';\r\nimport { useRouter, useLocalSearchParams } from 'expo-router';\r\nimport { useI18n, useNetwork, useTenant } from '@hooks';\r\n\r\nconst resolveErrorMessage = (t, errorCode) => {\r\n  if (!errorCode) return null;\r\n  const key = `errors.codes.${errorCode}`;\r\n  const resolved = t(key);\r\n  return resolved === key ? t('errors.codes.UNKNOWN_ERROR') : resolved;\r\n};\r\n\r\nconst useTenantDetailScreen = () => {\r\n  const { t } = useI18n();\r\n  const router = useRouter();\r\n  const { id } = useLocalSearchParams();\r\n  const { isOffline } = useNetwork();\r\n  const { get, remove, data, isLoading, errorCode, reset } = useTenant();\r\n\r\n  const tenant = data && typeof data === 'object' && !Array.isArray(data) ? data : null;\r\n  const errorMessage = useMemo(\r\n    () => resolveErrorMessage(t, errorCode),\r\n    [t, errorCode]\r\n  );\r\n\r\n  const fetchDetail = useCallback(() => {\r\n    if (!id) return;\r\n    reset();\r\n    get(id);\r\n  }, [id, get, reset]);\r\n\r\n  useEffect(() => {\r\n    fetchDetail();\r\n  }, [fetchDetail]);\r\n\r\n  const handleRetry = useCallback(() => {\r\n    fetchDetail();\r\n  }, [fetchDetail]);\r\n\r\n  const handleBack = useCallback(() => {\r\n    router.push('/settings/tenants');\r\n  }, [router]);\r\n\r\n  const handleEdit = useCallback(() => {\r\n    if (id) router.push(`/settings/tenants/${id}/edit`);\r\n  }, [id, router]);\r\n\r\n  const handleDelete = useCallback(async () => {\r\n    if (!id) return;\r\n    try {\r\n      await remove(id);\r\n      handleBack();\r\n    } catch {\r\n      /* error handled by hook */\r\n    }\r\n  }, [id, remove, handleBack]);\r\n\r\n  return {\r\n    id,\r\n    tenant,\r\n    isLoading,\r\n    hasError: Boolean(errorCode),\r\n    errorMessage,\r\n    isOffline,\r\n    onRetry: handleRetry,\r\n    onBack: handleBack,\r\n    onEdit: handleEdit,\r\n    onDelete: handleDelete,\r\n  };\r\n};\r\n\r\nexport default useTenantDetailScreen;\r\n"],"mappings":"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","ignoreList":[]}