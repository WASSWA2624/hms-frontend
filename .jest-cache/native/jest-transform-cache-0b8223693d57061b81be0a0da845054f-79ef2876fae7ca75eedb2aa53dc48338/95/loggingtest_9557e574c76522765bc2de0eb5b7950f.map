{"version":3,"names":["_logging","require","describe","originalConsole","consoleLogs","beforeEach","debug","console","info","warn","error","jest","fn","_len","arguments","length","args","Array","_key","push","level","_len2","_key2","_len3","_key3","_len4","_key4","afterEach","it","expect","levels","DEBUG","toBe","INFO","WARN","ERROR","FATAL","logger","key","toHaveBeenCalled","logCall","find","log","toBeDefined","logEntry","JSON","parse","message","timestamp","warning","code","fatal","critical","Date","getTime","toBeTruthy"],"sources":["logging.test.js"],"sourcesContent":["/**\r\n * Logging Tests\r\n * File: logging.test.js\r\n */\r\nimport { logger, levels } from '@logging';\r\n\r\ndescribe('Logging Layer', () => {\r\n  let originalConsole;\r\n  let consoleLogs;\r\n\r\n  beforeEach(() => {\r\n    consoleLogs = [];\r\n    originalConsole = {\r\n      debug: console.debug,\r\n      info: console.info,\r\n      warn: console.warn,\r\n      error: console.error,\r\n    };\r\n\r\n    console.debug = jest.fn((...args) => consoleLogs.push({ level: 'debug', args }));\r\n    console.info = jest.fn((...args) => consoleLogs.push({ level: 'info', args }));\r\n    console.warn = jest.fn((...args) => consoleLogs.push({ level: 'warn', args }));\r\n    console.error = jest.fn((...args) => consoleLogs.push({ level: 'error', args }));\r\n  });\r\n\r\n  afterEach(() => {\r\n    console.debug = originalConsole.debug;\r\n    console.info = originalConsole.info;\r\n    console.warn = originalConsole.warn;\r\n    console.error = originalConsole.error;\r\n    consoleLogs = [];\r\n  });\r\n\r\n  describe('Log Levels', () => {\r\n    it('should export all required log levels', () => {\r\n      expect(levels.DEBUG).toBe('debug');\r\n      expect(levels.INFO).toBe('info');\r\n      expect(levels.WARN).toBe('warn');\r\n      expect(levels.ERROR).toBe('error');\r\n      expect(levels.FATAL).toBe('fatal');\r\n    });\r\n  });\r\n\r\n  describe('Logger', () => {\r\n    it('should log debug messages', () => {\r\n      logger.debug('Test debug message', { key: 'value' });\r\n      expect(console.debug).toHaveBeenCalled();\r\n      const logCall = consoleLogs.find(log => log.level === 'debug');\r\n      expect(logCall).toBeDefined();\r\n      const logEntry = JSON.parse(logCall.args[0]);\r\n      expect(logEntry.message).toBe('Test debug message');\r\n      expect(logEntry.key).toBe('value');\r\n      expect(logEntry.level).toBe('debug');\r\n      expect(logEntry.timestamp).toBeDefined();\r\n    });\r\n\r\n    it('should log info messages', () => {\r\n      logger.info('Test info message');\r\n      expect(console.info).toHaveBeenCalled();\r\n      const logCall = consoleLogs.find(log => log.level === 'info');\r\n      expect(logCall).toBeDefined();\r\n      const logEntry = JSON.parse(logCall.args[0]);\r\n      expect(logEntry.message).toBe('Test info message');\r\n      expect(logEntry.level).toBe('info');\r\n    });\r\n\r\n    it('should log warn messages', () => {\r\n      logger.warn('Test warn message', { warning: true });\r\n      expect(console.warn).toHaveBeenCalled();\r\n      const logCall = consoleLogs.find(log => log.level === 'warn');\r\n      expect(logCall).toBeDefined();\r\n      const logEntry = JSON.parse(logCall.args[0]);\r\n      expect(logEntry.message).toBe('Test warn message');\r\n      expect(logEntry.warning).toBe(true);\r\n      expect(logEntry.level).toBe('warn');\r\n    });\r\n\r\n    it('should log error messages', () => {\r\n      logger.error('Test error message', { code: 'TEST_ERROR' });\r\n      expect(console.error).toHaveBeenCalled();\r\n      const logCall = consoleLogs.find(log => log.level === 'error');\r\n      expect(logCall).toBeDefined();\r\n      const logEntry = JSON.parse(logCall.args[0]);\r\n      expect(logEntry.message).toBe('Test error message');\r\n      expect(logEntry.code).toBe('TEST_ERROR');\r\n      expect(logEntry.level).toBe('error');\r\n    });\r\n\r\n    it('should log fatal messages as error', () => {\r\n      logger.fatal('Test fatal message', { critical: true });\r\n      expect(console.error).toHaveBeenCalled();\r\n      const logCall = consoleLogs.find(log => log.level === 'error');\r\n      expect(logCall).toBeDefined();\r\n      const logEntry = JSON.parse(logCall.args[0]);\r\n      expect(logEntry.message).toBe('Test fatal message');\r\n      expect(logEntry.critical).toBe(true);\r\n      expect(logEntry.level).toBe('fatal');\r\n    });\r\n\r\n    it('should include timestamp in log entries', () => {\r\n      logger.info('Test message');\r\n      const logCall = consoleLogs.find(log => log.level === 'info');\r\n      const logEntry = JSON.parse(logCall.args[0]);\r\n      expect(logEntry.timestamp).toBeDefined();\r\n      expect(new Date(logEntry.timestamp).getTime()).toBeTruthy();\r\n    });\r\n\r\n    it('should handle empty data object', () => {\r\n      logger.info('Test message');\r\n      const logCall = consoleLogs.find(log => log.level === 'info');\r\n      const logEntry = JSON.parse(logCall.args[0]);\r\n      expect(logEntry.message).toBe('Test message');\r\n      expect(logEntry.level).toBe('info');\r\n      expect(logEntry.timestamp).toBeDefined();\r\n    });\r\n  });\r\n});\r\n\r\n"],"mappings":"AAIA,IAAAA,QAAA,GAAAC,OAAA;AAEAC,QAAQ,CAAC,eAAe,EAAE,YAAM;EAC9B,IAAIC,eAAe;EACnB,IAAIC,WAAW;EAEfC,UAAU,CAAC,YAAM;IACfD,WAAW,GAAG,EAAE;IAChBD,eAAe,GAAG;MAChBG,KAAK,EAAEC,OAAO,CAACD,KAAK;MACpBE,IAAI,EAAED,OAAO,CAACC,IAAI;MAClBC,IAAI,EAAEF,OAAO,CAACE,IAAI;MAClBC,KAAK,EAAEH,OAAO,CAACG;IACjB,CAAC;IAEDH,OAAO,CAACD,KAAK,GAAGK,IAAI,CAACC,EAAE,CAAC;MAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAIC,IAAI,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;QAAJF,IAAI,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;MAAA;MAAA,OAAKd,WAAW,CAACe,IAAI,CAAC;QAAEC,KAAK,EAAE,OAAO;QAAEJ,IAAI,EAAJA;MAAK,CAAC,CAAC;IAAA,EAAC;IAChFT,OAAO,CAACC,IAAI,GAAGG,IAAI,CAACC,EAAE,CAAC;MAAA,SAAAS,KAAA,GAAAP,SAAA,CAAAC,MAAA,EAAIC,IAAI,OAAAC,KAAA,CAAAI,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;QAAJN,IAAI,CAAAM,KAAA,IAAAR,SAAA,CAAAQ,KAAA;MAAA;MAAA,OAAKlB,WAAW,CAACe,IAAI,CAAC;QAAEC,KAAK,EAAE,MAAM;QAAEJ,IAAI,EAAJA;MAAK,CAAC,CAAC;IAAA,EAAC;IAC9ET,OAAO,CAACE,IAAI,GAAGE,IAAI,CAACC,EAAE,CAAC;MAAA,SAAAW,KAAA,GAAAT,SAAA,CAAAC,MAAA,EAAIC,IAAI,OAAAC,KAAA,CAAAM,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;QAAJR,IAAI,CAAAQ,KAAA,IAAAV,SAAA,CAAAU,KAAA;MAAA;MAAA,OAAKpB,WAAW,CAACe,IAAI,CAAC;QAAEC,KAAK,EAAE,MAAM;QAAEJ,IAAI,EAAJA;MAAK,CAAC,CAAC;IAAA,EAAC;IAC9ET,OAAO,CAACG,KAAK,GAAGC,IAAI,CAACC,EAAE,CAAC;MAAA,SAAAa,KAAA,GAAAX,SAAA,CAAAC,MAAA,EAAIC,IAAI,OAAAC,KAAA,CAAAQ,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;QAAJV,IAAI,CAAAU,KAAA,IAAAZ,SAAA,CAAAY,KAAA;MAAA;MAAA,OAAKtB,WAAW,CAACe,IAAI,CAAC;QAAEC,KAAK,EAAE,OAAO;QAAEJ,IAAI,EAAJA;MAAK,CAAC,CAAC;IAAA,EAAC;EAClF,CAAC,CAAC;EAEFW,SAAS,CAAC,YAAM;IACdpB,OAAO,CAACD,KAAK,GAAGH,eAAe,CAACG,KAAK;IACrCC,OAAO,CAACC,IAAI,GAAGL,eAAe,CAACK,IAAI;IACnCD,OAAO,CAACE,IAAI,GAAGN,eAAe,CAACM,IAAI;IACnCF,OAAO,CAACG,KAAK,GAAGP,eAAe,CAACO,KAAK;IACrCN,WAAW,GAAG,EAAE;EAClB,CAAC,CAAC;EAEFF,QAAQ,CAAC,YAAY,EAAE,YAAM;IAC3B0B,EAAE,CAAC,uCAAuC,EAAE,YAAM;MAChDC,MAAM,CAACC,eAAM,CAACC,KAAK,CAAC,CAACC,IAAI,CAAC,OAAO,CAAC;MAClCH,MAAM,CAACC,eAAM,CAACG,IAAI,CAAC,CAACD,IAAI,CAAC,MAAM,CAAC;MAChCH,MAAM,CAACC,eAAM,CAACI,IAAI,CAAC,CAACF,IAAI,CAAC,MAAM,CAAC;MAChCH,MAAM,CAACC,eAAM,CAACK,KAAK,CAAC,CAACH,IAAI,CAAC,OAAO,CAAC;MAClCH,MAAM,CAACC,eAAM,CAACM,KAAK,CAAC,CAACJ,IAAI,CAAC,OAAO,CAAC;IACpC,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF9B,QAAQ,CAAC,QAAQ,EAAE,YAAM;IACvB0B,EAAE,CAAC,2BAA2B,EAAE,YAAM;MACpCS,eAAM,CAAC/B,KAAK,CAAC,oBAAoB,EAAE;QAAEgC,GAAG,EAAE;MAAQ,CAAC,CAAC;MACpDT,MAAM,CAACtB,OAAO,CAACD,KAAK,CAAC,CAACiC,gBAAgB,CAAC,CAAC;MACxC,IAAMC,OAAO,GAAGpC,WAAW,CAACqC,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIA,GAAG,CAACtB,KAAK,KAAK,OAAO;MAAA,EAAC;MAC9DS,MAAM,CAACW,OAAO,CAAC,CAACG,WAAW,CAAC,CAAC;MAC7B,IAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACN,OAAO,CAACxB,IAAI,CAAC,CAAC,CAAC,CAAC;MAC5Ca,MAAM,CAACe,QAAQ,CAACG,OAAO,CAAC,CAACf,IAAI,CAAC,oBAAoB,CAAC;MACnDH,MAAM,CAACe,QAAQ,CAACN,GAAG,CAAC,CAACN,IAAI,CAAC,OAAO,CAAC;MAClCH,MAAM,CAACe,QAAQ,CAACxB,KAAK,CAAC,CAACY,IAAI,CAAC,OAAO,CAAC;MACpCH,MAAM,CAACe,QAAQ,CAACI,SAAS,CAAC,CAACL,WAAW,CAAC,CAAC;IAC1C,CAAC,CAAC;IAEFf,EAAE,CAAC,0BAA0B,EAAE,YAAM;MACnCS,eAAM,CAAC7B,IAAI,CAAC,mBAAmB,CAAC;MAChCqB,MAAM,CAACtB,OAAO,CAACC,IAAI,CAAC,CAAC+B,gBAAgB,CAAC,CAAC;MACvC,IAAMC,OAAO,GAAGpC,WAAW,CAACqC,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIA,GAAG,CAACtB,KAAK,KAAK,MAAM;MAAA,EAAC;MAC7DS,MAAM,CAACW,OAAO,CAAC,CAACG,WAAW,CAAC,CAAC;MAC7B,IAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACN,OAAO,CAACxB,IAAI,CAAC,CAAC,CAAC,CAAC;MAC5Ca,MAAM,CAACe,QAAQ,CAACG,OAAO,CAAC,CAACf,IAAI,CAAC,mBAAmB,CAAC;MAClDH,MAAM,CAACe,QAAQ,CAACxB,KAAK,CAAC,CAACY,IAAI,CAAC,MAAM,CAAC;IACrC,CAAC,CAAC;IAEFJ,EAAE,CAAC,0BAA0B,EAAE,YAAM;MACnCS,eAAM,CAAC5B,IAAI,CAAC,mBAAmB,EAAE;QAAEwC,OAAO,EAAE;MAAK,CAAC,CAAC;MACnDpB,MAAM,CAACtB,OAAO,CAACE,IAAI,CAAC,CAAC8B,gBAAgB,CAAC,CAAC;MACvC,IAAMC,OAAO,GAAGpC,WAAW,CAACqC,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIA,GAAG,CAACtB,KAAK,KAAK,MAAM;MAAA,EAAC;MAC7DS,MAAM,CAACW,OAAO,CAAC,CAACG,WAAW,CAAC,CAAC;MAC7B,IAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACN,OAAO,CAACxB,IAAI,CAAC,CAAC,CAAC,CAAC;MAC5Ca,MAAM,CAACe,QAAQ,CAACG,OAAO,CAAC,CAACf,IAAI,CAAC,mBAAmB,CAAC;MAClDH,MAAM,CAACe,QAAQ,CAACK,OAAO,CAAC,CAACjB,IAAI,CAAC,IAAI,CAAC;MACnCH,MAAM,CAACe,QAAQ,CAACxB,KAAK,CAAC,CAACY,IAAI,CAAC,MAAM,CAAC;IACrC,CAAC,CAAC;IAEFJ,EAAE,CAAC,2BAA2B,EAAE,YAAM;MACpCS,eAAM,CAAC3B,KAAK,CAAC,oBAAoB,EAAE;QAAEwC,IAAI,EAAE;MAAa,CAAC,CAAC;MAC1DrB,MAAM,CAACtB,OAAO,CAACG,KAAK,CAAC,CAAC6B,gBAAgB,CAAC,CAAC;MACxC,IAAMC,OAAO,GAAGpC,WAAW,CAACqC,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIA,GAAG,CAACtB,KAAK,KAAK,OAAO;MAAA,EAAC;MAC9DS,MAAM,CAACW,OAAO,CAAC,CAACG,WAAW,CAAC,CAAC;MAC7B,IAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACN,OAAO,CAACxB,IAAI,CAAC,CAAC,CAAC,CAAC;MAC5Ca,MAAM,CAACe,QAAQ,CAACG,OAAO,CAAC,CAACf,IAAI,CAAC,oBAAoB,CAAC;MACnDH,MAAM,CAACe,QAAQ,CAACM,IAAI,CAAC,CAAClB,IAAI,CAAC,YAAY,CAAC;MACxCH,MAAM,CAACe,QAAQ,CAACxB,KAAK,CAAC,CAACY,IAAI,CAAC,OAAO,CAAC;IACtC,CAAC,CAAC;IAEFJ,EAAE,CAAC,oCAAoC,EAAE,YAAM;MAC7CS,eAAM,CAACc,KAAK,CAAC,oBAAoB,EAAE;QAAEC,QAAQ,EAAE;MAAK,CAAC,CAAC;MACtDvB,MAAM,CAACtB,OAAO,CAACG,KAAK,CAAC,CAAC6B,gBAAgB,CAAC,CAAC;MACxC,IAAMC,OAAO,GAAGpC,WAAW,CAACqC,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIA,GAAG,CAACtB,KAAK,KAAK,OAAO;MAAA,EAAC;MAC9DS,MAAM,CAACW,OAAO,CAAC,CAACG,WAAW,CAAC,CAAC;MAC7B,IAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACN,OAAO,CAACxB,IAAI,CAAC,CAAC,CAAC,CAAC;MAC5Ca,MAAM,CAACe,QAAQ,CAACG,OAAO,CAAC,CAACf,IAAI,CAAC,oBAAoB,CAAC;MACnDH,MAAM,CAACe,QAAQ,CAACQ,QAAQ,CAAC,CAACpB,IAAI,CAAC,IAAI,CAAC;MACpCH,MAAM,CAACe,QAAQ,CAACxB,KAAK,CAAC,CAACY,IAAI,CAAC,OAAO,CAAC;IACtC,CAAC,CAAC;IAEFJ,EAAE,CAAC,yCAAyC,EAAE,YAAM;MAClDS,eAAM,CAAC7B,IAAI,CAAC,cAAc,CAAC;MAC3B,IAAMgC,OAAO,GAAGpC,WAAW,CAACqC,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIA,GAAG,CAACtB,KAAK,KAAK,MAAM;MAAA,EAAC;MAC7D,IAAMwB,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACN,OAAO,CAACxB,IAAI,CAAC,CAAC,CAAC,CAAC;MAC5Ca,MAAM,CAACe,QAAQ,CAACI,SAAS,CAAC,CAACL,WAAW,CAAC,CAAC;MACxCd,MAAM,CAAC,IAAIwB,IAAI,CAACT,QAAQ,CAACI,SAAS,CAAC,CAACM,OAAO,CAAC,CAAC,CAAC,CAACC,UAAU,CAAC,CAAC;IAC7D,CAAC,CAAC;IAEF3B,EAAE,CAAC,iCAAiC,EAAE,YAAM;MAC1CS,eAAM,CAAC7B,IAAI,CAAC,cAAc,CAAC;MAC3B,IAAMgC,OAAO,GAAGpC,WAAW,CAACqC,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIA,GAAG,CAACtB,KAAK,KAAK,MAAM;MAAA,EAAC;MAC7D,IAAMwB,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACN,OAAO,CAACxB,IAAI,CAAC,CAAC,CAAC,CAAC;MAC5Ca,MAAM,CAACe,QAAQ,CAACG,OAAO,CAAC,CAACf,IAAI,CAAC,cAAc,CAAC;MAC7CH,MAAM,CAACe,QAAQ,CAACxB,KAAK,CAAC,CAACY,IAAI,CAAC,MAAM,CAAC;MACnCH,MAAM,CAACe,QAAQ,CAACI,SAAS,CAAC,CAACL,WAAW,CAAC,CAAC;IAC1C,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}