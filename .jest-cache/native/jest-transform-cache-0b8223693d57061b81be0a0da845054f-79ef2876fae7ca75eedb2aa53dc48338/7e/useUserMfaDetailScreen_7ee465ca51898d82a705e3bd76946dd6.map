{"version":3,"names":["useCallback","useEffect","useMemo","useState","useLocalSearchParams","useRouter","useI18n","useNetwork","useUserMfa","cov_2hh9le34ag","s","resolveErrorMessage","t","errorCode","f","b","key","resolved","useUserMfaDetailScreen","_ref","router","_ref2","id","_ref3","isOffline","_ref4","_ref5","_slicedToArray","isEditing","setIsEditing","_ref6","get","update","data","isLoading","reset","item","errorMessage","fetchItem","handleRetry","handleSave","_ref7","_asyncToGenerator","formData","_x","apply","arguments","handleCancel","handleEdit","hasError","onRetry","onSave","onCancel","onEdit"],"sources":["useUserMfaDetailScreen.js"],"sourcesContent":["/**\n * useUserMfaDetailScreen Hook\n * Shared logic for UserMfaDetailScreen across platforms.\n * File: useUserMfaDetailScreen.js\n */\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useLocalSearchParams, useRouter } from 'expo-router';\nimport { useI18n, useNetwork, useUserMfa } from '@hooks';\n\nconst resolveErrorMessage = (t, errorCode) => {\n  if (!errorCode) return null;\n  const key = `errors.codes.${errorCode}`;\n  const resolved = t(key);\n  return resolved === key ? t('errors.codes.UNKNOWN_ERROR') : resolved;\n};\n\nconst useUserMfaDetailScreen = () => {\n  const { t } = useI18n();\n  const router = useRouter();\n  const { id } = useLocalSearchParams();\n  const { isOffline } = useNetwork();\n  const [isEditing, setIsEditing] = useState(false);\n  const {\n    get,\n    update,\n    data,\n    isLoading,\n    errorCode,\n    reset,\n  } = useUserMfa();\n\n  const item = useMemo(() => data?.item, [data?.item]);\n  const errorMessage = useMemo(\n    () => resolveErrorMessage(t, errorCode),\n    [t, errorCode]\n  );\n\n  const fetchItem = useCallback(() => {\n    if (id) {\n      reset();\n      get(id);\n    }\n  }, [id, get, reset]);\n\n  useEffect(() => {\n    fetchItem();\n  }, [fetchItem]);\n\n  const handleRetry = useCallback(() => {\n    fetchItem();\n  }, [fetchItem]);\n\n  const handleSave = useCallback(\n    async (formData) => {\n      if (id) {\n        await update(id, formData);\n        setIsEditing(false);\n      }\n    },\n    [id, update]\n  );\n\n  const handleCancel = useCallback(() => {\n    setIsEditing(false);\n  }, []);\n\n  const handleEdit = useCallback(() => {\n    setIsEditing(true);\n  }, []);\n\n  return {\n    item,\n    isLoading,\n    hasError: !!errorCode,\n    errorMessage,\n    isOffline,\n    isEditing,\n    onRetry: handleRetry,\n    onSave: handleSave,\n    onCancel: handleCancel,\n    onEdit: handleEdit,\n  };\n};\n\nexport default useUserMfaDetailScreen;\n"],"mappings":"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","ignoreList":[]}