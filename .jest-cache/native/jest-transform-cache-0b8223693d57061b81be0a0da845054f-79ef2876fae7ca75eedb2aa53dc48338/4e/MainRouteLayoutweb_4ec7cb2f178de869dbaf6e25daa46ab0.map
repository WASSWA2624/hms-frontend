{"version":3,"names":["_react","_interopRequireWildcard","require","_expoRouter","_guards","_","_components","_GlobalFooter","_useMainLayoutMemo","_useMainRouteLayoutWeb","_interopRequireDefault","_Brand","_HamburgerIcon","_HeaderUtility","_MobileSidebar","_MainRouteLayoutWeb","_types","_jsxRuntime","MainRouteLayoutWeb","useAuthGuard","layout","useMainRouteLayoutWeb","t","mainItems","isItemVisible","overlaySlot","resolvedSidebarWidth","isSidebarCollapsed","isMobile","isHeaderHidden","isMobileSidebarOpen","authHeaderActions","handleToggleSidebar","handleShowHeader","handleResizeStart","handleResizeKeyDown","handleMobileOverlayKeyDown","closeButtonRef","mobileSidebarRef","footerVisible","hamburgerIcon","useMemo","jsx","default","headerActions","useHeaderActions","brandTitle","appName","appShortName","headerSlot","GlobalHeader","title","accessibilityLabel","testID","actions","utilitySlot","jsxs","Fragment","children","LanguageControls","ThemeControls","Object","assign","sidebarSlot","StyledSidebarWrapper","Sidebar","items","collapsed","footerSlot","StyledSidebarResizeHandle","role","SIDEBAR_MIN_WIDTH","SIDEBAR_MAX_WIDTH","tabIndex","onMouseDown","onKeyDown","AppFrame","sidebar","header","footer","variant","FOOTER_VARIANTS","MAIN","overlay","notices","NoticeSurface","sidebarCollapsed","sidebarWidth","collapsedWidth","SIDEBAR_COLLAPSED_WIDTH","Slot","StyledHeaderRevealButton","size","onPress","Icon","glyph","decorative","isOpen","onClose","handleCloseMobileSidebar","sidebarLabel","closeLabel","panelRef","_default","exports"],"sources":["MainRouteLayout.web.jsx"],"sourcesContent":["/**\r\n * MainRouteLayout Component - Web\r\n * Reusable route layout for authenticated/main app routes on Web\r\n * File: MainRouteLayout.web.jsx\r\n *\r\n * Per component-structure.mdc: Reusable layout components belong in platform/layouts/\r\n * Per app-router.mdc: Route layouts handle authentication guards\r\n * Per project-structure.mdc: One file = one responsibility; composition over inheritance\r\n */\r\n\r\nimport React, { useMemo } from 'react';\r\nimport { Slot } from 'expo-router';\r\nimport { useAuthGuard } from '@navigation/guards';\r\nimport { AppFrame } from '@platform/layouts';\r\nimport {\r\n  GlobalHeader,\r\n  Icon,\r\n  LanguageControls,\r\n  NoticeSurface,\r\n  Sidebar,\r\n  ThemeControls,\r\n} from '@platform/components';\r\nimport GlobalFooter, { FOOTER_VARIANTS } from '@platform/components/navigation/GlobalFooter';\r\nimport { useHeaderActions } from './useMainLayoutMemo';\r\nimport useMainRouteLayoutWeb from './useMainRouteLayoutWeb';\r\nimport Brand from './Brand';\r\nimport HamburgerIcon from './HamburgerIcon';\r\nimport HeaderUtility from './HeaderUtility';\r\nimport MobileSidebar from './MobileSidebar';\r\nimport {\r\n  StyledHeaderRevealButton,\r\n  StyledSidebarResizeHandle,\r\n  StyledSidebarWrapper,\r\n} from './MainRouteLayout.web.styles';\r\nimport { SIDEBAR_COLLAPSED_WIDTH, SIDEBAR_MIN_WIDTH, SIDEBAR_MAX_WIDTH } from './types';\r\n\r\nconst MainRouteLayoutWeb = () => {\r\n  useAuthGuard();\r\n  const layout = useMainRouteLayoutWeb();\r\n  const {\r\n    t,\r\n    mainItems,\r\n    isItemVisible,\r\n    overlaySlot,\r\n    resolvedSidebarWidth,\r\n    isSidebarCollapsed,\r\n    isMobile,\r\n    isHeaderHidden,\r\n    isMobileSidebarOpen,\r\n    authHeaderActions,\r\n    handleToggleSidebar,\r\n    handleShowHeader,\r\n    handleResizeStart,\r\n    handleResizeKeyDown,\r\n    handleMobileOverlayKeyDown,\r\n    closeButtonRef,\r\n    mobileSidebarRef,\r\n    footerVisible,\r\n  } = layout;\r\n\r\n  const hamburgerIcon = useMemo(() => <HamburgerIcon />, []);\r\n  const headerActions = useHeaderActions(\r\n    authHeaderActions,\r\n    hamburgerIcon,\r\n    handleToggleSidebar,\r\n    t\r\n  );\r\n  const brandTitle = useMemo(\r\n    () => (\r\n      <Brand\r\n        appName={t('app.name')}\r\n        appShortName={t('app.shortName')}\r\n      />\r\n    ),\r\n    [t]\r\n  );\r\n\r\n  const headerSlot = isHeaderHidden ? null : (\r\n    <GlobalHeader\r\n      title={brandTitle}\r\n      accessibilityLabel={t('navigation.header.title')}\r\n      testID=\"main-header\"\r\n      actions={headerActions}\r\n      utilitySlot={(\r\n        <>\r\n          <LanguageControls testID=\"main-language-controls\" />\r\n          <ThemeControls testID=\"main-theme-controls\" />\r\n          <HeaderUtility {...layout} />\r\n        </>\r\n      )}\r\n    />\r\n  );\r\n\r\n  const sidebarSlot = (\r\n    <StyledSidebarWrapper>\r\n      <Sidebar\r\n        accessibilityLabel={t('navigation.sidebar.title')}\r\n        items={mainItems}\r\n        isItemVisible={isItemVisible}\r\n        collapsed={isSidebarCollapsed}\r\n        footerSlot={null}\r\n        testID=\"main-sidebar\"\r\n      />\r\n      {!isMobile && !isSidebarCollapsed ? (\r\n        <StyledSidebarResizeHandle\r\n          role=\"slider\"\r\n          aria-orientation=\"vertical\"\r\n          aria-label={t('navigation.sidebar.resize')}\r\n          aria-valuemin={SIDEBAR_MIN_WIDTH}\r\n          aria-valuemax={SIDEBAR_MAX_WIDTH}\r\n          aria-valuenow={resolvedSidebarWidth}\r\n          tabIndex={0}\r\n          onMouseDown={handleResizeStart}\r\n          onKeyDown={handleResizeKeyDown}\r\n        />\r\n      ) : null}\r\n    </StyledSidebarWrapper>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <AppFrame\r\n        sidebar={sidebarSlot}\r\n        header={headerSlot}\r\n        footer={\r\n          !isMobile && footerVisible ? (\r\n            <GlobalFooter\r\n              variant={FOOTER_VARIANTS.MAIN}\r\n              accessibilityLabel={t('navigation.footer.title')}\r\n              testID=\"main-footer\"\r\n            />\r\n          ) : null\r\n        }\r\n        overlay={overlaySlot}\r\n        notices={<NoticeSurface testID=\"main-notice-surface\" />}\r\n        sidebarCollapsed={isSidebarCollapsed}\r\n        sidebarWidth={resolvedSidebarWidth}\r\n        collapsedWidth={SIDEBAR_COLLAPSED_WIDTH}\r\n        accessibilityLabel={t('navigation.mainNavigation')}\r\n        testID=\"main-route-layout\"\r\n      >\r\n        <Slot />\r\n      </AppFrame>\r\n      {isHeaderHidden ? (\r\n        <StyledHeaderRevealButton\r\n          variant=\"outline\"\r\n          size=\"small\"\r\n          onPress={handleShowHeader}\r\n          accessibilityLabel={t('navigation.header.showHeader')}\r\n          testID=\"main-header-reveal\"\r\n        >\r\n          <Icon glyph=\"Ë…\" decorative accessibilityLabel={t('navigation.header.showHeader')} />\r\n        </StyledHeaderRevealButton>\r\n      ) : null}\r\n      {isMobile ? (\r\n        <MobileSidebar\r\n          isOpen={isMobileSidebarOpen}\r\n          onClose={layout.handleCloseMobileSidebar}\r\n          onKeyDown={handleMobileOverlayKeyDown}\r\n          sidebarLabel={t('navigation.sidebar.title')}\r\n          closeLabel={t('common.close')}\r\n          mainItems={mainItems}\r\n          isItemVisible={isItemVisible}\r\n          closeButtonRef={closeButtonRef}\r\n          panelRef={mobileSidebarRef}\r\n        />\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MainRouteLayoutWeb;\r\n"],"mappings":"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","ignoreList":[]}