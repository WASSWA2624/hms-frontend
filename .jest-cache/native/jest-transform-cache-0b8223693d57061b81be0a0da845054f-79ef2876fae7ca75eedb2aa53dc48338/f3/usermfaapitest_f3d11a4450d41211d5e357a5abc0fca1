39c68dcb1f4521db641af3945f4ca7ee
_getJestObj().mock("../../../services/api", function () {
  return {
    apiClient: jest.fn(),
    createCrudApi: jest.fn(function () {
      return {
        list: jest.fn(),
        get: jest.fn(),
        create: jest.fn(),
        update: jest.fn(),
        remove: jest.fn()
      };
    })
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _endpoints = require("../../../config/endpoints");
var _api = require("../../../services/api");
var _userMfa = require("../../../features/user-mfa/user-mfa.api");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('user-mfa.api', function () {
  it('creates crud api with user mfa endpoints', function () {
    expect(_api.createCrudApi).toHaveBeenCalledWith(_endpoints.endpoints.USER_MFAS);
    expect(_userMfa.userMfaApi).toBeDefined();
  });
  it('posts mfa verify/enable/disable', (0, _asyncToGenerator2.default)(function* () {
    _api.apiClient.mockResolvedValue({
      data: {
        id: '1'
      }
    });
    yield (0, _userMfa.verifyUserMfaApi)('1', {
      code: '123456'
    });
    yield (0, _userMfa.enableUserMfaApi)('1', {
      enabled: true
    });
    yield (0, _userMfa.disableUserMfaApi)('1', {
      enabled: false
    });
    expect(_api.apiClient).toHaveBeenCalledWith({
      url: _endpoints.endpoints.USER_MFAS.VERIFY('1'),
      method: 'POST',
      body: {
        code: '123456'
      }
    });
    expect(_api.apiClient).toHaveBeenCalledWith({
      url: _endpoints.endpoints.USER_MFAS.ENABLE('1'),
      method: 'POST',
      body: {
        enabled: true
      }
    });
    expect(_api.apiClient).toHaveBeenCalledWith({
      url: _endpoints.endpoints.USER_MFAS.DISABLE('1'),
      method: 'POST',
      body: {
        enabled: false
      }
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJhcGlDbGllbnQiLCJqZXN0IiwiZm4iLCJjcmVhdGVDcnVkQXBpIiwibGlzdCIsImdldCIsImNyZWF0ZSIsInVwZGF0ZSIsInJlbW92ZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZGVmYXVsdCIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9lbmRwb2ludHMiLCJfYXBpIiwiX3VzZXJNZmEiLCJfcmVxdWlyZSIsImRlc2NyaWJlIiwiaXQiLCJleHBlY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImVuZHBvaW50cyIsIlVTRVJfTUZBUyIsInVzZXJNZmFBcGkiLCJ0b0JlRGVmaW5lZCIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiZGF0YSIsImlkIiwidmVyaWZ5VXNlck1mYUFwaSIsImNvZGUiLCJlbmFibGVVc2VyTWZhQXBpIiwiZW5hYmxlZCIsImRpc2FibGVVc2VyTWZhQXBpIiwidXJsIiwiVkVSSUZZIiwibWV0aG9kIiwiYm9keSIsIkVOQUJMRSIsIkRJU0FCTEUiXSwic291cmNlcyI6WyJ1c2VyLW1mYS5hcGkudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVXNlciBNRkEgQVBJIFRlc3RzXHJcbiAqIEZpbGU6IHVzZXItbWZhLmFwaS50ZXN0LmpzXHJcbiAqL1xyXG5pbXBvcnQgeyBlbmRwb2ludHMgfSBmcm9tICdAY29uZmlnL2VuZHBvaW50cyc7XHJcbmltcG9ydCB7IGFwaUNsaWVudCwgY3JlYXRlQ3J1ZEFwaSB9IGZyb20gJ0BzZXJ2aWNlcy9hcGknO1xyXG5pbXBvcnQgeyB1c2VyTWZhQXBpLCB2ZXJpZnlVc2VyTWZhQXBpLCBlbmFibGVVc2VyTWZhQXBpLCBkaXNhYmxlVXNlck1mYUFwaSB9IGZyb20gJ0BmZWF0dXJlcy91c2VyLW1mYS91c2VyLW1mYS5hcGknO1xyXG5cclxuamVzdC5tb2NrKCdAc2VydmljZXMvYXBpJywgKCkgPT4gKHtcclxuICBhcGlDbGllbnQ6IGplc3QuZm4oKSxcclxuICBjcmVhdGVDcnVkQXBpOiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICBsaXN0OiBqZXN0LmZuKCksXHJcbiAgICBnZXQ6IGplc3QuZm4oKSxcclxuICAgIGNyZWF0ZTogamVzdC5mbigpLFxyXG4gICAgdXBkYXRlOiBqZXN0LmZuKCksXHJcbiAgICByZW1vdmU6IGplc3QuZm4oKSxcclxuICB9KSksXHJcbn0pKTtcclxuXHJcbmRlc2NyaWJlKCd1c2VyLW1mYS5hcGknLCAoKSA9PiB7XHJcbiAgaXQoJ2NyZWF0ZXMgY3J1ZCBhcGkgd2l0aCB1c2VyIG1mYSBlbmRwb2ludHMnLCAoKSA9PiB7XHJcbiAgICBleHBlY3QoY3JlYXRlQ3J1ZEFwaSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZW5kcG9pbnRzLlVTRVJfTUZBUyk7XHJcbiAgICBleHBlY3QodXNlck1mYUFwaSkudG9CZURlZmluZWQoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Bvc3RzIG1mYSB2ZXJpZnkvZW5hYmxlL2Rpc2FibGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBhcGlDbGllbnQubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiB7IGlkOiAnMScgfSB9KTtcclxuICAgIGF3YWl0IHZlcmlmeVVzZXJNZmFBcGkoJzEnLCB7IGNvZGU6ICcxMjM0NTYnIH0pO1xyXG4gICAgYXdhaXQgZW5hYmxlVXNlck1mYUFwaSgnMScsIHsgZW5hYmxlZDogdHJ1ZSB9KTtcclxuICAgIGF3YWl0IGRpc2FibGVVc2VyTWZhQXBpKCcxJywgeyBlbmFibGVkOiBmYWxzZSB9KTtcclxuXHJcbiAgICBleHBlY3QoYXBpQ2xpZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XHJcbiAgICAgIHVybDogZW5kcG9pbnRzLlVTRVJfTUZBUy5WRVJJRlkoJzEnKSxcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGJvZHk6IHsgY29kZTogJzEyMzQ1NicgfSxcclxuICAgIH0pO1xyXG4gICAgZXhwZWN0KGFwaUNsaWVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xyXG4gICAgICB1cmw6IGVuZHBvaW50cy5VU0VSX01GQVMuRU5BQkxFKCcxJyksXHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBib2R5OiB7IGVuYWJsZWQ6IHRydWUgfSxcclxuICAgIH0pO1xyXG4gICAgZXhwZWN0KGFwaUNsaWVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xyXG4gICAgICB1cmw6IGVuZHBvaW50cy5VU0VSX01GQVMuRElTQUJMRSgnMScpLFxyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgYm9keTogeyBlbmFibGVkOiBmYWxzZSB9LFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiJBQVFBQSxXQUFBLEdBQUtDLElBQUksMEJBQWtCO0VBQUEsT0FBTztJQUNoQ0MsU0FBUyxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ3BCQyxhQUFhLEVBQUVGLElBQUksQ0FBQ0MsRUFBRSxDQUFDO01BQUEsT0FBTztRQUM1QkUsSUFBSSxFQUFFSCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO1FBQ2ZHLEdBQUcsRUFBRUosSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztRQUNkSSxNQUFNLEVBQUVMLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7UUFDakJLLE1BQU0sRUFBRU4sSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztRQUNqQk0sTUFBTSxFQUFFUCxJQUFJLENBQUNDLEVBQUUsQ0FBQztNQUNsQixDQUFDO0lBQUEsQ0FBQztFQUNKLENBQUM7QUFBQSxDQUFDLENBQUM7QUFBQyxJQUFBTyxzQkFBQSxHQUFBQyxPQUFBLGlEQUFBQyxPQUFBO0FBQUEsSUFBQUMsa0JBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQWJKLElBQUFHLFVBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLElBQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLFFBQUEsR0FBQUwsT0FBQTtBQUFvSCxTQUFBWixZQUFBO0VBQUEsSUFBQWtCLFFBQUEsR0FBQU4sT0FBQTtJQUFBVCxJQUFBLEdBQUFlLFFBQUEsQ0FBQWYsSUFBQTtFQUFBSCxXQUFBLFlBQUFBLFlBQUE7SUFBQSxPQUFBRyxJQUFBO0VBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFhcEhnQixRQUFRLENBQUMsY0FBYyxFQUFFLFlBQU07RUFDN0JDLEVBQUUsQ0FBQywwQ0FBMEMsRUFBRSxZQUFNO0lBQ25EQyxNQUFNLENBQUNoQixrQkFBYSxDQUFDLENBQUNpQixvQkFBb0IsQ0FBQ0Msb0JBQVMsQ0FBQ0MsU0FBUyxDQUFDO0lBQy9ESCxNQUFNLENBQUNJLG1CQUFVLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7RUFDbEMsQ0FBQyxDQUFDO0VBRUZOLEVBQUUsQ0FBQyxpQ0FBaUMsTUFBQU4sa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7SUFDaERYLGNBQVMsQ0FBQ3lCLGlCQUFpQixDQUFDO01BQUVDLElBQUksRUFBRTtRQUFFQyxFQUFFLEVBQUU7TUFBSTtJQUFFLENBQUMsQ0FBQztJQUNsRCxNQUFNLElBQUFDLHlCQUFnQixFQUFDLEdBQUcsRUFBRTtNQUFFQyxJQUFJLEVBQUU7SUFBUyxDQUFDLENBQUM7SUFDL0MsTUFBTSxJQUFBQyx5QkFBZ0IsRUFBQyxHQUFHLEVBQUU7TUFBRUMsT0FBTyxFQUFFO0lBQUssQ0FBQyxDQUFDO0lBQzlDLE1BQU0sSUFBQUMsMEJBQWlCLEVBQUMsR0FBRyxFQUFFO01BQUVELE9BQU8sRUFBRTtJQUFNLENBQUMsQ0FBQztJQUVoRFosTUFBTSxDQUFDbkIsY0FBUyxDQUFDLENBQUNvQixvQkFBb0IsQ0FBQztNQUNyQ2EsR0FBRyxFQUFFWixvQkFBUyxDQUFDQyxTQUFTLENBQUNZLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFDcENDLE1BQU0sRUFBRSxNQUFNO01BQ2RDLElBQUksRUFBRTtRQUFFUCxJQUFJLEVBQUU7TUFBUztJQUN6QixDQUFDLENBQUM7SUFDRlYsTUFBTSxDQUFDbkIsY0FBUyxDQUFDLENBQUNvQixvQkFBb0IsQ0FBQztNQUNyQ2EsR0FBRyxFQUFFWixvQkFBUyxDQUFDQyxTQUFTLENBQUNlLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFDcENGLE1BQU0sRUFBRSxNQUFNO01BQ2RDLElBQUksRUFBRTtRQUFFTCxPQUFPLEVBQUU7TUFBSztJQUN4QixDQUFDLENBQUM7SUFDRlosTUFBTSxDQUFDbkIsY0FBUyxDQUFDLENBQUNvQixvQkFBb0IsQ0FBQztNQUNyQ2EsR0FBRyxFQUFFWixvQkFBUyxDQUFDQyxTQUFTLENBQUNnQixPQUFPLENBQUMsR0FBRyxDQUFDO01BQ3JDSCxNQUFNLEVBQUUsTUFBTTtNQUNkQyxJQUFJLEVBQUU7UUFBRUwsT0FBTyxFQUFFO01BQU07SUFDekIsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxFQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119