ba91e63147697205299a6e123ad7a80c
import _asyncToGenerator from "@babel/runtime/helpers/asyncToGenerator";
function cov_2mwnv74ltp() {
  var path = "D:\\coding\\apps\\hms\\hms-frontend\\src\\bootstrap\\init.offline.js";
  var hash = "a799e53193c05db52f11987b0c39931516df20a3";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "D:\\coding\\apps\\hms\\hms-frontend\\src\\bootstrap\\init.offline.js",
    statementMap: {
      "0": {
        start: {
          line: 12,
          column: 2
        },
        end: {
          line: 44,
          column: 3
        }
      },
      "1": {
        start: {
          line: 14,
          column: 4
        },
        end: {
          line: 14,
          column: 37
        }
      },
      "2": {
        start: {
          line: 17,
          column: 4
        },
        end: {
          line: 22,
          column: 7
        }
      },
      "3": {
        start: {
          line: 18,
          column: 23
        },
        end: {
          line: 18,
          column: 50
        }
      },
      "4": {
        start: {
          line: 19,
          column: 22
        },
        end: {
          line: 19,
          column: 66
        }
      },
      "5": {
        start: {
          line: 20,
          column: 6
        },
        end: {
          line: 20,
          column: 50
        }
      },
      "6": {
        start: {
          line: 21,
          column: 6
        },
        end: {
          line: 21,
          column: 50
        }
      },
      "7": {
        start: {
          line: 25,
          column: 26
        },
        end: {
          line: 25,
          column: 67
        }
      },
      "8": {
        start: {
          line: 26,
          column: 21
        },
        end: {
          line: 26,
          column: 53
        }
      },
      "9": {
        start: {
          line: 27,
          column: 20
        },
        end: {
          line: 27,
          column: 69
        }
      },
      "10": {
        start: {
          line: 28,
          column: 4
        },
        end: {
          line: 28,
          column: 48
        }
      },
      "11": {
        start: {
          line: 29,
          column: 4
        },
        end: {
          line: 29,
          column: 48
        }
      },
      "12": {
        start: {
          line: 35,
          column: 4
        },
        end: {
          line: 35,
          column: 30
        }
      },
      "13": {
        start: {
          line: 38,
          column: 4
        },
        end: {
          line: 38,
          column: 28
        }
      },
      "14": {
        start: {
          line: 40,
          column: 4
        },
        end: {
          line: 40,
          column: 59
        }
      },
      "15": {
        start: {
          line: 42,
          column: 4
        },
        end: {
          line: 42,
          column: 76
        }
      }
    },
    fnMap: {
      "0": {
        name: "initOffline",
        decl: {
          start: {
            line: 11,
            column: 22
          },
          end: {
            line: 11,
            column: 33
          }
        },
        loc: {
          start: {
            line: 11,
            column: 36
          },
          end: {
            line: 45,
            column: 1
          }
        },
        line: 11
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 17,
            column: 30
          },
          end: {
            line: 17,
            column: 31
          }
        },
        loc: {
          start: {
            line: 17,
            column: 44
          },
          end: {
            line: 22,
            column: 5
          }
        },
        line: 17
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 19,
            column: 22
          },
          end: {
            line: 19,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 19,
            column: 22
          },
          end: {
            line: 19,
            column: 39
          }
        }, {
          start: {
            line: 19,
            column: 43
          },
          end: {
            line: 19,
            column: 66
          }
        }],
        line: 19
      },
      "1": {
        loc: {
          start: {
            line: 27,
            column: 20
          },
          end: {
            line: 27,
            column: 69
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 27,
            column: 20
          },
          end: {
            line: 27,
            column: 42
          }
        }, {
          start: {
            line: 27,
            column: 46
          },
          end: {
            line: 27,
            column: 69
          }
        }],
        line: 27
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0
    },
    f: {
      "0": 0,
      "1": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "a799e53193c05db52f11987b0c39931516df20a3"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    cov_2mwnv74ltp = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2mwnv74ltp();
import { networkListener, syncManager, hydration } from "../offline";
import { logger } from "../logging";
import store from "../store";
import { actions } from "../store/slices/network.slice";
import { NETWORK_QUALITY } from "../utils/networkQuality";
export function initOffline() {
  return _initOffline.apply(this, arguments);
}
function _initOffline() {
  _initOffline = _asyncToGenerator(function* () {
    cov_2mwnv74ltp().f[0]++;
    cov_2mwnv74ltp().s[0]++;
    try {
      var _ref2;
      cov_2mwnv74ltp().s[1]++;
      networkListener.startListening();
      cov_2mwnv74ltp().s[2]++;
      networkListener.subscribe(function (snapshot) {
        var _ref;
        cov_2mwnv74ltp().f[1]++;
        var isOnline = (cov_2mwnv74ltp().s[3]++, Boolean(snapshot == null ? void 0 : snapshot.isOnline));
        var quality = (cov_2mwnv74ltp().s[4]++, (_ref = (cov_2mwnv74ltp().b[0][0]++, snapshot == null ? void 0 : snapshot.quality)) != null ? _ref : (cov_2mwnv74ltp().b[0][1]++, NETWORK_QUALITY.UNKNOWN));
        cov_2mwnv74ltp().s[5]++;
        store.dispatch(actions.setOnline(isOnline));
        cov_2mwnv74ltp().s[6]++;
        store.dispatch(actions.setQuality(quality));
      });
      var currentStatus = (cov_2mwnv74ltp().s[7]++, yield networkListener.checkConnectivity());
      var isOnline = (cov_2mwnv74ltp().s[8]++, Boolean(currentStatus == null ? void 0 : currentStatus.isOnline));
      var quality = (cov_2mwnv74ltp().s[9]++, (_ref2 = (cov_2mwnv74ltp().b[1][0]++, currentStatus == null ? void 0 : currentStatus.quality)) != null ? _ref2 : (cov_2mwnv74ltp().b[1][1]++, NETWORK_QUALITY.UNKNOWN));
      cov_2mwnv74ltp().s[10]++;
      store.dispatch(actions.setOnline(isOnline));
      cov_2mwnv74ltp().s[11]++;
      store.dispatch(actions.setQuality(quality));
      cov_2mwnv74ltp().s[12]++;
      yield hydration.hydrate();
      cov_2mwnv74ltp().s[13]++;
      syncManager.startSync();
      cov_2mwnv74ltp().s[14]++;
      logger.info('Offline system initialized successfully');
    } catch (error) {
      cov_2mwnv74ltp().s[15]++;
      logger.error('Offline initialization failed', {
        error: error.message
      });
    }
  });
  return _initOffline.apply(this, arguments);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJuZXR3b3JrTGlzdGVuZXIiLCJzeW5jTWFuYWdlciIsImh5ZHJhdGlvbiIsImxvZ2dlciIsInN0b3JlIiwiYWN0aW9ucyIsIk5FVFdPUktfUVVBTElUWSIsImluaXRPZmZsaW5lIiwiX2luaXRPZmZsaW5lIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfYXN5bmNUb0dlbmVyYXRvciIsImNvdl8ybXdudjc0bHRwIiwiZiIsInMiLCJfcmVmMiIsInN0YXJ0TGlzdGVuaW5nIiwic3Vic2NyaWJlIiwic25hcHNob3QiLCJfcmVmIiwiaXNPbmxpbmUiLCJCb29sZWFuIiwicXVhbGl0eSIsImIiLCJVTktOT1dOIiwiZGlzcGF0Y2giLCJzZXRPbmxpbmUiLCJzZXRRdWFsaXR5IiwiY3VycmVudFN0YXR1cyIsImNoZWNrQ29ubmVjdGl2aXR5IiwiaHlkcmF0ZSIsInN0YXJ0U3luYyIsImluZm8iLCJlcnJvciIsIm1lc3NhZ2UiXSwic291cmNlcyI6WyJpbml0Lm9mZmxpbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIE9mZmxpbmUgSW5pdGlhbGl6YXRpb25cclxuICogRmlsZTogaW5pdC5vZmZsaW5lLmpzXHJcbiAqL1xyXG5pbXBvcnQgeyBuZXR3b3JrTGlzdGVuZXIsIHN5bmNNYW5hZ2VyLCBoeWRyYXRpb24gfSBmcm9tICdAb2ZmbGluZSc7XHJcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0Bsb2dnaW5nJztcclxuaW1wb3J0IHN0b3JlIGZyb20gJ0BzdG9yZSc7XHJcbmltcG9ydCB7IGFjdGlvbnMgfSBmcm9tICdAc3RvcmUvc2xpY2VzL25ldHdvcmsuc2xpY2UnO1xyXG5pbXBvcnQgeyBORVRXT1JLX1FVQUxJVFkgfSBmcm9tICdAdXRpbHMvbmV0d29ya1F1YWxpdHknO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRPZmZsaW5lKCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBSZWdpc3RlciBuZXR3b3JrIGxpc3RlbmVyc1xyXG4gICAgbmV0d29ya0xpc3RlbmVyLnN0YXJ0TGlzdGVuaW5nKCk7XHJcbiAgICBcclxuICAgIC8vIFN1YnNjcmliZSB0byBuZXR3b3JrIGNoYW5nZXMgYW5kIHVwZGF0ZSBSZWR1eCBzdG9yZVxyXG4gICAgbmV0d29ya0xpc3RlbmVyLnN1YnNjcmliZSgoc25hcHNob3QpID0+IHtcclxuICAgICAgY29uc3QgaXNPbmxpbmUgPSBCb29sZWFuKHNuYXBzaG90Py5pc09ubGluZSk7XHJcbiAgICAgIGNvbnN0IHF1YWxpdHkgPSBzbmFwc2hvdD8ucXVhbGl0eSA/PyBORVRXT1JLX1FVQUxJVFkuVU5LTk9XTjtcclxuICAgICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9ucy5zZXRPbmxpbmUoaXNPbmxpbmUpKTtcclxuICAgICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9ucy5zZXRRdWFsaXR5KHF1YWxpdHkpKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsaXplIGN1cnJlbnQgbmV0d29yayBzdGF0dXMgaW4gc3RvcmVcclxuICAgIGNvbnN0IGN1cnJlbnRTdGF0dXMgPSBhd2FpdCBuZXR3b3JrTGlzdGVuZXIuY2hlY2tDb25uZWN0aXZpdHkoKTtcclxuICAgIGNvbnN0IGlzT25saW5lID0gQm9vbGVhbihjdXJyZW50U3RhdHVzPy5pc09ubGluZSk7XHJcbiAgICBjb25zdCBxdWFsaXR5ID0gY3VycmVudFN0YXR1cz8ucXVhbGl0eSA/PyBORVRXT1JLX1FVQUxJVFkuVU5LTk9XTjtcclxuICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMuc2V0T25saW5lKGlzT25saW5lKSk7XHJcbiAgICBzdG9yZS5kaXNwYXRjaChhY3Rpb25zLnNldFF1YWxpdHkocXVhbGl0eSkpO1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsaXplIHJlcXVlc3QgcXVldWVcclxuICAgIC8vIFF1ZXVlIGlzIGluaXRpYWxpemVkIGxhemlseSB3aGVuIGZpcnN0IHJlcXVlc3QgaXMgcXVldWVkXHJcbiAgICBcclxuICAgIC8vIFRyaWdnZXIgc3RhdGUgaHlkcmF0aW9uXHJcbiAgICBhd2FpdCBoeWRyYXRpb24uaHlkcmF0ZSgpO1xyXG4gICAgXHJcbiAgICAvLyBTdGFydCBzeW5jIG1hbmFnZXIgKHdpbGwgc3luYyB3aGVuIG9ubGluZSlcclxuICAgIHN5bmNNYW5hZ2VyLnN0YXJ0U3luYygpO1xyXG4gICAgXHJcbiAgICBsb2dnZXIuaW5mbygnT2ZmbGluZSBzeXN0ZW0gaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGxvZ2dlci5lcnJvcignT2ZmbGluZSBpbml0aWFsaXphdGlvbiBmYWlsZWQnLCB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgLy8gT2ZmbGluZSBmYWlsdXJlIGlzIG5vdCBmYXRhbCAtIGFwcCBjYW4gY29udGludWUgd2l0aG91dCBvZmZsaW5lIHN1cHBvcnRcclxuICB9XHJcbn1cclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSUEsU0FBU0EsZUFBZSxFQUFFQyxXQUFXLEVBQUVDLFNBQVM7QUFDaEQsU0FBU0MsTUFBTTtBQUNmLE9BQU9DLEtBQUs7QUFDWixTQUFTQyxPQUFPO0FBQ2hCLFNBQVNDLGVBQWU7QUFFeEIsZ0JBQXNCQyxXQUFXQSxDQUFBO0VBQUEs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