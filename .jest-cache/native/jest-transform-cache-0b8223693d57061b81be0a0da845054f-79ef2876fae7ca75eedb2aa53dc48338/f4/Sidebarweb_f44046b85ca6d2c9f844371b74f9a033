29637d588def85df1e395d281b324849
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireWildcard(require("react"));
var _expoRouter = require("expo-router");
var _hooks = require("../../../../hooks");
var _SidebarWeb = require("./Sidebar.web.styles");
var _SidebarItem = _interopRequireDefault(require("../SidebarItem"));
var _sideMenu = require("../../../../config/sideMenu");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["items", "collapsed", "accessibilityLabel", "testID", "className", "style"];
var isItemActive = function isItemActive(pathname, href) {
  if (!href) return false;
  if (pathname === href) return true;
  if (href !== '/' && pathname.startsWith(href + '/')) return true;
  return false;
};
var SidebarWeb = function SidebarWeb(_ref) {
  var _ref$items = _ref.items,
    items = _ref$items === void 0 ? _sideMenu.SIDE_MENU_ITEMS : _ref$items,
    _ref$collapsed = _ref.collapsed,
    collapsed = _ref$collapsed === void 0 ? false : _ref$collapsed,
    accessibilityLabel = _ref.accessibilityLabel,
    testID = _ref.testID,
    className = _ref.className,
    style = _ref.style,
    rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var _useI18n = (0, _hooks.useI18n)(),
    t = _useI18n.t;
  var pathname = (0, _expoRouter.usePathname)();
  var topLevel = (0, _react.useMemo)(function () {
    return Array.isArray(items) ? items : [];
  }, [items]);
  return (0, _jsxRuntime.jsx)(_SidebarWeb.StyledSidebar, Object.assign({
    collapsed: collapsed,
    accessibilityRole: "navigation",
    accessibilityLabel: accessibilityLabel || t('navigation.sidebar.title'),
    testID: testID,
    className: className,
    style: style
  }, rest, {
    children: (0, _jsxRuntime.jsx)(_SidebarWeb.StyledSidebarContent, {
      $collapsed: collapsed,
      children: topLevel.map(function (item) {
        var _item$href, _item$label;
        var href = (_item$href = item.href) != null ? _item$href : item.path;
        var i18nKey = item.id ? `navigation.items.main.${item.id}` : '';
        var translated = i18nKey ? t(i18nKey) : '';
        var label = translated && translated !== i18nKey ? translated : (_item$label = item.label) != null ? _item$label : '';
        var active = isItemActive(pathname, href);
        return (0, _jsxRuntime.jsx)(_SidebarItem.default, {
          item: Object.assign({}, item, {
            href: href,
            label: label,
            path: href
          }),
          collapsed: collapsed,
          active: active
        }, item.id);
      })
    })
  }));
};
var _default = exports.default = SidebarWeb;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZXhwb1JvdXRlciIsIl9ob29rcyIsIl9TaWRlYmFyV2ViIiwiX1NpZGViYXJJdGVtIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9zaWRlTWVudSIsIl9qc3hSdW50aW1lIiwiX2V4Y2x1ZGVkIiwiaXNJdGVtQWN0aXZlIiwicGF0aG5hbWUiLCJocmVmIiwic3RhcnRzV2l0aCIsIlNpZGViYXJXZWIiLCJfcmVmIiwiX3JlZiRpdGVtcyIsIml0ZW1zIiwiU0lERV9NRU5VX0lURU1TIiwiX3JlZiRjb2xsYXBzZWQiLCJjb2xsYXBzZWQiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJ0ZXN0SUQiLCJjbGFzc05hbWUiLCJzdHlsZSIsInJlc3QiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiZGVmYXVsdCIsIl91c2VJMThuIiwidXNlSTE4biIsInQiLCJ1c2VQYXRobmFtZSIsInRvcExldmVsIiwidXNlTWVtbyIsIkFycmF5IiwiaXNBcnJheSIsImpzeCIsIlN0eWxlZFNpZGViYXIiLCJPYmplY3QiLCJhc3NpZ24iLCJhY2Nlc3NpYmlsaXR5Um9sZSIsImNoaWxkcmVuIiwiU3R5bGVkU2lkZWJhckNvbnRlbnQiLCIkY29sbGFwc2VkIiwibWFwIiwiaXRlbSIsIl9pdGVtJGhyZWYiLCJfaXRlbSRsYWJlbCIsInBhdGgiLCJpMThuS2V5IiwiaWQiLCJ0cmFuc2xhdGVkIiwibGFiZWwiLCJhY3RpdmUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyJTaWRlYmFyLndlYi5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHVzZVBhdGhuYW1lIH0gZnJvbSAnZXhwby1yb3V0ZXInO1xyXG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAnQGhvb2tzJztcclxuaW1wb3J0IHtcclxuICBTdHlsZWRTaWRlYmFyLFxyXG4gIFN0eWxlZFNpZGViYXJDb250ZW50LFxyXG59IGZyb20gJy4vU2lkZWJhci53ZWIuc3R5bGVzJztcclxuaW1wb3J0IFNpZGViYXJJdGVtIGZyb20gJ0BwbGF0Zm9ybS9jb21wb25lbnRzL25hdmlnYXRpb24vU2lkZWJhckl0ZW0nO1xyXG5pbXBvcnQgeyBTSURFX01FTlVfSVRFTVMgfSBmcm9tICdAY29uZmlnL3NpZGVNZW51JztcclxuXHJcbmNvbnN0IGlzSXRlbUFjdGl2ZSA9IChwYXRobmFtZSwgaHJlZikgPT4ge1xyXG4gIGlmICghaHJlZikgcmV0dXJuIGZhbHNlO1xyXG4gIGlmIChwYXRobmFtZSA9PT0gaHJlZikgcmV0dXJuIHRydWU7XHJcbiAgaWYgKGhyZWYgIT09ICcvJyAmJiBwYXRobmFtZS5zdGFydHNXaXRoKGhyZWYgKyAnLycpKSByZXR1cm4gdHJ1ZTtcclxuICByZXR1cm4gZmFsc2U7XHJcbn07XHJcblxyXG4vKipcclxuICogU2lkZWJhciBjb21wb25lbnQgZm9yIFdlYlxyXG4gKiBSZW5kZXJzIG5hdiBpdGVtcyB3aXRoIHBhdGhuYW1lLWJhc2VkIGFjdGl2ZSBzdGF0ZSBhbmQgbG9jYWxpemVkIGxhYmVscy5cclxuICovXHJcbmNvbnN0IFNpZGViYXJXZWIgPSAoe1xyXG4gIGl0ZW1zID0gU0lERV9NRU5VX0lURU1TLFxyXG4gIGNvbGxhcHNlZCA9IGZhbHNlLFxyXG4gIGFjY2Vzc2liaWxpdHlMYWJlbCxcclxuICB0ZXN0SUQsXHJcbiAgY2xhc3NOYW1lLFxyXG4gIHN0eWxlLFxyXG4gIC4uLnJlc3RcclxufSkgPT4ge1xyXG4gIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xyXG4gIGNvbnN0IHBhdGhuYW1lID0gdXNlUGF0aG5hbWUoKTtcclxuICBjb25zdCB0b3BMZXZlbCA9IHVzZU1lbW8oKCkgPT4gKEFycmF5LmlzQXJyYXkoaXRlbXMpID8gaXRlbXMgOiBbXSksIFtpdGVtc10pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPFN0eWxlZFNpZGViYXJcclxuICAgICAgY29sbGFwc2VkPXtjb2xsYXBzZWR9XHJcbiAgICAgIGFjY2Vzc2liaWxpdHlSb2xlPVwibmF2aWdhdGlvblwiXHJcbiAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbD17YWNjZXNzaWJpbGl0eUxhYmVsIHx8IHQoJ25hdmlnYXRpb24uc2lkZWJhci50aXRsZScpfVxyXG4gICAgICB0ZXN0SUQ9e3Rlc3RJRH1cclxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XHJcbiAgICAgIHN0eWxlPXtzdHlsZX1cclxuICAgICAgey4uLnJlc3R9XHJcbiAgICA+XHJcbiAgICAgIDxTdHlsZWRTaWRlYmFyQ29udGVudCAkY29sbGFwc2VkPXtjb2xsYXBzZWR9PlxyXG4gICAgICAgIHt0b3BMZXZlbC5tYXAoKGl0ZW0pID0+IHtcclxuICAgICAgICAgIGNvbnN0IGhyZWYgPSBpdGVtLmhyZWYgPz8gaXRlbS5wYXRoO1xyXG4gICAgICAgICAgY29uc3QgaTE4bktleSA9IGl0ZW0uaWQgPyBgbmF2aWdhdGlvbi5pdGVtcy5tYWluLiR7aXRlbS5pZH1gIDogJyc7XHJcbmNvbnN0IHRyYW5zbGF0ZWQgPSBpMThuS2V5ID8gdChpMThuS2V5KSA6ICcnO1xyXG5jb25zdCBsYWJlbCA9ICh0cmFuc2xhdGVkICYmIHRyYW5zbGF0ZWQgIT09IGkxOG5LZXkpID8gdHJhbnNsYXRlZCA6IChpdGVtLmxhYmVsID8/ICcnKTtcclxuICAgICAgICAgIGNvbnN0IGFjdGl2ZSA9IGlzSXRlbUFjdGl2ZShwYXRobmFtZSwgaHJlZik7XHJcbiAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8U2lkZWJhckl0ZW1cclxuICAgICAgICAgICAgICBrZXk9e2l0ZW0uaWR9XHJcbiAgICAgICAgICAgICAgaXRlbT17eyAuLi5pdGVtLCBocmVmLCBsYWJlbCwgcGF0aDogaHJlZiB9fVxyXG4gICAgICAgICAgICAgIGNvbGxhcHNlZD17Y29sbGFwc2VkfVxyXG4gICAgICAgICAgICAgIGFjdGl2ZT17YWN0aXZlfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KX1cclxuICAgICAgPC9TdHlsZWRTaWRlYmFyQ29udGVudD5cclxuICAgIDwvU3R5bGVkU2lkZWJhcj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2lkZWJhcldlYjtcclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFdBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLFdBQUEsR0FBQUgsT0FBQTtBQUlBLElBQUFJLFlBQUEsR0FBQUMsc0JBQUEsQ0FBQUwsT0FBQTtBQUNBLElBQUFNLFNBQUEsR0FBQU4sT0FBQTtBQUFtRCxJQUFBTyxXQUFBLEdBQUFQLE9BQUE7QUFBQSxJQUFBUSxTQUFBO0FBRW5ELElBQU1DLFlBQVksR0FBRyxTQUFmQSxZQUFZQSxDQUFJQyxRQUFRLEVBQUVDLElBQUksRUFBSztFQUN2QyxJQUFJLENBQUNBLElBQUksRUFBRSxPQUFPLEtBQUs7RUFDdkIsSUFBSUQsUUFBUSxLQUFLQyxJQUFJLEVBQUUsT0FBTyxJQUFJO0VBQ2xDLElBQUlBLElBQUksS0FBSyxHQUFHLElBQUlELFFBQVEsQ0FBQ0UsVUFBVSxDQUFDRCxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUUsT0FBTyxJQUFJO0VBQ2hFLE9BQU8sS0FBSztBQUNkLENBQUM7QUFNRCxJQUFNRSxVQUFVLEdBQUcsU0FBYkEsVUFBVUEsQ0FBQUMsSUFBQSxFQVFWO0VBQUEsSUFBQUMsVUFBQSxHQUFBRCxJQUFBLENBUEpFLEtBQUs7SUFBTEEsS0FBSyxHQUFBRCxVQUFBLGNBQUdFLHlCQUFlLEdBQUFGLFVBQUE7SUFBQUcsY0FBQSxHQUFBSixJQUFBLENBQ3ZCSyxTQUFTO0lBQVRBLFNBQVMsR0FBQUQsY0FBQSxjQUFHLEtBQUssR0FBQUEsY0FBQTtJQUNqQkUsa0JBQWtCLEdB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