c5c7ed54b33a7fc74090611757a62472
_getJestObj().mock("../../navigation/guards", function () {
  return {
    useAuthGuard: jest.fn()
  };
});
_getJestObj().mock('expo-router', function () {
  return {
    useRouter: jest.fn(function () {
      return {
        replace: mockReplace,
        push: mockPush,
        back: jest.fn(),
        canGoBack: jest.fn(function () {
          return true;
        })
      };
    }),
    usePathname: jest.fn(function () {
      return '/login';
    }),
    useSegments: jest.fn(function () {
      return [];
    }),
    useLocalSearchParams: jest.fn(function () {
      return {};
    }),
    useGlobalSearchParams: jest.fn(function () {
      return {};
    }),
    Slot: function Slot(_ref) {
      var children = _ref.children;
      return children || null;
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactRedux = require("react-redux");
var _reactNative = require("@testing-library/react-native");
var _toolkit = require("@reduxjs/toolkit");
var _rootReducer = _interopRequireDefault(require("../../store/rootReducer"));
var _layout = _interopRequireDefault(require("../../app/(auth)/_layout"));
var _guards = require("../../navigation/guards");
var _expoRouter = require("expo-router");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockReplace = jest.fn();
var mockPush = jest.fn();
var createMockStore = function createMockStore() {
  var overrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var base = {
    ui: {
      theme: 'light',
      locale: 'en',
      isLoading: false,
      isAuthenticated: false,
      user: null
    },
    network: {
      isOnline: true
    },
    auth: {
      isAuthenticated: false,
      user: null,
      isLoading: false,
      errorCode: null
    }
  };
  return (0, _toolkit.configureStore)({
    reducer: _rootReducer.default,
    preloadedState: Object.assign({}, base, overrides)
  });
};
var renderWithStore = function renderWithStore(store) {
  return (0, _reactNative.render)((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
    store: store,
    children: (0, _jsxRuntime.jsx)(_layout.default, {})
  }));
};
describe('AuthLayout with Auth Guard (Step 7.14)', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    _expoRouter.usePathname.mockReturnValue('/login');
  });
  it('should not redirect when unauthenticated', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: false,
      user: null
    });
    var store = createMockStore();
    renderWithStore(store);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).not.toHaveBeenCalled();
    });
  }));
  it('should redirect authenticated users to home route', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: {
        id: '1',
        email: 'test@example.com'
      }
    });
    var store = createMockStore({
      auth: {
        isAuthenticated: true,
        user: {
          id: '1',
          email: 'test@example.com'
        },
        isLoading: false,
        errorCode: null
      }
    });
    renderWithStore(store);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
  }));
  it('should allow register route for authorized roles', (0, _asyncToGenerator2.default)(function* () {
    _expoRouter.usePathname.mockReturnValue('/register');
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: {
        id: '1',
        email: 'test@example.com',
        roles: ['admin']
      }
    });
    var store = createMockStore({
      auth: {
        isAuthenticated: true,
        user: {
          id: '1',
          email: 'test@example.com',
          roles: ['admin']
        },
        isLoading: false,
        errorCode: null
      }
    });
    renderWithStore(store);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).not.toHaveBeenCalled();
    });
  }));
  it('should redirect from register route when user lacks access', (0, _asyncToGenerator2.default)(function* () {
    _expoRouter.usePathname.mockReturnValue('/register');
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: {
        id: '1',
        email: 'test@example.com'
      }
    });
    var store = createMockStore({
      auth: {
        isAuthenticated: true,
        user: {
          id: '1',
          email: 'test@example.com'
        },
        isLoading: false,
        errorCode: null
      }
    });
    renderWithStore(store);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
  }));
  it('should redirect only once when authenticated (idempotent)', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: {
        id: '1',
        email: 'test@example.com'
      }
    });
    var store = createMockStore({
      auth: {
        isAuthenticated: true,
        user: {
          id: '1',
          email: 'test@example.com'
        },
        isLoading: false,
        errorCode: null
      }
    });
    var _renderWithStore = renderWithStore(store),
      rerender = _renderWithStore.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledTimes(1);
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
    rerender((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
      store: store,
      children: (0, _jsxRuntime.jsx)(_layout.default, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledTimes(1);
    });
  }));
  it('should handle transition from unauthenticated to authenticated', (0, _asyncToGenerator2.default)(function* () {
    var authenticated = false;
    _guards.useAuthGuard.mockImplementation(function () {
      return {
        authenticated: authenticated,
        user: authenticated ? {
          id: '1',
          email: 'test@example.com'
        } : null
      };
    });
    var store = createMockStore();
    var _renderWithStore2 = renderWithStore(store),
      rerender = _renderWithStore2.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).not.toHaveBeenCalled();
    });
    authenticated = true;
    mockReplace.mockClear();
    rerender((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
      store: store,
      children: (0, _jsxRuntime.jsx)(_layout.default, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
  }));
  it('should handle transition from authenticated to unauthenticated', (0, _asyncToGenerator2.default)(function* () {
    var authenticated = true;
    _guards.useAuthGuard.mockImplementation(function () {
      return {
        authenticated: authenticated,
        user: authenticated ? {
          id: '1',
          email: 'test@example.com'
        } : null
      };
    });
    var store = createMockStore({
      auth: {
        isAuthenticated: true,
        user: {
          id: '1'
        },
        isLoading: false,
        errorCode: null
      }
    });
    var _renderWithStore3 = renderWithStore(store),
      rerender = _renderWithStore3.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
    authenticated = false;
    mockReplace.mockClear();
    rerender((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
      store: store,
      children: (0, _jsxRuntime.jsx)(_layout.default, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).not.toHaveBeenCalled();
    });
  }));
  it('should reset redirect flag when transitioning to unauthenticated then back', (0, _asyncToGenerator2.default)(function* () {
    var authenticated = true;
    _guards.useAuthGuard.mockImplementation(function () {
      return {
        authenticated: authenticated,
        user: authenticated ? {
          id: '1',
          email: 'test@example.com'
        } : null
      };
    });
    var store = createMockStore({
      auth: {
        isAuthenticated: true,
        user: {
          id: '1'
        },
        isLoading: false,
        errorCode: null
      }
    });
    var _renderWithStore4 = renderWithStore(store),
      rerender = _renderWithStore4.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
    authenticated = false;
    mockReplace.mockClear();
    rerender((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
      store: store,
      children: (0, _jsxRuntime.jsx)(_layout.default, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).not.toHaveBeenCalled();
    });
    authenticated = true;
    rerender((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
      store: store,
      children: (0, _jsxRuntime.jsx)(_layout.default, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
  }));
  it('should call useAuthGuard with skipRedirect: true', function () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: false,
      user: null
    });
    var store = createMockStore();
    renderWithStore(store);
    expect(_guards.useAuthGuard).toHaveBeenCalledWith({
      skipRedirect: true
    });
  });
  it('should handle useAuthGuard returning undefined authenticated', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: undefined,
      user: null
    });
    var store = createMockStore();
    renderWithStore(store);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).not.toHaveBeenCalled();
    });
  }));
  it('should redirect when authenticated even if user is null', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: null
    });
    var store = createMockStore({
      auth: {
        isAuthenticated: true,
        user: null,
        isLoading: false,
        errorCode: null
      }
    });
    renderWithStore(store);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VBdXRoR3VhcmQiLCJqZXN0IiwiZm4iLCJ1c2VSb3V0ZXIiLCJyZXBsYWNlIiwibW9ja1JlcGxhY2UiLCJwdXNoIiwibW9ja1B1c2giLCJiYWNrIiwiY2FuR29CYWNrIiwidXNlUGF0aG5hbWUiLCJ1c2VTZWdtZW50cyIsInVzZUxvY2FsU2VhcmNoUGFyYW1zIiwidXNlR2xvYmFsU2VhcmNoUGFyYW1zIiwiU2xvdCIsIl9yZWYiLCJjaGlsZHJlbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZGVmYXVsdCIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdFJlZHV4IiwiX3JlYWN0TmF0aXZlIiwiX3Rvb2xraXQiLCJfcm9vdFJlZHVjZXIiLCJfbGF5b3V0IiwiX2d1YXJkcyIsIl9leHBvUm91dGVyIiwiX2pzeFJ1bnRpbWUiLCJfcmVxdWlyZSIsImNyZWF0ZU1vY2tTdG9yZSIsIm92ZXJyaWRlcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImJhc2UiLCJ1aSIsInRoZW1lIiwibG9jYWxlIiwiaXNMb2FkaW5nIiwiaXNBdXRoZW50aWNhdGVkIiwidXNlciIsIm5ldHdvcmsiLCJpc09ubGluZSIsImF1dGgiLCJlcnJvckNvZGUiLCJjb25maWd1cmVTdG9yZSIsInJlZHVjZXIiLCJyb290UmVkdWNlciIsInByZWxvYWRlZFN0YXRlIiwiT2JqZWN0IiwiYXNzaWduIiwicmVuZGVyV2l0aFN0b3JlIiwic3RvcmUiLCJyZW5kZXIiLCJqc3giLCJQcm92aWRlciIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmV0dXJuVmFsdWUiLCJpdCIsImF1dGhlbnRpY2F0ZWQiLCJ3YWl0Rm9yIiwiZXhwZWN0Iiwibm90IiwidG9IYXZlQmVlbkNhbGxlZCIsImlkIiwiZW1haWwiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInJvbGVzIiwiX3JlbmRlcldpdGhTdG9yZSIsInJlcmVuZGVyIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiX3JlbmRlcldpdGhTdG9yZTIiLCJtb2NrQ2xlYXIiLCJfcmVuZGVyV2l0aFN0b3JlMyIsIl9yZW5kZXJXaXRoU3RvcmU0Iiwic2tpcFJlZGlyZWN0Il0sInNvdXJjZXMiOlsiYXV0aC1sYXlvdXQtZ3VhcmQudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQXV0aCBMYXlvdXQgR3VhcmQgVGVzdHMgKFN0ZXAgNy4xNClcclxuICpcclxuICogVGVzdHMgZm9yIGF1dGggbGF5b3V0IHdpdGggYXV0aCBndWFyZCBpbnRlZ3JhdGlvbjpcclxuICogLSBVbmF1dGhlbnRpY2F0ZWQgdXNlcnMgY2FuIGFjY2VzcyBhdXRoIHJvdXRlcyAobm8gcmVkaXJlY3QpXHJcbiAqIC0gQXV0aGVudGljYXRlZCB1c2VycyBhcmUgcmVkaXJlY3RlZCB0byBob21lIHJvdXRlIHdoZW4gYWNjZXNzaW5nIGF1dGggcm91dGVzXHJcbiAqIC0gQWxsIGJyYW5jaGVzIChhdXRoZW50aWNhdGVkIHZzIHVuYXV0aGVudGljYXRlZCBzdGF0ZXMpXHJcbiAqIC0gSW50ZWdyYXRpb24gYmV0d2VlbiBsYXlvdXQgYW5kIGd1YXJkIGhvb2tcclxuICpcclxuICogUGVyIHRlc3RpbmcubWRjOiAxMDAlIGNvdmVyYWdlIHJlcXVpcmVkIChjcml0aWNhbCBwYXRoOiBhdXRoL2FjY2VzcyBjb250cm9sKVxyXG4gKi9cclxuXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgeyByZW5kZXIsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XHJcbmltcG9ydCB7IGNvbmZpZ3VyZVN0b3JlIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XHJcbmltcG9ydCByb290UmVkdWNlciBmcm9tICdAc3RvcmUvcm9vdFJlZHVjZXInO1xyXG5pbXBvcnQgQXV0aExheW91dCBmcm9tICdAYXBwLyhhdXRoKS9fbGF5b3V0JztcclxuaW1wb3J0IHsgdXNlQXV0aEd1YXJkIH0gZnJvbSAnQG5hdmlnYXRpb24vZ3VhcmRzJztcclxuaW1wb3J0IHsgdXNlUGF0aG5hbWUsIHVzZVJvdXRlciB9IGZyb20gJ2V4cG8tcm91dGVyJztcclxuXHJcbmplc3QubW9jaygnQG5hdmlnYXRpb24vZ3VhcmRzJywgKCkgPT4gKHtcclxuICB1c2VBdXRoR3VhcmQ6IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuY29uc3QgbW9ja1JlcGxhY2UgPSBqZXN0LmZuKCk7XHJcbmNvbnN0IG1vY2tQdXNoID0gamVzdC5mbigpO1xyXG5cclxuamVzdC5tb2NrKCdleHBvLXJvdXRlcicsICgpID0+ICh7XHJcbiAgdXNlUm91dGVyOiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICByZXBsYWNlOiBtb2NrUmVwbGFjZSxcclxuICAgIHB1c2g6IG1vY2tQdXNoLFxyXG4gICAgYmFjazogamVzdC5mbigpLFxyXG4gICAgY2FuR29CYWNrOiBqZXN0LmZuKCgpID0+IHRydWUpLFxyXG4gIH0pKSxcclxuICB1c2VQYXRobmFtZTogamVzdC5mbigoKSA9PiAnL2xvZ2luJyksXHJcbiAgdXNlU2VnbWVudHM6IGplc3QuZm4oKCkgPT4gW10pLFxyXG4gIHVzZUxvY2FsU2VhcmNoUGFyYW1zOiBqZXN0LmZuKCgpID0+ICh7fSkpLFxyXG4gIHVzZUdsb2JhbFNlYXJjaFBhcmFtczogamVzdC5mbigoKSA9PiAoe30pKSxcclxuICBTbG90OiAoeyBjaGlsZHJlbiB9KSA9PiBjaGlsZHJlbiB8fCBudWxsLFxyXG59KSk7XHJcblxyXG5jb25zdCBjcmVhdGVNb2NrU3RvcmUgPSAob3ZlcnJpZGVzID0ge30pID0+IHtcclxuICBjb25zdCBiYXNlID0ge1xyXG4gICAgdWk6IHtcclxuICAgICAgdGhlbWU6ICdsaWdodCcsXHJcbiAgICAgIGxvY2FsZTogJ2VuJyxcclxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcclxuICAgICAgdXNlcjogbnVsbCxcclxuICAgIH0sXHJcbiAgICBuZXR3b3JrOiB7IGlzT25saW5lOiB0cnVlIH0sXHJcbiAgICBhdXRoOiB7IGlzQXV0aGVudGljYXRlZDogZmFsc2UsIHVzZXI6IG51bGwsIGlzTG9hZGluZzogZmFsc2UsIGVycm9yQ29kZTogbnVsbCB9LFxyXG4gIH07XHJcbiAgcmV0dXJuIGNvbmZpZ3VyZVN0b3JlKHtcclxuICAgIHJlZHVjZXI6IHJvb3RSZWR1Y2VyLFxyXG4gICAgcHJlbG9hZGVkU3RhdGU6IHsgLi4uYmFzZSwgLi4ub3ZlcnJpZGVzIH0sXHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJXaXRoU3RvcmUgPSAoc3RvcmUpID0+XHJcbiAgcmVuZGVyKFxyXG4gICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XHJcbiAgICAgIDxBdXRoTGF5b3V0IC8+XHJcbiAgICA8L1Byb3ZpZGVyPlxyXG4gICk7XHJcblxyXG5kZXNjcmliZSgnQXV0aExheW91dCB3aXRoIEF1dGggR3VhcmQgKFN0ZXAgNy4xNCknLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgIHVzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2xvZ2luJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgbm90IHJlZGlyZWN0IHdoZW4gdW5hdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgdXNlQXV0aEd1YXJkLm1vY2tSZXR1cm5WYWx1ZSh7IGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLCB1c2VyOiBudWxsIH0pO1xyXG4gICAgY29uc3Qgc3RvcmUgPSBjcmVhdGVNb2NrU3RvcmUoKTtcclxuXHJcbiAgICByZW5kZXJXaXRoU3RvcmUoc3RvcmUpO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QobW9ja1JlcGxhY2UpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZWRpcmVjdCBhdXRoZW50aWNhdGVkIHVzZXJzIHRvIGhvbWUgcm91dGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICB1c2VBdXRoR3VhcmQubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcclxuICAgICAgdXNlcjogeyBpZDogJzEnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0sXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHN0b3JlID0gY3JlYXRlTW9ja1N0b3JlKHtcclxuICAgICAgYXV0aDogeyBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsIHVzZXI6IHsgaWQ6ICcxJywgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyB9LCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvckNvZGU6IG51bGwgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJlbmRlcldpdGhTdG9yZShzdG9yZSk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9ob21lJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBhbGxvdyByZWdpc3RlciByb3V0ZSBmb3IgYXV0aG9yaXplZCByb2xlcycsIGFzeW5jICgpID0+IHtcclxuICAgIHVzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL3JlZ2lzdGVyJyk7XHJcbiAgICB1c2VBdXRoR3VhcmQubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcclxuICAgICAgdXNlcjogeyBpZDogJzEnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLCByb2xlczogWydhZG1pbiddIH0sXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHN0b3JlID0gY3JlYXRlTW9ja1N0b3JlKHtcclxuICAgICAgYXV0aDoge1xyXG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogdHJ1ZSxcclxuICAgICAgICB1c2VyOiB7IGlkOiAnMScsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsIHJvbGVzOiBbJ2FkbWluJ10gfSxcclxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yQ29kZTogbnVsbCxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJlbmRlcldpdGhTdG9yZShzdG9yZSk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHJlZGlyZWN0IGZyb20gcmVnaXN0ZXIgcm91dGUgd2hlbiB1c2VyIGxhY2tzIGFjY2VzcycsIGFzeW5jICgpID0+IHtcclxuICAgIHVzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL3JlZ2lzdGVyJyk7XHJcbiAgICB1c2VBdXRoR3VhcmQubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcclxuICAgICAgdXNlcjogeyBpZDogJzEnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0sXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHN0b3JlID0gY3JlYXRlTW9ja1N0b3JlKHtcclxuICAgICAgYXV0aDogeyBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsIHVzZXI6IHsgaWQ6ICcxJywgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyB9LCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvckNvZGU6IG51bGwgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJlbmRlcldpdGhTdG9yZShzdG9yZSk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9ob21lJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZWRpcmVjdCBvbmx5IG9uY2Ugd2hlbiBhdXRoZW50aWNhdGVkIChpZGVtcG90ZW50KScsIGFzeW5jICgpID0+IHtcclxuICAgIHVzZUF1dGhHdWFyZC5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxyXG4gICAgICB1c2VyOiB7IGlkOiAnMScsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfSxcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc3RvcmUgPSBjcmVhdGVNb2NrU3RvcmUoe1xyXG4gICAgICBhdXRoOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjogeyBpZDogJzEnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0sIGlzTG9hZGluZzogZmFsc2UsIGVycm9yQ29kZTogbnVsbCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyV2l0aFN0b3JlKHN0b3JlKTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KG1vY2tSZXBsYWNlKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9ob21lJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXJlbmRlcihcclxuICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XHJcbiAgICAgICAgPEF1dGhMYXlvdXQgLz5cclxuICAgICAgPC9Qcm92aWRlcj5cclxuICAgICk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGFuZGxlIHRyYW5zaXRpb24gZnJvbSB1bmF1dGhlbnRpY2F0ZWQgdG8gYXV0aGVudGljYXRlZCcsIGFzeW5jICgpID0+IHtcclxuICAgIGxldCBhdXRoZW50aWNhdGVkID0gZmFsc2U7XHJcbiAgICB1c2VBdXRoR3VhcmQubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XHJcbiAgICAgIGF1dGhlbnRpY2F0ZWQsXHJcbiAgICAgIHVzZXI6IGF1dGhlbnRpY2F0ZWQgPyB7IGlkOiAnMScsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfSA6IG51bGwsXHJcbiAgICB9KSk7XHJcbiAgICBjb25zdCBzdG9yZSA9IGNyZWF0ZU1vY2tTdG9yZSgpO1xyXG5cclxuICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcldpdGhTdG9yZShzdG9yZSk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF1dGhlbnRpY2F0ZWQgPSB0cnVlO1xyXG4gICAgbW9ja1JlcGxhY2UubW9ja0NsZWFyKCk7XHJcbiAgICByZXJlbmRlcihcclxuICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XHJcbiAgICAgICAgPEF1dGhMYXlvdXQgLz5cclxuICAgICAgPC9Qcm92aWRlcj5cclxuICAgICk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9ob21lJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBoYW5kbGUgdHJhbnNpdGlvbiBmcm9tIGF1dGhlbnRpY2F0ZWQgdG8gdW5hdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgbGV0IGF1dGhlbnRpY2F0ZWQgPSB0cnVlO1xyXG4gICAgdXNlQXV0aEd1YXJkLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xyXG4gICAgICBhdXRoZW50aWNhdGVkLFxyXG4gICAgICB1c2VyOiBhdXRoZW50aWNhdGVkID8geyBpZDogJzEnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0gOiBudWxsLFxyXG4gICAgfSkpO1xyXG4gICAgY29uc3Qgc3RvcmUgPSBjcmVhdGVNb2NrU3RvcmUoe1xyXG4gICAgICBhdXRoOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjogeyBpZDogJzEnIH0sIGlzTG9hZGluZzogZmFsc2UsIGVycm9yQ29kZTogbnVsbCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyV2l0aFN0b3JlKHN0b3JlKTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KG1vY2tSZXBsYWNlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2hvbWUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcclxuICAgIG1vY2tSZXBsYWNlLm1vY2tDbGVhcigpO1xyXG4gICAgcmVyZW5kZXIoXHJcbiAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxyXG4gICAgICAgIDxBdXRoTGF5b3V0IC8+XHJcbiAgICAgIDwvUHJvdmlkZXI+XHJcbiAgICApO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QobW9ja1JlcGxhY2UpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZXNldCByZWRpcmVjdCBmbGFnIHdoZW4gdHJhbnNpdGlvbmluZyB0byB1bmF1dGhlbnRpY2F0ZWQgdGhlbiBiYWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgbGV0IGF1dGhlbnRpY2F0ZWQgPSB0cnVlO1xyXG4gICAgdXNlQXV0aEd1YXJkLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xyXG4gICAgICBhdXRoZW50aWNhdGVkLFxyXG4gICAgICB1c2VyOiBhdXRoZW50aWNhdGVkID8geyBpZDogJzEnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0gOiBudWxsLFxyXG4gICAgfSkpO1xyXG4gICAgY29uc3Qgc3RvcmUgPSBjcmVhdGVNb2NrU3RvcmUoe1xyXG4gICAgICBhdXRoOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjogeyBpZDogJzEnIH0sIGlzTG9hZGluZzogZmFsc2UsIGVycm9yQ29kZTogbnVsbCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyV2l0aFN0b3JlKHN0b3JlKTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KG1vY2tSZXBsYWNlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2hvbWUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcclxuICAgIG1vY2tSZXBsYWNlLm1vY2tDbGVhcigpO1xyXG4gICAgcmVyZW5kZXIoXHJcbiAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxyXG4gICAgICAgIDxBdXRoTGF5b3V0IC8+XHJcbiAgICAgIDwvUHJvdmlkZXI+XHJcbiAgICApO1xyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF1dGhlbnRpY2F0ZWQgPSB0cnVlO1xyXG4gICAgcmVyZW5kZXIoXHJcbiAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxyXG4gICAgICAgIDxBdXRoTGF5b3V0IC8+XHJcbiAgICAgIDwvUHJvdmlkZXI+XHJcbiAgICApO1xyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9ob21lJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBjYWxsIHVzZUF1dGhHdWFyZCB3aXRoIHNraXBSZWRpcmVjdDogdHJ1ZScsICgpID0+IHtcclxuICAgIHVzZUF1dGhHdWFyZC5tb2NrUmV0dXJuVmFsdWUoeyBhdXRoZW50aWNhdGVkOiBmYWxzZSwgdXNlcjogbnVsbCB9KTtcclxuICAgIGNvbnN0IHN0b3JlID0gY3JlYXRlTW9ja1N0b3JlKCk7XHJcblxyXG4gICAgcmVuZGVyV2l0aFN0b3JlKHN0b3JlKTtcclxuXHJcbiAgICBleHBlY3QodXNlQXV0aEd1YXJkKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IHNraXBSZWRpcmVjdDogdHJ1ZSB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBoYW5kbGUgdXNlQXV0aEd1YXJkIHJldHVybmluZyB1bmRlZmluZWQgYXV0aGVudGljYXRlZCcsIGFzeW5jICgpID0+IHtcclxuICAgIHVzZUF1dGhHdWFyZC5tb2NrUmV0dXJuVmFsdWUoeyBhdXRoZW50aWNhdGVkOiB1bmRlZmluZWQsIHVzZXI6IG51bGwgfSk7XHJcbiAgICBjb25zdCBzdG9yZSA9IGNyZWF0ZU1vY2tTdG9yZSgpO1xyXG5cclxuICAgIHJlbmRlcldpdGhTdG9yZShzdG9yZSk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHJlZGlyZWN0IHdoZW4gYXV0aGVudGljYXRlZCBldmVuIGlmIHVzZXIgaXMgbnVsbCcsIGFzeW5jICgpID0+IHtcclxuICAgIHVzZUF1dGhHdWFyZC5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxyXG4gICAgICB1c2VyOiBudWxsLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBzdG9yZSA9IGNyZWF0ZU1vY2tTdG9yZSh7XHJcbiAgICAgIGF1dGg6IHsgaXNBdXRoZW50aWNhdGVkOiB0cnVlLCB1c2VyOiBudWxsLCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvckNvZGU6IG51bGwgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJlbmRlcldpdGhTdG9yZShzdG9yZSk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9ob21lJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBcUJBQSxXQUFBLEdBQUtDLElBQUksNEJBQXVCO0VBQUEsT0FBTztJQUNyQ0MsWUFBWSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUN4QixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBS0hKLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGFBQWEsRUFBRTtFQUFBLE9BQU87SUFDOUJJLFNBQVMsRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFBQSxPQUFPO1FBQ3hCRSxPQUFPLEVBQUVDLFdBQVc7UUFDcEJDLElBQUksRUFBRUMsUUFBUTtRQUNkQyxJQUFJLEVBQUVQLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7UUFDZk8sU0FBUyxFQUFFUixJQUFJLENBQUNDLEVBQUUsQ0FBQztVQUFBLE9BQU0sSUFBSTtRQUFBO01BQy9CLENBQUM7SUFBQSxDQUFDLENBQUM7SUFDSFEsV0FBVyxFQUFFVCxJQUFJLENBQUNDLEVBQUUsQ0FBQztNQUFBLE9BQU0sUUFBUTtJQUFBLEVBQUM7SUFDcENTLFdBQVcsRUFBRVYsSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFBQSxPQUFNLEVBQUU7SUFBQSxFQUFDO0lBQzlCVSxvQkFBb0IsRUFBRVgsSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFBQSxPQUFPLENBQUMsQ0FBQztJ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