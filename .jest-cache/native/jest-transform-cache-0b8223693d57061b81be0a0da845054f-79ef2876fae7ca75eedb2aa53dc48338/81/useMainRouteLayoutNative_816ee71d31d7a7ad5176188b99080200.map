{"version":3,"names":["_react","require","_expoRouter","_hooks","_sideMenu","_guards","_config","_types","_components","_jsxRuntime","useMainRouteLayoutNative","useAuthGuard","_useI18n","useI18n","t","router","useRouter","_useAuth","useAuth","isAuthenticated","logout","roles","_useUiState","useUiState","isLoading","_useNavigationVisibil","useNavigationVisibility","isItemVisible","mainItems","useMemo","MAIN_NAV_ITEMS","map","it","Object","assign","href","path","label","id","icon","getMenuIconGlyph","canAccessRegister","_AUTH$REGISTER_ROLES","AUTH","REGISTER_ROLES","length","some","role","includes","headerActions","concat","_toConsumableArray2","default","accessibilityLabel","onPress","push","variant","ACTION_VARIANTS","GHOST","PRIMARY","overlaySlot","jsx","LoadingOverlay","visible","testID","_default","exports"],"sources":["useMainRouteLayoutNative.js"],"sourcesContent":["/**\r\n * useMainRouteLayoutNative Hook\r\n * Shared logic for MainRouteLayout Android and iOS (header actions, overlay, nav items)\r\n * File: useMainRouteLayoutNative.js\r\n */\r\n\r\nimport { useMemo } from 'react';\r\nimport { useRouter } from 'expo-router';\r\nimport { useAuth, useI18n, useNavigationVisibility, useUiState } from '@hooks';\r\nimport { MAIN_NAV_ITEMS, getMenuIconGlyph } from '@config/sideMenu';\r\nimport { useAuthGuard } from '@navigation/guards';\r\nimport { AUTH } from '@config';\r\nimport { ACTION_VARIANTS } from '@platform/components/navigation/GlobalHeader/types';\r\nimport { LoadingOverlay } from '@platform/components';\r\n\r\n/**\r\n * Shared hook for MainRouteLayout native (Android/iOS)\r\n * @returns {Object} headerActions, overlaySlot, mainItems, isItemVisible\r\n */\r\nconst useMainRouteLayoutNative = () => {\r\n  useAuthGuard();\r\n  const { t } = useI18n();\r\n  const router = useRouter();\r\n  const { isAuthenticated, logout, roles } = useAuth();\r\n  const { isLoading } = useUiState();\r\n  const { isItemVisible } = useNavigationVisibility();\r\n  const mainItems = useMemo(\r\n    () =>\r\n      MAIN_NAV_ITEMS.map((it) => ({\r\n        ...it,\r\n        href: it.path,\r\n        label: t(`navigation.items.main.${it.id}`),\r\n        icon: getMenuIconGlyph(it.icon),\r\n      })),\r\n    [t]\r\n  );\r\n\r\n  const canAccessRegister = useMemo(\r\n    () =>\r\n      isAuthenticated &&\r\n      AUTH.REGISTER_ROLES?.length > 0 &&\r\n      AUTH.REGISTER_ROLES.some((role) => roles.includes(role)),\r\n    [isAuthenticated, roles]\r\n  );\r\n\r\n  const headerActions = useMemo(\r\n    () =>\r\n      isAuthenticated\r\n        ? [\r\n            ...(canAccessRegister\r\n              ? [\r\n                  {\r\n                    id: 'register',\r\n                    label: t('auth.register.button'),\r\n                    accessibilityLabel: t('auth.register.button'),\r\n                    onPress: () => router.push('/register'),\r\n                    variant: ACTION_VARIANTS.GHOST,\r\n                  },\r\n                ]\r\n              : []),\r\n            {\r\n              id: 'logout',\r\n              label: t('navigation.header.logout'),\r\n              accessibilityLabel: t('navigation.header.logout'),\r\n              onPress: logout,\r\n              variant: ACTION_VARIANTS.GHOST,\r\n            },\r\n          ]\r\n        : [\r\n            {\r\n              id: 'login',\r\n              label: t('auth.login.button'),\r\n              accessibilityLabel: t('auth.login.button'),\r\n              onPress: () => router.push('/login'),\r\n              variant: ACTION_VARIANTS.PRIMARY,\r\n            },\r\n          ],\r\n    [isAuthenticated, canAccessRegister, logout, router, t]\r\n  );\r\n\r\n  const overlaySlot = useMemo(\r\n    () =>\r\n      isLoading ? (\r\n        <LoadingOverlay visible testID=\"main-loading-overlay\" />\r\n      ) : null,\r\n    [isLoading]\r\n  );\r\n\r\n  return { headerActions, overlaySlot, mainItems, isItemVisible };\r\n};\r\n\r\nexport default useMainRouteLayoutNative;\r\n"],"mappings":"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","ignoreList":[]}