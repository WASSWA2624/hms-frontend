{"version":3,"names":["useCallback","useMemo","useState","useRouter","useAuth","useI18n","useNetwork","AUTH","isValidUuid","normalizePhoneNumber","STEPS","cov_1gc4c86yl7","s","resolveErrorMessage","t","errorCode","f","b","key","resolved","useRegisterScreen","_ref","router","_ref2","isOffline","_ref3","register","clearError","isLoading","isAuthenticated","roles","canAccessRegister","_AUTH$REGISTER_ROLES","REGISTER_ROLES","length","some","role","includes","accessErrorMessage","_ref4","ORGANIZATION","_ref5","_slicedToArray","step","setStep","_ref6","_ref7","email","setEmail","_ref8","_ref9","password","setPassword","_ref0","_ref1","tenantId","setTenantId","_ref10","_ref11","facilityId","setFacilityId","_ref12","_ref13","phone","setPhone","_ref14","_ref15","tenantIdError","setTenantIdError","_ref16","_ref17","facilityIdError","setFacilityIdError","errorMessage","isTenantValid","isFacilityValid","canProceed","Boolean","canSubmit","DETAILS","resolveTenantError","trim","resolveFacilityError","handleContinue","nextTenantError","nextFacilityError","handleSubmit","_asyncToGenerator","normalizedPhone","tenant_id","facility_id","undefined","handleChangeEmail","value","handleChangePassword","handleChangeTenantId","handleChangeFacilityId","handleChangePhone","handleGoToLogin","push","handleBack"],"sources":["useRegisterScreen.js"],"sourcesContent":["/**\r\n * useRegisterScreen Hook\r\n * Shared behavior/logic for RegisterScreen across all platforms.\r\n * File: useRegisterScreen.js\r\n */\r\nimport { useCallback, useMemo, useState } from 'react';\r\nimport { useRouter } from 'expo-router';\r\nimport { useAuth, useI18n, useNetwork } from '@hooks';\r\nimport { AUTH } from '@config';\r\nimport { isValidUuid, normalizePhoneNumber } from '@utils';\r\nimport { STEPS } from './types';\r\n\r\nconst resolveErrorMessage = (t, errorCode) => {\r\n  if (!errorCode) return null;\r\n  const key = `errors.codes.${errorCode}`;\r\n  const resolved = t(key);\r\n  return resolved === key ? t('errors.codes.UNKNOWN_ERROR') : resolved;\r\n};\r\n\r\nconst useRegisterScreen = () => {\r\n  const { t } = useI18n();\r\n  const router = useRouter();\r\n  const { isOffline } = useNetwork();\r\n  const {\r\n    register,\r\n    clearError,\r\n    isLoading,\r\n    errorCode,\r\n    isAuthenticated,\r\n    roles,\r\n  } = useAuth();\r\n  const canAccessRegister = useMemo(() => {\r\n    if (!isAuthenticated) return false;\r\n    if (!AUTH.REGISTER_ROLES?.length) return false;\r\n    return AUTH.REGISTER_ROLES.some((role) => roles.includes(role));\r\n  }, [isAuthenticated, roles]);\r\n\r\n  const accessErrorMessage = useMemo(() => {\r\n    if (canAccessRegister) return null;\r\n    return t('errors.codes.FORBIDDEN');\r\n  }, [canAccessRegister, t]);\r\n  const [step, setStep] = useState(STEPS.ORGANIZATION);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [tenantId, setTenantId] = useState('');\r\n  const [facilityId, setFacilityId] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [tenantIdError, setTenantIdError] = useState(null);\r\n  const [facilityIdError, setFacilityIdError] = useState(null);\r\n\r\n  const errorMessage = useMemo(\r\n    () => resolveErrorMessage(t, errorCode),\r\n    [errorCode, t]\r\n  );\r\n\r\n  const isTenantValid = useMemo(() => isValidUuid(tenantId), [tenantId]);\r\n  const isFacilityValid = useMemo(\r\n    () => (facilityId ? isValidUuid(facilityId) : true),\r\n    [facilityId]\r\n  );\r\n\r\n  const canProceed = useMemo(\r\n    () => Boolean(isTenantValid && isFacilityValid) && !isLoading && !isOffline && canAccessRegister,\r\n    [canAccessRegister, isFacilityValid, isLoading, isOffline, isTenantValid]\r\n  );\r\n\r\n  const canSubmit = useMemo(\r\n    () => Boolean(email && password && tenantId) && !isLoading && !isOffline && step === STEPS.DETAILS && canAccessRegister,\r\n    [canAccessRegister, email, isLoading, isOffline, password, step, tenantId]\r\n  );\r\n\r\n  const resolveTenantError = useCallback(() => {\r\n    if (!tenantId.trim()) return t('forms.validation.required');\r\n    if (!isValidUuid(tenantId)) return t('forms.validation.invalidUuid');\r\n    return null;\r\n  }, [t, tenantId]);\r\n\r\n  const resolveFacilityError = useCallback(() => {\r\n    if (!facilityId.trim()) return null;\r\n    if (!isValidUuid(facilityId)) return t('forms.validation.invalidUuid');\r\n    return null;\r\n  }, [facilityId, t]);\r\n\r\n  const handleContinue = useCallback(() => {\r\n    const nextTenantError = resolveTenantError();\r\n    const nextFacilityError = resolveFacilityError();\r\n    setTenantIdError(nextTenantError);\r\n    setFacilityIdError(nextFacilityError);\r\n    if (nextTenantError || nextFacilityError) {\r\n      return false;\r\n    }\r\n    setStep(STEPS.DETAILS);\r\n    return true;\r\n  }, [resolveFacilityError, resolveTenantError]);\r\n\r\n  const handleSubmit = useCallback(async () => {\r\n    if (!canSubmit) return false;\r\n    clearError();\r\n    const normalizedPhone = phone ? normalizePhoneNumber(phone) : '';\r\n    await register({\r\n      email: email.trim(),\r\n      password,\r\n      tenant_id: tenantId.trim(),\r\n      facility_id: facilityId.trim() || undefined,\r\n      phone: normalizedPhone || undefined,\r\n    });\r\n    return true;\r\n  }, [canSubmit, clearError, email, facilityId, password, phone, register, tenantId]);\r\n\r\n  const handleChangeEmail = useCallback((value) => {\r\n    setEmail(value);\r\n  }, []);\r\n\r\n  const handleChangePassword = useCallback((value) => {\r\n    setPassword(value);\r\n  }, []);\r\n\r\n  const handleChangeTenantId = useCallback((value) => {\r\n    setTenantId(value);\r\n    setTenantIdError(null);\r\n  }, []);\r\n\r\n  const handleChangeFacilityId = useCallback((value) => {\r\n    setFacilityId(value);\r\n    setFacilityIdError(null);\r\n  }, []);\r\n\r\n  const handleChangePhone = useCallback((value) => {\r\n    setPhone(value);\r\n  }, []);\r\n\r\n  const handleGoToLogin = useCallback(() => {\r\n    router.push('/login');\r\n  }, [router]);\r\n\r\n  const handleBack = useCallback(() => {\r\n    setStep(STEPS.ORGANIZATION);\r\n  }, []);\r\n\r\n  return {\r\n    step,\r\n    email,\r\n    password,\r\n    tenantId,\r\n    facilityId,\r\n    phone,\r\n    tenantIdError,\r\n    facilityIdError,\r\n    accessErrorMessage,\r\n    errorMessage,\r\n    isLoading,\r\n    isOffline,\r\n    canProceed,\r\n    canSubmit,\r\n    handleContinue,\r\n    handleSubmit,\r\n    handleChangeEmail,\r\n    handleChangePassword,\r\n    handleChangeTenantId,\r\n    handleChangeFacilityId,\r\n    handleChangePhone,\r\n    handleGoToLogin,\r\n    handleBack,\r\n  };\r\n};\r\n\r\nexport default useRegisterScreen;\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,SAASA,WAAW,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AACtD,SAASC,SAAS,QAAQ,aAAa;AACvC,SAASC,OAAO,EAAEC,OAAO,EAAEC,UAAU;AACrC,SAASC,IAAI;AACb,SAASC,WAAW,EAAEC,oBAAoB;AAC1C,SAASC,KAAK;AAAkBC,cAAA,GAAAC,CAAA;AAEhC,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIC,CAAC,EAAEC,SAAS,EAAK;EAAAJ,cAAA,GAAAK,CAAA;EAAAL,cAAA,GAAAC,CAAA;EAC5C,IAAI,CAACG,SAAS,EAAE;IAAAJ,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAC,CAAA;IAAA,OAAO,IAAI;EAAA,CAAC;IAAAD,cAAA,GAAAM,CAAA;EAAA;EAC5B,IAAMC,GAAG,IAAAP,cAAA,GAAAC,CAAA,OAAG,gBAAgBG,SAAS,EAAE;EACvC,IAAMI,QAAQ,IAAAR,cAAA,GAAAC,CAAA,OAAGE,CAAC,CAACI,GAAG,CAAC;EAACP,cAAA,GAAAC,CAAA;EACxB,OAAOO,QAAQ,KAAKD,GAAG,IAAAP,cAAA,GAAAM,CAAA,UAAGH,CAAC,CAAC,4BAA4B,CAAC,KAAAH,cAAA,GAAAM,CAAA,UAAGE,QAAQ;AACtE,CAAC;AAACR,cAAA,GAAAC,CAAA;AAEF,IAAMQ,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAA,EAAS;EAAAT,cAAA,GAAAK,CAAA;EAC9B,IAAAK,IAAA,IAAAV,cAAA,GAAAC,CAAA,OAAcP,OAAO,CAAC,CAAC;IAAfS,CAAC,GAAAO,IAAA,CAADP,CAAC;EACT,IAAMQ,MAAM,IAAAX,cAAA,GAAAC,CAAA,OAAGT,SAAS,CAAC,CAAC;EAC1B,IAAAoB,KAAA,IAAAZ,cAAA,GAAAC,CAAA,OAAsBN,UAAU,CAAC,CAAC;IAA1BkB,SAAS,GAAAD,KAAA,CAATC,SAAS;EACjB,IAAAC,KAAA,IAAAd,cAAA,GAAAC,CAAA,QAOIR,OAAO,CAAC,CAAC;IANXsB,QAAQ,GAAAD,KAAA,CAARC,QAAQ;IACRC,UAAU,GAAAF,KAAA,CAAVE,UAAU;IACVC,SAAS,GAAAH,KAAA,CAATG,SAAS;IACTb,SAAS,GAAAU,KAAA,CAATV,SAAS;IACTc,eAAe,GAAAJ,KAAA,CAAfI,eAAe;IACfC,KAAK,GAAAL,KAAA,CAALK,KAAK;EAEP,IAAMC,iBAAiB,IAAApB,cAAA,GAAAC,CAAA,QAAGX,OAAO,CAAC,YAAM;IAAA,IAAA+B,oBAAA;IAAArB,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IACtC,IAAI,CAACiB,eAAe,EAAE;MAAAlB,cAAA,GAAAM,CAAA;MAAAN,cAAA,GAAAC,CAAA;MAAA,OAAO,KAAK;IAAA,CAAC;MAAAD,cAAA,GAAAM,CAAA;IAAA;IAAAN,cAAA,GAAAC,CAAA;IACnC,IAAI,GAAAoB,oBAAA,GAACzB,IAAI,CAAC0B,cAAc,aAAnBD,oBAAA,CAAqBE,MAAM,GAAE;MAAAvB,cAAA,GAAAM,CAAA;MAAAN,cAAA,GAAAC,CAAA;MAAA,OAAO,KAAK;IAAA,CAAC;MAAAD,cAAA,GAAAM,CAAA;IAAA;IAAAN,cAAA,GAAAC,CAAA;IAC/C,OAAOL,IAAI,CAAC0B,cAAc,CAACE,IAAI,CAAC,UAACC,IAAI,EAAK;MAAAzB,cAAA,GAAAK,CAAA;MAAAL,cAAA,GAAAC,CAAA;MAAA,OAAAkB,KAAK,CAACO,QAAQ,CAACD,IAAI,CAAC;IAAD,CAAC,CAAC;EACjE,CAAC,EAAE,CAACP,eAAe,EAAEC,KAAK,CAAC,CAAC;EAE5B,IAAMQ,kBAAkB,IAAA3B,cAAA,GAAAC,CAAA,QAAGX,OAAO,CAAC,YAAM;IAAAU,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IACvC,IAAImB,iBAAiB,EAAE;MAAApB,cAAA,GAAAM,CAAA;MAAAN,cAAA,GAAAC,CAAA;MAAA,OAAO,IAAI;IAAA,CAAC;MAAAD,cAAA,GAAAM,CAAA;IAAA;IAAAN,cAAA,GAAAC,CAAA;IACnC,OAAOE,CAAC,CAAC,wBAAwB,CAAC;EACpC,CAAC,EAAE,CAACiB,iBAAiB,EAAEjB,CAAC,CAAC,CAAC;EAC1B,IAAAyB,KAAA,IAAA5B,cAAA,GAAAC,CAAA,QAAwBV,QAAQ,CAACQ,KAAK,CAAC8B,YAAY,CAAC;IAAAC,KAAA,GAAAC,cAAA,CAAAH,KAAA;IAA7CI,IAAI,GAAAF,KAAA;IAAEG,OAAO,GAAAH,KAAA;EACpB,IAAAI,KAAA,IAAAlC,cAAA,GAAAC,CAAA,QAA0BV,QAAQ,CAAC,EAAE,CAAC;IAAA4C,KAAA,GAAAJ,cAAA,CAAAG,KAAA;IAA/BE,KAAK,GAAAD,KAAA;IAAEE,QAAQ,GAAAF,KAAA;EACtB,IAAAG,KAAA,IAAAtC,cAAA,GAAAC,CAAA,QAAgCV,QAAQ,CAAC,EAAE,CAAC;IAAAgD,KAAA,GAAAR,cAAA,CAAAO,KAAA;IAArCE,QAAQ,GAAAD,KAAA;IAAEE,WAAW,GAAAF,KAAA;EAC5B,IAAAG,KAAA,IAAA1C,cAAA,GAAAC,CAAA,QAAgCV,QAAQ,CAAC,EAAE,CAAC;IAAAoD,KAAA,GAAAZ,cAAA,CAAAW,KAAA;IAArCE,QAAQ,GAAAD,KAAA;IAAEE,WAAW,GAAAF,KAAA;EAC5B,IAAAG,MAAA,IAAA9C,cAAA,GAAAC,CAAA,QAAoCV,QAAQ,CAAC,EAAE,CAAC;IAAAwD,MAAA,GAAAhB,cAAA,CAAAe,MAAA;IAAzCE,UAAU,GAAAD,MAAA;IAAEE,aAAa,GAAAF,MAAA;EAChC,IAAAG,MAAA,IAAAlD,cAAA,GAAAC,CAAA,QAA0BV,QAAQ,CAAC,EAAE,CAAC;IAAA4D,MAAA,GAAApB,cAAA,CAAAmB,MAAA;IAA/BE,KAAK,GAAAD,MAAA;IAAEE,QAAQ,GAAAF,MAAA;EACtB,IAAAG,MAAA,IAAAtD,cAAA,GAAAC,CAAA,QAA0CV,QAAQ,CAAC,IAAI,CAAC;IAAAgE,MAAA,GAAAxB,cAAA,CAAAuB,MAAA;IAAjDE,aAAa,GAAAD,MAAA;IAAEE,gBAAgB,GAAAF,MAAA;EACtC,IAAAG,MAAA,IAAA1D,cAAA,GAAAC,CAAA,QAA8CV,QAAQ,CAAC,IAAI,CAAC;IAAAoE,MAAA,GAAA5B,cAAA,CAAA2B,MAAA;IAArDE,eAAe,GAAAD,MAAA;IAAEE,kBAAkB,GAAAF,MAAA;EAE1C,IAAMG,YAAY,IAAA9D,cAAA,GAAAC,CAAA,QAAGX,OAAO,CAC1B,YAAM;IAAAU,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IAAA,OAAAC,mBAAmB,CAACC,CAAC,EAAEC,SAAS,CAAC;EAAD,CAAC,EACvC,CAACA,SAAS,EAAED,CAAC,CACf,CAAC;EAED,IAAM4D,aAAa,IAAA/D,cAAA,GAAAC,CAAA,QAAGX,OAAO,CAAC,YAAM;IAAAU,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IAAA,OAAAJ,WAAW,CAAC+C,QAAQ,CAAC;EAAD,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EACtE,IAAMoB,eAAe,IAAAhE,cAAA,GAAAC,CAAA,QAAGX,OAAO,CAC7B,YAAO;IAAAU,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IAAA,OAAA+C,UAAU,IAAAhD,cAAA,GAAAM,CAAA,UAAGT,WAAW,CAACmD,UAAU,CAAC,KAAAhD,cAAA,GAAAM,CAAA,UAAG,IAAI;EAAD,CAAE,EACnD,CAAC0C,UAAU,CACb,CAAC;EAED,IAAMiB,UAAU,IAAAjE,cAAA,GAAAC,CAAA,QAAGX,OAAO,CACxB,YAAM;IAAAU,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IAAA,QAAAD,cAAA,GAAAM,CAAA,UAAA4D,OAAO,CAAC,CAAAlE,cAAA,GAAAM,CAAA,UAAAyD,aAAa,MAAA/D,cAAA,GAAAM,CAAA,UAAI0D,eAAe,EAAC,MAAAhE,cAAA,GAAAM,CAAA,UAAI,CAACW,SAAS,MAAAjB,cAAA,GAAAM,CAAA,UAAI,CAACO,SAAS,MAAAb,cAAA,GAAAM,CAAA,UAAIc,iBAAiB;EAAD,CAAC,EAChG,CAACA,iBAAiB,EAAE4C,eAAe,EAAE/C,SAAS,EAAEJ,SAAS,EAAEkD,aAAa,CAC1E,CAAC;EAED,IAAMI,SAAS,IAAAnE,cAAA,GAAAC,CAAA,QAAGX,OAAO,CACvB,YAAM;IAAAU,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IAAA,QAAAD,cAAA,GAAAM,CAAA,UAAA4D,OAAO,CAAC,CAAAlE,cAAA,GAAAM,CAAA,UAAA8B,KAAK,MAAApC,cAAA,GAAAM,CAAA,UAAIkC,QAAQ,MAAAxC,cAAA,GAAAM,CAAA,UAAIsC,QAAQ,EAAC,MAAA5C,cAAA,GAAAM,CAAA,UAAI,CAACW,SAAS,MAAAjB,cAAA,GAAAM,CAAA,UAAI,CAACO,SAAS,MAAAb,cAAA,GAAAM,CAAA,UAAI0B,IAAI,KAAKjC,KAAK,CAACqE,OAAO,MAAApE,cAAA,GAAAM,CAAA,UAAIc,iBAAiB;EAAD,CAAC,EACvH,CAACA,iBAAiB,EAAEgB,KAAK,EAAEnB,SAAS,EAAEJ,SAAS,EAAE2B,QAAQ,EAAER,IAAI,EAAEY,QAAQ,CAC3E,CAAC;EAED,IAAMyB,kBAAkB,IAAArE,cAAA,GAAAC,CAAA,QAAGZ,WAAW,CAAC,YAAM;IAAAW,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IAC3C,IAAI,CAAC2C,QAAQ,CAAC0B,IAAI,CAAC,CAAC,EAAE;MAAAtE,cAAA,GAAAM,CAAA;MAAAN,cAAA,GAAAC,CAAA;MAAA,OAAOE,CAAC,CAAC,2BAA2B,CAAC;IAAA,CAAC;MAAAH,cAAA,GAAAM,CAAA;IAAA;IAAAN,cAAA,GAAAC,CAAA;IAC5D,IAAI,CAACJ,WAAW,CAAC+C,QAAQ,CAAC,EAAE;MAAA5C,cAAA,GAAAM,CAAA;MAAAN,cAAA,GAAAC,CAAA;MAAA,OAAOE,CAAC,CAAC,8BAA8B,CAAC;IAAA,CAAC;MAAAH,cAAA,GAAAM,CAAA;IAAA;IAAAN,cAAA,GAAAC,CAAA;IACrE,OAAO,IAAI;EACb,CAAC,EAAE,CAACE,CAAC,EAAEyC,QAAQ,CAAC,CAAC;EAEjB,IAAM2B,oBAAoB,IAAAvE,cAAA,GAAAC,CAAA,QAAGZ,WAAW,CAAC,YAAM;IAAAW,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IAC7C,IAAI,CAAC+C,UAAU,CAACsB,IAAI,CAAC,CAAC,EAAE;MAAAtE,cAAA,GAAAM,CAAA;MAAAN,cAAA,GAAAC,CAAA;MAAA,OAAO,IAAI;IAAA,CAAC;MAAAD,cAAA,GAAAM,CAAA;IAAA;IAAAN,cAAA,GAAAC,CAAA;IACpC,IAAI,CAACJ,WAAW,CAACmD,UAAU,CAAC,EAAE;MAAAhD,cAAA,GAAAM,CAAA;MAAAN,cAAA,GAAAC,CAAA;MAAA,OAAOE,CAAC,CAAC,8BAA8B,CAAC;IAAA,CAAC;MAAAH,cAAA,GAAAM,CAAA;IAAA;IAAAN,cAAA,GAAAC,CAAA;IACvE,OAAO,IAAI;EACb,CAAC,EAAE,CAAC+C,UAAU,EAAE7C,CAAC,CAAC,CAAC;EAEnB,IAAMqE,cAAc,IAAAxE,cAAA,GAAAC,CAAA,QAAGZ,WAAW,CAAC,YAAM;IAAAW,cAAA,GAAAK,CAAA;IACvC,IAAMoE,eAAe,IAAAzE,cAAA,GAAAC,CAAA,QAAGoE,kBAAkB,CAAC,CAAC;IAC5C,IAAMK,iBAAiB,IAAA1E,cAAA,GAAAC,CAAA,QAAGsE,oBAAoB,CAAC,CAAC;IAACvE,cAAA,GAAAC,CAAA;IACjDwD,gBAAgB,CAACgB,eAAe,CAAC;IAACzE,cAAA,GAAAC,CAAA;IAClC4D,kBAAkB,CAACa,iBAAiB,CAAC;IAAC1E,cAAA,GAAAC,CAAA;IACtC,IAAI,CAAAD,cAAA,GAAAM,CAAA,WAAAmE,eAAe,MAAAzE,cAAA,GAAAM,CAAA,WAAIoE,iBAAiB,GAAE;MAAA1E,cAAA,GAAAM,CAAA;MAAAN,cAAA,GAAAC,CAAA;MACxC,OAAO,KAAK;IACd,CAAC;MAAAD,cAAA,GAAAM,CAAA;IAAA;IAAAN,cAAA,GAAAC,CAAA;IACDgC,OAAO,CAAClC,KAAK,CAACqE,OAAO,CAAC;IAACpE,cAAA,GAAAC,CAAA;IACvB,OAAO,IAAI;EACb,CAAC,EAAE,CAACsE,oBAAoB,EAAEF,kBAAkB,CAAC,CAAC;EAE9C,IAAMM,YAAY,IAAA3E,cAAA,GAAAC,CAAA,QAAGZ,WAAW,CAAAuF,iBAAA,CAAC,aAAY;IAAA5E,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IAC3C,IAAI,CAACkE,SAAS,EAAE;MAAAnE,cAAA,GAAAM,CAAA;MAAAN,cAAA,GAAAC,CAAA;MAAA,OAAO,KAAK;IAAA,CAAC;MAAAD,cAAA,GAAAM,CAAA;IAAA;IAAAN,cAAA,GAAAC,CAAA;IAC7Be,UAAU,CAAC,CAAC;IACZ,IAAM6D,eAAe,IAAA7E,cAAA,GAAAC,CAAA,QAAGmD,KAAK,IAAApD,cAAA,GAAAM,CAAA,WAAGR,oBAAoB,CAACsD,KAAK,CAAC,KAAApD,cAAA,GAAAM,CAAA,WAAG,EAAE;IAACN,cAAA,GAAAC,CAAA;IACjE,MAAMc,QAAQ,CAAC;MACbqB,KAAK,EAAEA,KAAK,CAACkC,IAAI,CAAC,CAAC;MACnB9B,QAAQ,EAARA,QAAQ;MACRsC,SAAS,EAAElC,QAAQ,CAAC0B,IAAI,CAAC,CAAC;MAC1BS,WAAW,EAAE,CAAA/E,cAAA,GAAAM,CAAA,WAAA0C,UAAU,CAACsB,IAAI,CAAC,CAAC,MAAAtE,cAAA,GAAAM,CAAA,WAAI0E,SAAS;MAC3C5B,KAAK,EAAE,CAAApD,cAAA,GAAAM,CAAA,WAAAuE,eAAe,MAAA7E,cAAA,GAAAM,CAAA,WAAI0E,SAAS;IACrC,CAAC,CAAC;IAAChF,cAAA,GAAAC,CAAA;IACH,OAAO,IAAI;EACb,CAAC,GAAE,CAACkE,SAAS,EAAEnD,UAAU,EAAEoB,KAAK,EAAEY,UAAU,EAAER,QAAQ,EAAEY,KAAK,EAAErC,QAAQ,EAAE6B,QAAQ,CAAC,CAAC;EAEnF,IAAMqC,iBAAiB,IAAAjF,cAAA,GAAAC,CAAA,QAAGZ,WAAW,CAAC,UAAC6F,KAAK,EAAK;IAAAlF,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IAC/CoC,QAAQ,CAAC6C,KAAK,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMC,oBAAoB,IAAAnF,cAAA,GAAAC,CAAA,QAAGZ,WAAW,CAAC,UAAC6F,KAAK,EAAK;IAAAlF,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IAClDwC,WAAW,CAACyC,KAAK,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAME,oBAAoB,IAAApF,cAAA,GAAAC,CAAA,QAAGZ,WAAW,CAAC,UAAC6F,KAAK,EAAK;IAAAlF,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IAClD4C,WAAW,CAACqC,KAAK,CAAC;IAAClF,cAAA,GAAAC,CAAA;IACnBwD,gBAAgB,CAAC,IAAI,CAAC;EACxB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAM4B,sBAAsB,IAAArF,cAAA,GAAAC,CAAA,QAAGZ,WAAW,CAAC,UAAC6F,KAAK,EAAK;IAAAlF,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IACpDgD,aAAa,CAACiC,KAAK,CAAC;IAAClF,cAAA,GAAAC,CAAA;IACrB4D,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMyB,iBAAiB,IAAAtF,cAAA,GAAAC,CAAA,QAAGZ,WAAW,CAAC,UAAC6F,KAAK,EAAK;IAAAlF,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IAC/CoD,QAAQ,CAAC6B,KAAK,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMK,eAAe,IAAAvF,cAAA,GAAAC,CAAA,QAAGZ,WAAW,CAAC,YAAM;IAAAW,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IACxCU,MAAM,CAAC6E,IAAI,CAAC,QAAQ,CAAC;EACvB,CAAC,EAAE,CAAC7E,MAAM,CAAC,CAAC;EAEZ,IAAM8E,UAAU,IAAAzF,cAAA,GAAAC,CAAA,QAAGZ,WAAW,CAAC,YAAM;IAAAW,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IACnCgC,OAAO,CAAClC,KAAK,CAAC8B,YAAY,CAAC;EAC7B,CAAC,EAAE,EAAE,CAAC;EAAC7B,cAAA,GAAAC,CAAA;EAEP,OAAO;IACL+B,IAAI,EAAJA,IAAI;IACJI,KAAK,EAALA,KAAK;IACLI,QAAQ,EAARA,QAAQ;IACRI,QAAQ,EAARA,QAAQ;IACRI,UAAU,EAAVA,UAAU;IACVI,KAAK,EAALA,KAAK;IACLI,aAAa,EAAbA,aAAa;IACbI,eAAe,EAAfA,eAAe;IACfjC,kBAAkB,EAAlBA,kBAAkB;IAClBmC,YAAY,EAAZA,YAAY;IACZ7C,SAAS,EAATA,SAAS;IACTJ,SAAS,EAATA,SAAS;IACToD,UAAU,EAAVA,UAAU;IACVE,SAAS,EAATA,SAAS;IACTK,cAAc,EAAdA,cAAc;IACdG,YAAY,EAAZA,YAAY;IACZM,iBAAiB,EAAjBA,iBAAiB;IACjBE,oBAAoB,EAApBA,oBAAoB;IACpBC,oBAAoB,EAApBA,oBAAoB;IACpBC,sBAAsB,EAAtBA,sBAAsB;IACtBC,iBAAiB,EAAjBA,iBAAiB;IACjBC,eAAe,EAAfA,eAAe;IACfE,UAAU,EAAVA;EACF,CAAC;AACH,CAAC;AAED,eAAehF,iBAAiB","ignoreList":[]}