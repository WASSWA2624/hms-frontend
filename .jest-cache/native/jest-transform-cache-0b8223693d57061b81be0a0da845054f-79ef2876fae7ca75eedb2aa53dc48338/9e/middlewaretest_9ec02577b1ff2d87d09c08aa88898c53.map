{"version":3,"names":["_getJestObj","mock","logger","debug","jest","fn","_middleware","require","_logging","_require","describe","originalEnv","process","env","NODE_ENV","afterEach","mockClear","it","store","getState","next","action","type","payload","id","loggingMiddleware","expect","toHaveBeenCalledWith","not","toHaveBeenCalled"],"sources":["middleware.test.js"],"sourcesContent":["/**\r\n * Store Middleware Tests\r\n * File: middleware.test.js\r\n */\r\nimport { loggingMiddleware } from '@store/middleware';\r\nimport { logger } from '@logging';\r\n\r\njest.mock('@logging', () => ({\r\n  logger: {\r\n    debug: jest.fn(),\r\n  },\r\n}));\r\n\r\ndescribe('store/middleware', () => {\r\n  const originalEnv = process.env.NODE_ENV;\r\n\r\n  afterEach(() => {\r\n    process.env.NODE_ENV = originalEnv;\r\n    logger.debug.mockClear();\r\n  });\r\n\r\n  it('logs actions in development', () => {\r\n    process.env.NODE_ENV = 'development';\r\n    const store = { getState: jest.fn() };\r\n    const next = jest.fn();\r\n    const action = { type: 'TEST_ACTION', payload: { id: 1 } };\r\n\r\n    loggingMiddleware(store)(next)(action);\r\n\r\n    expect(logger.debug).toHaveBeenCalledWith('Redux action', {\r\n      type: action.type,\r\n      payload: action.payload,\r\n    });\r\n    expect(next).toHaveBeenCalledWith(action);\r\n  });\r\n\r\n  it('skips logging outside development', () => {\r\n    process.env.NODE_ENV = 'production';\r\n    const store = { getState: jest.fn() };\r\n    const next = jest.fn();\r\n    const action = { type: 'TEST_ACTION' };\r\n\r\n    loggingMiddleware(store)(next)(action);\r\n\r\n    expect(logger.debug).not.toHaveBeenCalled();\r\n    expect(next).toHaveBeenCalledWith(action);\r\n  });\r\n});\r\n"],"mappings":"AAOAA,WAAA,GAAKC,IAAI,kBAAa;EAAA,OAAO;IAC3BC,MAAM,EAAE;MACNC,KAAK,EAAEC,IAAI,CAACC,EAAE,CAAC;IACjB;EACF,CAAC;AAAA,CAAC,CAAC;AAPH,IAAAC,WAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAAkC,SAAAP,YAAA;EAAA,IAAAS,QAAA,GAAAF,OAAA;IAAAH,IAAA,GAAAK,QAAA,CAAAL,IAAA;EAAAJ,WAAA,YAAAA,YAAA;IAAA,OAAAI,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAQlCM,QAAQ,CAAC,kBAAkB,EAAE,YAAM;EACjC,IAAMC,WAAW,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ;EAExCC,SAAS,CAAC,YAAM;IACdH,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAGH,WAAW;IAClCT,eAAM,CAACC,KAAK,CAACa,SAAS,CAAC,CAAC;EAC1B,CAAC,CAAC;EAEFC,EAAE,CAAC,6BAA6B,EAAE,YAAM;IACtCL,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAG,aAAa;IACpC,IAAMI,KAAK,GAAG;MAAEC,QAAQ,EAAEf,IAAI,CAACC,EAAE,CAAC;IAAE,CAAC;IACrC,IAAMe,IAAI,GAAGhB,IAAI,CAACC,EAAE,CAAC,CAAC;IACtB,IAAMgB,MAAM,GAAG;MAAEC,IAAI,EAAE,aAAa;MAAEC,OAAO,EAAE;QAAEC,EAAE,EAAE;MAAE;IAAE,CAAC;IAE1D,IAAAC,6BAAiB,EAACP,KAAK,CAAC,CAACE,IAAI,CAAC,CAACC,MAAM,CAAC;IAEtCK,MAAM,CAACxB,eAAM,CAACC,KAAK,CAAC,CAACwB,oBAAoB,CAAC,cAAc,EAAE;MACxDL,IAAI,EAAED,MAAM,CAACC,IAAI;MACjBC,OAAO,EAAEF,MAAM,CAACE;IAClB,CAAC,CAAC;IACFG,MAAM,CAACN,IAAI,CAAC,CAACO,oBAAoB,CAACN,MAAM,CAAC;EAC3C,CAAC,CAAC;EAEFJ,EAAE,CAAC,mCAAmC,EAAE,YAAM;IAC5CL,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAG,YAAY;IACnC,IAAMI,KAAK,GAAG;MAAEC,QAAQ,EAAEf,IAAI,CAACC,EAAE,CAAC;IAAE,CAAC;IACrC,IAAMe,IAAI,GAAGhB,IAAI,CAACC,EAAE,CAAC,CAAC;IACtB,IAAMgB,MAAM,GAAG;MAAEC,IAAI,EAAE;IAAc,CAAC;IAEtC,IAAAG,6BAAiB,EAACP,KAAK,CAAC,CAACE,IAAI,CAAC,CAACC,MAAM,CAAC;IAEtCK,MAAM,CAACxB,eAAM,CAACC,KAAK,CAAC,CAACyB,GAAG,CAACC,gBAAgB,CAAC,CAAC;IAC3CH,MAAM,CAACN,IAAI,CAAC,CAACO,oBAAoB,CAACN,MAAM,CAAC;EAC3C,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}