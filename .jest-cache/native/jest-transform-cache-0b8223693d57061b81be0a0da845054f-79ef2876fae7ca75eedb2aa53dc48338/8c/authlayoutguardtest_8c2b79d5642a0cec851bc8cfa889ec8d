a09533f12cbb8b7e320a7f6512817829
_getJestObj().mock("../../navigation/guards", function () {
  return {
    useAuthGuard: jest.fn()
  };
});
_getJestObj().mock('expo-router', function () {
  return {
    useRouter: jest.fn(function () {
      return {
        replace: mockReplace,
        push: mockPush,
        back: jest.fn(),
        canGoBack: jest.fn(function () {
          return true;
        })
      };
    }),
    usePathname: jest.fn(function () {
      return '/login';
    }),
    useSegments: jest.fn(function () {
      return [];
    }),
    useLocalSearchParams: jest.fn(function () {
      return {};
    }),
    useGlobalSearchParams: jest.fn(function () {
      return {};
    }),
    Slot: function Slot(_ref) {
      var children = _ref.children;
      return children || null;
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactRedux = require("react-redux");
var _reactNative = require("@testing-library/react-native");
var _toolkit = require("@reduxjs/toolkit");
var _rootReducer = _interopRequireDefault(require("../../store/rootReducer"));
var _layout = _interopRequireDefault(require("../../app/(auth)/_layout"));
var _guards = require("../../navigation/guards");
var _expoRouter = require("expo-router");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockReplace = jest.fn();
var mockPush = jest.fn();
var createMockStore = function createMockStore() {
  var overrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var base = {
    ui: {
      theme: 'light',
      locale: 'en',
      isLoading: false,
      isAuthenticated: false,
      user: null
    },
    network: {
      isOnline: true
    },
    auth: {
      isAuthenticated: false,
      user: null,
      isLoading: false,
      errorCode: null
    }
  };
  return (0, _toolkit.configureStore)({
    reducer: _rootReducer.default,
    preloadedState: Object.assign({}, base, overrides)
  });
};
var renderWithStore = function renderWithStore(store) {
  return (0, _reactNative.render)((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
    store: store,
    children: (0, _jsxRuntime.jsx)(_layout.default, {})
  }));
};
describe('AuthLayout with Auth Guard (Step 7.14)', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    _expoRouter.usePathname.mockReturnValue('/login');
  });
  it('should not redirect when unauthenticated', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: false,
      user: null
    });
    var store = createMockStore();
    renderWithStore(store);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).not.toHaveBeenCalled();
    });
  }));
  it('should redirect authenticated users to home route', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: {
        id: '1',
        email: 'test@example.com'
      }
    });
    var store = createMockStore({
      auth: {
        isAuthenticated: true,
        user: {
          id: '1',
          email: 'test@example.com'
        },
        isLoading: false,
        errorCode: null
      }
    });
    renderWithStore(store);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
  }));
  it('should allow register route for authorized roles', (0, _asyncToGenerator2.default)(function* () {
    _expoRouter.usePathname.mockReturnValue('/register');
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: {
        id: '1',
        email: 'test@example.com'
      }
    });
    var store = createMockStore({
      auth: {
        isAuthenticated: true,
        user: {
          id: '1',
          email: 'test@example.com'
        },
        isLoading: false,
        errorCode: null
      },
      ui: {
        theme: 'light',
        locale: 'en',
        isLoading: false,
        isAuthenticated: true,
        user: {
          id: '1'
        }
      }
    });
    renderWithStore(store);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).not.toHaveBeenCalled();
    });
  }));
  it('should redirect from register route when user lacks access', (0, _asyncToGenerator2.default)(function* () {
    _expoRouter.usePathname.mockReturnValue('/register');
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: {
        id: '1',
        email: 'test@example.com'
      }
    });
    var store = createMockStore({
      auth: {
        isAuthenticated: true,
        user: {
          id: '1',
          email: 'test@example.com'
        },
        isLoading: false,
        errorCode: null
      }
    });
    renderWithStore(store);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
  }));
  it('should redirect only once when authenticated (idempotent)', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: {
        id: '1',
        email: 'test@example.com'
      }
    });
    var store = createMockStore({
      auth: {
        isAuthenticated: true,
        user: {
          id: '1',
          email: 'test@example.com'
        },
        isLoading: false,
        errorCode: null
      }
    });
    var _renderWithStore = renderWithStore(store),
      rerender = _renderWithStore.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledTimes(1);
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
    rerender((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
      store: store,
      children: (0, _jsxRuntime.jsx)(_layout.default, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledTimes(1);
    });
  }));
  it('should handle transition from unauthenticated to authenticated', (0, _asyncToGenerator2.default)(function* () {
    var authenticated = false;
    _guards.useAuthGuard.mockImplementation(function () {
      return {
        authenticated: authenticated,
        user: authenticated ? {
          id: '1',
          email: 'test@example.com'
        } : null
      };
    });
    var store = createMockStore();
    var _renderWithStore2 = renderWithStore(store),
      rerender = _renderWithStore2.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).not.toHaveBeenCalled();
    });
    authenticated = true;
    mockReplace.mockClear();
    rerender((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
      store: store,
      children: (0, _jsxRuntime.jsx)(_layout.default, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
  }));
  it('should handle transition from authenticated to unauthenticated', (0, _asyncToGenerator2.default)(function* () {
    var authenticated = true;
    _guards.useAuthGuard.mockImplementation(function () {
      return {
        authenticated: authenticated,
        user: authenticated ? {
          id: '1',
          email: 'test@example.com'
        } : null
      };
    });
    var store = createMockStore({
      auth: {
        isAuthenticated: true,
        user: {
          id: '1'
        },
        isLoading: false,
        errorCode: null
      }
    });
    var _renderWithStore3 = renderWithStore(store),
      rerender = _renderWithStore3.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
    authenticated = false;
    mockReplace.mockClear();
    rerender((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
      store: store,
      children: (0, _jsxRuntime.jsx)(_layout.default, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).not.toHaveBeenCalled();
    });
  }));
  it('should reset redirect flag when transitioning to unauthenticated then back', (0, _asyncToGenerator2.default)(function* () {
    var authenticated = true;
    _guards.useAuthGuard.mockImplementation(function () {
      return {
        authenticated: authenticated,
        user: authenticated ? {
          id: '1',
          email: 'test@example.com'
        } : null
      };
    });
    var store = createMockStore({
      auth: {
        isAuthenticated: true,
        user: {
          id: '1'
        },
        isLoading: false,
        errorCode: null
      }
    });
    var _renderWithStore4 = renderWithStore(store),
      rerender = _renderWithStore4.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
    authenticated = false;
    mockReplace.mockClear();
    rerender((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
      store: store,
      children: (0, _jsxRuntime.jsx)(_layout.default, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).not.toHaveBeenCalled();
    });
    authenticated = true;
    rerender((0, _jsxRuntime.jsx)(_reactRedux.Provider, {
      store: store,
      children: (0, _jsxRuntime.jsx)(_layout.default, {})
    }));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
  }));
  it('should call useAuthGuard with skipRedirect: true', function () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: false,
      user: null
    });
    var store = createMockStore();
    renderWithStore(store);
    expect(_guards.useAuthGuard).toHaveBeenCalledWith({
      skipRedirect: true
    });
  });
  it('should handle useAuthGuard returning undefined authenticated', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: undefined,
      user: null
    });
    var store = createMockStore();
    renderWithStore(store);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).not.toHaveBeenCalled();
    });
  }));
  it('should redirect when authenticated even if user is null', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: null
    });
    var store = createMockStore({
      auth: {
        isAuthenticated: true,
        user: null,
        isLoading: false,
        errorCode: null
      }
    });
    renderWithStore(store);
    yield (0, _reactNative.waitFor)(function () {
      expect(mockReplace).toHaveBeenCalledWith('/home');
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VBdXRoR3VhcmQiLCJqZXN0IiwiZm4iLCJ1c2VSb3V0ZXIiLCJyZXBsYWNlIiwibW9ja1JlcGxhY2UiLCJwdXNoIiwibW9ja1B1c2giLCJiYWNrIiwiY2FuR29CYWNrIiwidXNlUGF0aG5hbWUiLCJ1c2VTZWdtZW50cyIsInVzZUxvY2FsU2VhcmNoUGFyYW1zIiwidXNlR2xvYmFsU2VhcmNoUGFyYW1zIiwiU2xvdCIsIl9yZWYiLCJjaGlsZHJlbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZGVmYXVsdCIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdFJlZHV4IiwiX3JlYWN0TmF0aXZlIiwiX3Rvb2xraXQiLCJfcm9vdFJlZHVjZXIiLCJfbGF5b3V0IiwiX2d1YXJkcyIsIl9leHBvUm91dGVyIiwiX2pzeFJ1bnRpbWUiLCJfcmVxdWlyZSIsImNyZWF0ZU1vY2tTdG9yZSIsIm92ZXJyaWRlcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImJhc2UiLCJ1aSIsInRoZW1lIiwibG9jYWxlIiwiaXNMb2FkaW5nIiwiaXNBdXRoZW50aWNhdGVkIiwidXNlciIsIm5ldHdvcmsiLCJpc09ubGluZSIsImF1dGgiLCJlcnJvckNvZGUiLCJjb25maWd1cmVTdG9yZSIsInJlZHVjZXIiLCJyb290UmVkdWNlciIsInByZWxvYWRlZFN0YXRlIiwiT2JqZWN0IiwiYXNzaWduIiwicmVuZGVyV2l0aFN0b3JlIiwic3RvcmUiLCJyZW5kZXIiLCJqc3giLCJQcm92aWRlciIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmV0dXJuVmFsdWUiLCJpdCIsImF1dGhlbnRpY2F0ZWQiLCJ3YWl0Rm9yIiwiZXhwZWN0Iiwibm90IiwidG9IYXZlQmVlbkNhbGxlZCIsImlkIiwiZW1haWwiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIl9yZW5kZXJXaXRoU3RvcmUiLCJyZXJlbmRlciIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIl9yZW5kZXJXaXRoU3RvcmUyIiwibW9ja0NsZWFyIiwiX3JlbmRlcldpdGhTdG9yZTMiLCJfcmVuZGVyV2l0aFN0b3JlNCIsInNraXBSZWRpcmVjdCJdLCJzb3VyY2VzIjpbImF1dGgtbGF5b3V0LWd1YXJkLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEF1dGggTGF5b3V0IEd1YXJkIFRlc3RzIChTdGVwIDcuMTQpXHJcbiAqXHJcbiAqIFRlc3RzIGZvciBhdXRoIGxheW91dCB3aXRoIGF1dGggZ3VhcmQgaW50ZWdyYXRpb246XHJcbiAqIC0gVW5hdXRoZW50aWNhdGVkIHVzZXJzIGNhbiBhY2Nlc3MgYXV0aCByb3V0ZXMgKG5vIHJlZGlyZWN0KVxyXG4gKiAtIEF1dGhlbnRpY2F0ZWQgdXNlcnMgYXJlIHJlZGlyZWN0ZWQgdG8gaG9tZSByb3V0ZSB3aGVuIGFjY2Vzc2luZyBhdXRoIHJvdXRlc1xyXG4gKiAtIEFsbCBicmFuY2hlcyAoYXV0aGVudGljYXRlZCB2cyB1bmF1dGhlbnRpY2F0ZWQgc3RhdGVzKVxyXG4gKiAtIEludGVncmF0aW9uIGJldHdlZW4gbGF5b3V0IGFuZCBndWFyZCBob29rXHJcbiAqXHJcbiAqIFBlciB0ZXN0aW5nLm1kYzogMTAwJSBjb3ZlcmFnZSByZXF1aXJlZCAoY3JpdGljYWwgcGF0aDogYXV0aC9hY2Nlc3MgY29udHJvbClcclxuICovXHJcblxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IHsgcmVuZGVyLCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xyXG5pbXBvcnQgeyBjb25maWd1cmVTdG9yZSB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xyXG5pbXBvcnQgcm9vdFJlZHVjZXIgZnJvbSAnQHN0b3JlL3Jvb3RSZWR1Y2VyJztcclxuaW1wb3J0IEF1dGhMYXlvdXQgZnJvbSAnQGFwcC8oYXV0aCkvX2xheW91dCc7XHJcbmltcG9ydCB7IHVzZUF1dGhHdWFyZCB9IGZyb20gJ0BuYXZpZ2F0aW9uL2d1YXJkcyc7XHJcbmltcG9ydCB7IHVzZVBhdGhuYW1lLCB1c2VSb3V0ZXIgfSBmcm9tICdleHBvLXJvdXRlcic7XHJcblxyXG5qZXN0Lm1vY2soJ0BuYXZpZ2F0aW9uL2d1YXJkcycsICgpID0+ICh7XHJcbiAgdXNlQXV0aEd1YXJkOiBqZXN0LmZuKCksXHJcbn0pKTtcclxuXHJcbmNvbnN0IG1vY2tSZXBsYWNlID0gamVzdC5mbigpO1xyXG5jb25zdCBtb2NrUHVzaCA9IGplc3QuZm4oKTtcclxuXHJcbmplc3QubW9jaygnZXhwby1yb3V0ZXInLCAoKSA9PiAoe1xyXG4gIHVzZVJvdXRlcjogamVzdC5mbigoKSA9PiAoe1xyXG4gICAgcmVwbGFjZTogbW9ja1JlcGxhY2UsXHJcbiAgICBwdXNoOiBtb2NrUHVzaCxcclxuICAgIGJhY2s6IGplc3QuZm4oKSxcclxuICAgIGNhbkdvQmFjazogamVzdC5mbigoKSA9PiB0cnVlKSxcclxuICB9KSksXHJcbiAgdXNlUGF0aG5hbWU6IGplc3QuZm4oKCkgPT4gJy9sb2dpbicpLFxyXG4gIHVzZVNlZ21lbnRzOiBqZXN0LmZuKCgpID0+IFtdKSxcclxuICB1c2VMb2NhbFNlYXJjaFBhcmFtczogamVzdC5mbigoKSA9PiAoe30pKSxcclxuICB1c2VHbG9iYWxTZWFyY2hQYXJhbXM6IGplc3QuZm4oKCkgPT4gKHt9KSksXHJcbiAgU2xvdDogKHsgY2hpbGRyZW4gfSkgPT4gY2hpbGRyZW4gfHwgbnVsbCxcclxufSkpO1xyXG5cclxuY29uc3QgY3JlYXRlTW9ja1N0b3JlID0gKG92ZXJyaWRlcyA9IHt9KSA9PiB7XHJcbiAgY29uc3QgYmFzZSA9IHtcclxuICAgIHVpOiB7XHJcbiAgICAgIHRoZW1lOiAnbGlnaHQnLFxyXG4gICAgICBsb2NhbGU6ICdlbicsXHJcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXHJcbiAgICAgIHVzZXI6IG51bGwsXHJcbiAgICB9LFxyXG4gICAgbmV0d29yazogeyBpc09ubGluZTogdHJ1ZSB9LFxyXG4gICAgYXV0aDogeyBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLCB1c2VyOiBudWxsLCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvckNvZGU6IG51bGwgfSxcclxuICB9O1xyXG4gIHJldHVybiBjb25maWd1cmVTdG9yZSh7XHJcbiAgICByZWR1Y2VyOiByb290UmVkdWNlcixcclxuICAgIHByZWxvYWRlZFN0YXRlOiB7IC4uLmJhc2UsIC4uLm92ZXJyaWRlcyB9LFxyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyV2l0aFN0b3JlID0gKHN0b3JlKSA9PlxyXG4gIHJlbmRlcihcclxuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxyXG4gICAgICA8QXV0aExheW91dCAvPlxyXG4gICAgPC9Qcm92aWRlcj5cclxuICApO1xyXG5cclxuZGVzY3JpYmUoJ0F1dGhMYXlvdXQgd2l0aCBBdXRoIEd1YXJkIChTdGVwIDcuMTQpJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgICB1c2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9sb2dpbicpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIG5vdCByZWRpcmVjdCB3aGVuIHVuYXV0aGVudGljYXRlZCcsIGFzeW5jICgpID0+IHtcclxuICAgIHVzZUF1dGhHdWFyZC5tb2NrUmV0dXJuVmFsdWUoeyBhdXRoZW50aWNhdGVkOiBmYWxzZSwgdXNlcjogbnVsbCB9KTtcclxuICAgIGNvbnN0IHN0b3JlID0gY3JlYXRlTW9ja1N0b3JlKCk7XHJcblxyXG4gICAgcmVuZGVyV2l0aFN0b3JlKHN0b3JlKTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KG1vY2tSZXBsYWNlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgcmVkaXJlY3QgYXV0aGVudGljYXRlZCB1c2VycyB0byBob21lIHJvdXRlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgdXNlQXV0aEd1YXJkLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXHJcbiAgICAgIHVzZXI6IHsgaWQ6ICcxJywgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyB9LFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBzdG9yZSA9IGNyZWF0ZU1vY2tTdG9yZSh7XHJcbiAgICAgIGF1dGg6IHsgaXNBdXRoZW50aWNhdGVkOiB0cnVlLCB1c2VyOiB7IGlkOiAnMScsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfSwgaXNMb2FkaW5nOiBmYWxzZSwgZXJyb3JDb2RlOiBudWxsIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZW5kZXJXaXRoU3RvcmUoc3RvcmUpO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QobW9ja1JlcGxhY2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvaG9tZScpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgYWxsb3cgcmVnaXN0ZXIgcm91dGUgZm9yIGF1dGhvcml6ZWQgcm9sZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICB1c2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9yZWdpc3RlcicpO1xyXG4gICAgdXNlQXV0aEd1YXJkLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXHJcbiAgICAgIHVzZXI6IHsgaWQ6ICcxJywgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyB9LFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBzdG9yZSA9IGNyZWF0ZU1vY2tTdG9yZSh7XHJcbiAgICAgIGF1dGg6IHsgaXNBdXRoZW50aWNhdGVkOiB0cnVlLCB1c2VyOiB7IGlkOiAnMScsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfSwgaXNMb2FkaW5nOiBmYWxzZSwgZXJyb3JDb2RlOiBudWxsIH0sXHJcbiAgICAgIHVpOiB7IHRoZW1lOiAnbGlnaHQnLCBsb2NhbGU6ICdlbicsIGlzTG9hZGluZzogZmFsc2UsIGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjogeyBpZDogJzEnIH0gfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJlbmRlcldpdGhTdG9yZShzdG9yZSk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHJlZGlyZWN0IGZyb20gcmVnaXN0ZXIgcm91dGUgd2hlbiB1c2VyIGxhY2tzIGFjY2VzcycsIGFzeW5jICgpID0+IHtcclxuICAgIHVzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL3JlZ2lzdGVyJyk7XHJcbiAgICB1c2VBdXRoR3VhcmQubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcclxuICAgICAgdXNlcjogeyBpZDogJzEnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0sXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHN0b3JlID0gY3JlYXRlTW9ja1N0b3JlKHtcclxuICAgICAgYXV0aDogeyBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsIHVzZXI6IHsgaWQ6ICcxJywgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyB9LCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvckNvZGU6IG51bGwgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJlbmRlcldpdGhTdG9yZShzdG9yZSk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9ob21lJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZWRpcmVjdCBvbmx5IG9uY2Ugd2hlbiBhdXRoZW50aWNhdGVkIChpZGVtcG90ZW50KScsIGFzeW5jICgpID0+IHtcclxuICAgIHVzZUF1dGhHdWFyZC5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxyXG4gICAgICB1c2VyOiB7IGlkOiAnMScsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfSxcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc3RvcmUgPSBjcmVhdGVNb2NrU3RvcmUoe1xyXG4gICAgICBhdXRoOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjogeyBpZDogJzEnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0sIGlzTG9hZGluZzogZmFsc2UsIGVycm9yQ29kZTogbnVsbCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyV2l0aFN0b3JlKHN0b3JlKTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KG1vY2tSZXBsYWNlKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9ob21lJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXJlbmRlcihcclxuICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XHJcbiAgICAgICAgPEF1dGhMYXlvdXQgLz5cclxuICAgICAgPC9Qcm92aWRlcj5cclxuICAgICk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGFuZGxlIHRyYW5zaXRpb24gZnJvbSB1bmF1dGhlbnRpY2F0ZWQgdG8gYXV0aGVudGljYXRlZCcsIGFzeW5jICgpID0+IHtcclxuICAgIGxldCBhdXRoZW50aWNhdGVkID0gZmFsc2U7XHJcbiAgICB1c2VBdXRoR3VhcmQubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XHJcbiAgICAgIGF1dGhlbnRpY2F0ZWQsXHJcbiAgICAgIHVzZXI6IGF1dGhlbnRpY2F0ZWQgPyB7IGlkOiAnMScsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfSA6IG51bGwsXHJcbiAgICB9KSk7XHJcbiAgICBjb25zdCBzdG9yZSA9IGNyZWF0ZU1vY2tTdG9yZSgpO1xyXG5cclxuICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcldpdGhTdG9yZShzdG9yZSk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF1dGhlbnRpY2F0ZWQgPSB0cnVlO1xyXG4gICAgbW9ja1JlcGxhY2UubW9ja0NsZWFyKCk7XHJcbiAgICByZXJlbmRlcihcclxuICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XHJcbiAgICAgICAgPEF1dGhMYXlvdXQgLz5cclxuICAgICAgPC9Qcm92aWRlcj5cclxuICAgICk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9ob21lJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBoYW5kbGUgdHJhbnNpdGlvbiBmcm9tIGF1dGhlbnRpY2F0ZWQgdG8gdW5hdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgbGV0IGF1dGhlbnRpY2F0ZWQgPSB0cnVlO1xyXG4gICAgdXNlQXV0aEd1YXJkLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xyXG4gICAgICBhdXRoZW50aWNhdGVkLFxyXG4gICAgICB1c2VyOiBhdXRoZW50aWNhdGVkID8geyBpZDogJzEnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0gOiBudWxsLFxyXG4gICAgfSkpO1xyXG4gICAgY29uc3Qgc3RvcmUgPSBjcmVhdGVNb2NrU3RvcmUoe1xyXG4gICAgICBhdXRoOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjogeyBpZDogJzEnIH0sIGlzTG9hZGluZzogZmFsc2UsIGVycm9yQ29kZTogbnVsbCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyV2l0aFN0b3JlKHN0b3JlKTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KG1vY2tSZXBsYWNlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2hvbWUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcclxuICAgIG1vY2tSZXBsYWNlLm1vY2tDbGVhcigpO1xyXG4gICAgcmVyZW5kZXIoXHJcbiAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxyXG4gICAgICAgIDxBdXRoTGF5b3V0IC8+XHJcbiAgICAgIDwvUHJvdmlkZXI+XHJcbiAgICApO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QobW9ja1JlcGxhY2UpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZXNldCByZWRpcmVjdCBmbGFnIHdoZW4gdHJhbnNpdGlvbmluZyB0byB1bmF1dGhlbnRpY2F0ZWQgdGhlbiBiYWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgbGV0IGF1dGhlbnRpY2F0ZWQgPSB0cnVlO1xyXG4gICAgdXNlQXV0aEd1YXJkLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xyXG4gICAgICBhdXRoZW50aWNhdGVkLFxyXG4gICAgICB1c2VyOiBhdXRoZW50aWNhdGVkID8geyBpZDogJzEnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0gOiBudWxsLFxyXG4gICAgfSkpO1xyXG4gICAgY29uc3Qgc3RvcmUgPSBjcmVhdGVNb2NrU3RvcmUoe1xyXG4gICAgICBhdXRoOiB7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSwgdXNlcjogeyBpZDogJzEnIH0sIGlzTG9hZGluZzogZmFsc2UsIGVycm9yQ29kZTogbnVsbCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyV2l0aFN0b3JlKHN0b3JlKTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KG1vY2tSZXBsYWNlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2hvbWUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcclxuICAgIG1vY2tSZXBsYWNlLm1vY2tDbGVhcigpO1xyXG4gICAgcmVyZW5kZXIoXHJcbiAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxyXG4gICAgICAgIDxBdXRoTGF5b3V0IC8+XHJcbiAgICAgIDwvUHJvdmlkZXI+XHJcbiAgICApO1xyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF1dGhlbnRpY2F0ZWQgPSB0cnVlO1xyXG4gICAgcmVyZW5kZXIoXHJcbiAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxyXG4gICAgICAgIDxBdXRoTGF5b3V0IC8+XHJcbiAgICAgIDwvUHJvdmlkZXI+XHJcbiAgICApO1xyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9ob21lJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBjYWxsIHVzZUF1dGhHdWFyZCB3aXRoIHNraXBSZWRpcmVjdDogdHJ1ZScsICgpID0+IHtcclxuICAgIHVzZUF1dGhHdWFyZC5tb2NrUmV0dXJuVmFsdWUoeyBhdXRoZW50aWNhdGVkOiBmYWxzZSwgdXNlcjogbnVsbCB9KTtcclxuICAgIGNvbnN0IHN0b3JlID0gY3JlYXRlTW9ja1N0b3JlKCk7XHJcblxyXG4gICAgcmVuZGVyV2l0aFN0b3JlKHN0b3JlKTtcclxuXHJcbiAgICBleHBlY3QodXNlQXV0aEd1YXJkKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IHNraXBSZWRpcmVjdDogdHJ1ZSB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBoYW5kbGUgdXNlQXV0aEd1YXJkIHJldHVybmluZyB1bmRlZmluZWQgYXV0aGVudGljYXRlZCcsIGFzeW5jICgpID0+IHtcclxuICAgIHVzZUF1dGhHdWFyZC5tb2NrUmV0dXJuVmFsdWUoeyBhdXRoZW50aWNhdGVkOiB1bmRlZmluZWQsIHVzZXI6IG51bGwgfSk7XHJcbiAgICBjb25zdCBzdG9yZSA9IGNyZWF0ZU1vY2tTdG9yZSgpO1xyXG5cclxuICAgIHJlbmRlcldpdGhTdG9yZShzdG9yZSk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHJlZGlyZWN0IHdoZW4gYXV0aGVudGljYXRlZCBldmVuIGlmIHVzZXIgaXMgbnVsbCcsIGFzeW5jICgpID0+IHtcclxuICAgIHVzZUF1dGhHdWFyZC5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxyXG4gICAgICB1c2VyOiBudWxsLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBzdG9yZSA9IGNyZWF0ZU1vY2tTdG9yZSh7XHJcbiAgICAgIGF1dGg6IHsgaXNBdXRoZW50aWNhdGVkOiB0cnVlLCB1c2VyOiBudWxsLCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvckNvZGU6IG51bGwgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJlbmRlcldpdGhTdG9yZShzdG9yZSk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9ob21lJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBcUJBQSxXQUFBLEdBQUtDLElBQUksNEJBQXVCO0VBQUEsT0FBTztJQUNyQ0MsWUFBWSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUN4QixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBS0hKLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGFBQWEsRUFBRTtFQUFBLE9BQU87SUFDOUJJLFNBQVMsRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFBQSxPQUFPO1FBQ3hCRSxPQUFPLEVBQUVDLFdBQVc7UUFDcEJDLElBQUksRUFBRUMsUUFBUTtRQUNkQyxJQUFJLEVBQUVQLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7UUFDZk8sU0FBUyxFQUFFUixJQUFJLENBQUNDLEVBQUUsQ0FBQztVQUFBLE9BQU0sSUFBSTtRQUFBO01BQy9CLENBQUM7SUFBQSxDQUFDLENBQUM7SUFDSFEsV0FBVyxFQUFFVCxJQUFJLENBQUNDLEVBQUUsQ0FBQztNQUFBLE9BQU0sUUFBUTtJQUFBLEVBQUM7SUFDcENTLFdBQVcsRUFBRVYsSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFBQSxPQUFNLEVBQUU7SUFBQSxFQUFDO0lBQzlCVSxvQkFBb0IsRUFBRVgsSUFBSSxDQUFDQyxFQUFFLENBQUM7TUFBQSxPQUFPLENB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