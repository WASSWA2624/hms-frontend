b4262230543ae1ea7e23ce7fd8d17cf7
_getJestObj().mock("../../store", function () {
  return {
    getState: jest.fn()
  };
});
_getJestObj().mock("../../logging", function () {
  return {
    logger: {
      info: jest.fn(),
      error: jest.fn(),
      debug: jest.fn(),
      warn: jest.fn()
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _init = require("../../bootstrap/init.store");
var _store = _interopRequireDefault(require("../../store"));
var _logging = require("../../logging");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('Store Initialization', function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  it('initializes successfully when store state is available', (0, _asyncToGenerator2.default)(function* () {
    _store.default.getState.mockReturnValue({});
    yield (0, _init.initStore)();
    expect(_store.default.getState).toHaveBeenCalled();
    expect(_logging.logger.info).toHaveBeenCalledWith('Store initialized successfully');
  }));
  it('throws fatal error when store state is undefined', (0, _asyncToGenerator2.default)(function* () {
    _store.default.getState.mockReturnValue(undefined);
    yield expect((0, _init.initStore)()).rejects.toThrow('Store state is undefined');
    expect(_logging.logger.error).toHaveBeenCalledWith('Store initialization failed', {
      error: 'Store state is undefined'
    });
  }));
  it('throws fatal error when store.getState throws', (0, _asyncToGenerator2.default)(function* () {
    var error = new Error('Store error');
    _store.default.getState.mockImplementation(function () {
      throw error;
    });
    yield expect((0, _init.initStore)()).rejects.toThrow('Store error');
    expect(_logging.logger.error).toHaveBeenCalledWith('Store initialization failed', {
      error: 'Store error'
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJnZXRTdGF0ZSIsImplc3QiLCJmbiIsImxvZ2dlciIsImluZm8iLCJlcnJvciIsImRlYnVnIiwid2FybiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZGVmYXVsdCIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9pbml0IiwiX3N0b3JlIiwiX2xvZ2dpbmciLCJfcmVxdWlyZSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsInN0b3JlIiwibW9ja1JldHVyblZhbHVlIiwiaW5pdFN0b3JlIiwiZXhwZWN0IiwidG9IYXZlQmVlbkNhbGxlZCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwidW5kZWZpbmVkIiwicmVqZWN0cyIsInRvVGhyb3ciLCJFcnJvciIsIm1vY2tJbXBsZW1lbnRhdGlvbiJdLCJzb3VyY2VzIjpbImluaXQuc3RvcmUudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU3RvcmUgSW5pdGlhbGl6YXRpb24gVGVzdHNcclxuICogRmlsZTogaW5pdC5zdG9yZS50ZXN0LmpzXHJcbiAqL1xyXG5pbXBvcnQgeyBpbml0U3RvcmUgfSBmcm9tICdAYm9vdHN0cmFwL2luaXQuc3RvcmUnO1xyXG5pbXBvcnQgc3RvcmUgZnJvbSAnQHN0b3JlJztcclxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQGxvZ2dpbmcnO1xyXG5cclxuamVzdC5tb2NrKCdAc3RvcmUnLCAoKSA9PiAoe1xyXG4gIGdldFN0YXRlOiBqZXN0LmZuKCksXHJcbn0pKTtcclxuXHJcbmplc3QubW9jaygnQGxvZ2dpbmcnLCAoKSA9PiAoe1xyXG4gIGxvZ2dlcjoge1xyXG4gICAgaW5mbzogamVzdC5mbigpLFxyXG4gICAgZXJyb3I6IGplc3QuZm4oKSxcclxuICAgIGRlYnVnOiBqZXN0LmZuKCksXHJcbiAgICB3YXJuOiBqZXN0LmZuKCksXHJcbiAgfSxcclxufSkpO1xyXG5cclxuZGVzY3JpYmUoJ1N0b3JlIEluaXRpYWxpemF0aW9uJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdpbml0aWFsaXplcyBzdWNjZXNzZnVsbHkgd2hlbiBzdG9yZSBzdGF0ZSBpcyBhdmFpbGFibGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBzdG9yZS5nZXRTdGF0ZS5tb2NrUmV0dXJuVmFsdWUoe30pO1xyXG5cclxuICAgIGF3YWl0IGluaXRTdG9yZSgpO1xyXG5cclxuICAgIGV4cGVjdChzdG9yZS5nZXRTdGF0ZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgZXhwZWN0KGxvZ2dlci5pbmZvKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnU3RvcmUgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCd0aHJvd3MgZmF0YWwgZXJyb3Igd2hlbiBzdG9yZSBzdGF0ZSBpcyB1bmRlZmluZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBzdG9yZS5nZXRTdGF0ZS5tb2NrUmV0dXJuVmFsdWUodW5kZWZpbmVkKTtcclxuXHJcbiAgICBhd2FpdCBleHBlY3QoaW5pdFN0b3JlKCkpLnJlamVjdHMudG9UaHJvdygnU3RvcmUgc3RhdGUgaXMgdW5kZWZpbmVkJyk7XHJcblxyXG4gICAgZXhwZWN0KGxvZ2dlci5lcnJvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ1N0b3JlIGluaXRpYWxpemF0aW9uIGZhaWxlZCcsIHtcclxuICAgICAgZXJyb3I6ICdTdG9yZSBzdGF0ZSBpcyB1bmRlZmluZWQnLFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCd0aHJvd3MgZmF0YWwgZXJyb3Igd2hlbiBzdG9yZS5nZXRTdGF0ZSB0aHJvd3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignU3RvcmUgZXJyb3InKTtcclxuICAgIHN0b3JlLmdldFN0YXRlLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgZXhwZWN0KGluaXRTdG9yZSgpKS5yZWplY3RzLnRvVGhyb3coJ1N0b3JlIGVycm9yJyk7XHJcblxyXG4gICAgZXhwZWN0KGxvZ2dlci5lcnJvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ1N0b3JlIGluaXRpYWxpemF0aW9uIGZhaWxlZCcsIHtcclxuICAgICAgZXJyb3I6ICdTdG9yZSBlcnJvcicsXHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcblxyXG4iXSwibWFwcGluZ3MiOiJBQVFBQSxXQUFBLEdBQUtDLElBQUksZ0JBQVc7RUFBQSxPQUFPO0lBQ3pCQyxRQUFRLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQ3BCLENBQUM7QUFBQSxDQUFDLENBQUM7QUFFSEosV0FBQSxHQUFLQyxJQUFJLGtCQUFhO0VBQUEsT0FBTztJQUMzQkksTUFBTSxFQUFFO01BQ05DLElBQUksRUFBRUgsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztNQUNmRyxLQUFLLEVBQUVKLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7TUFDaEJJLEtBQUssRUFBRUwsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztNQUNoQkssSUFBSSxFQUFFTixJQUFJLENBQUNDLEVBQUUsQ0FBQztJQUNoQjtFQUNGLENBQUM7QUFBQSxDQUFDLENBQUM7QUFBQyxJQUFBTSxzQkFBQSxHQUFBQyxPQUFBLGlEQUFBQyxPQUFBO0FBQUEsSUFBQUMsa0JBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQWZKLElBQUFHLEtBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLE1BQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLFFBQUEsR0FBQUwsT0FBQTtBQUFrQyxTQUFBWCxZQUFBO0VBQUEsSUFBQWlCLFFBQUEsR0FBQU4sT0FBQTtJQUFBUixJQUFBLEdBQUFjLFFBQUEsQ0FBQWQsSUFBQTtFQUFBSCxXQUFBLFlBQUFBLFlBQUE7SUFBQSxPQUFBRyxJQUFBO0VBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFlbENlLFFBQVEsQ0FBQyxzQkFBc0IsRUFBRSxZQUFNO0VBQ3JDQyxVQUFVLENBQUMsWUFBTTtJQUNmaEIsSUFBSSxDQUFDaUIsYUFBYSxDQUFDLENBQUM7RUFDdEIsQ0FBQyxDQUFDO0VBRUZDLEVBQUUsQ0FBQyx3REFBd0QsTUFBQVIsa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7SUFDdkVVLGNBQUssQ0FBQ3BCLFFBQVEsQ0FBQ3FCLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVsQyxNQUFNLElBQUFDLGVBQVMsRUFBQyxDQUFDO0lBRWpCQyxNQUFNLENBQUNILGNBQUssQ0FBQ3BCLFFBQVEsQ0FBQyxDQUFDd0IsZ0JBQWdCLENBQUMsQ0FBQztJQUN6Q0QsTUFBTSxDQUFDcEIsZUFBTSxDQUFDQyxJQUFJLENBQUMsQ0FBQ3FCLG9CQUFvQixDQUFDLGdDQUFnQyxDQUFDO0VBQzVFLENBQUMsRUFBQztFQUVGTixFQUFFLENBQUMsa0RBQWtELE1BQUFSLGtCQUFBLENBQUFELE9BQUEsRUFBRSxhQUFZO0lBQ2pFVSxjQUFLLENBQUNwQixRQUFRLENBQUNxQixlQUFlLENBQUNLLFNBQVMsQ0FBQztJQUV6QyxNQUFNSCxNQUFNLENBQUMsSUFBQUQsZUFBUyxFQUFDLENBQUMsQ0FBQyxDQUFDSyxPQUFPLENBQUNDLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQztJQUVyRUwsTUFBTSxDQUFDcEIsZUFBTSxDQUFDRSxLQUFLLENBQUMsQ0FBQ29CLG9CQUFvQixDQUFDLDZCQUE2QixFQUFFO01BQ3ZFcEIsS0FBSyxFQUFFO0lBQ1QsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxFQUFDO0VBRUZjLEVBQUUsQ0FBQywrQ0FBK0MsTUFBQVIsa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7SUFDOUQsSUFBTUwsS0FBSyxHQUFHLElBQUl3QixLQUFLLENBQUMsYUFBYSxDQUFDO0lBQ3RDVCxjQUFLLENBQUNwQixRQUFRLENBQUM4QixrQkFBa0IsQ0FBQyxZQUFNO01BQ3RDLE1BQU16QixLQUFLO0lBQ2IsQ0FBQyxDQUFDO0lBRUYsTUFBTWtCLE1BQU0sQ0FBQyxJQUFBRCxlQUFTLEVBQUMsQ0FBQyxDQUFDLENBQUNLLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLGFBQWEsQ0FBQztJQUV4REwsTUFBTSxDQUFDcEIsZUFBTSxDQUFDRSxLQUFLLENBQUMsQ0FBQ29CLG9CQUFvQixDQUFDLDZCQUE2QixFQUFFO01BQ3ZFcEIsS0FBSyxFQUFFO0lBQ1QsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxFQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119