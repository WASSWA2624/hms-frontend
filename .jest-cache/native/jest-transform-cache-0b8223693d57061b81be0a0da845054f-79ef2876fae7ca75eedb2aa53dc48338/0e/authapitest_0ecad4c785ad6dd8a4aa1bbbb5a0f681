ba3f8fe8370a23e9baf73bfbec052b8e
_getJestObj().mock("../../../services/api", function () {
  return {
    apiClient: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _api = require("../../../services/api");
var _endpoints = require("../../../config/endpoints");
var _auth = require("../../../features/auth");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('auth.api', function () {
  beforeEach(function () {
    _api.apiClient.mockClear();
  });
  it('calls auth endpoints', (0, _asyncToGenerator2.default)(function* () {
    yield (0, _auth.loginApi)({
      email: 'user',
      password: 'pass'
    });
    yield (0, _auth.logoutApi)();
    yield (0, _auth.refreshApi)({
      refreshToken: 'token'
    });
    yield (0, _auth.registerApi)({
      email: 'user'
    });
    yield (0, _auth.verifyEmailApi)({
      token: 't'
    });
    yield (0, _auth.verifyPhoneApi)({
      token: 't'
    });
    yield (0, _auth.resendVerificationApi)({
      email: 'user'
    });
    yield (0, _auth.forgotPasswordApi)({
      email: 'user'
    });
    yield (0, _auth.resetPasswordApi)({
      token: 't'
    });
    yield (0, _auth.changePasswordApi)({
      currentPassword: 'old',
      newPassword: 'new'
    });
    yield (0, _auth.getCurrentUserApi)();
    expect(_api.apiClient).toHaveBeenCalledWith({
      url: _endpoints.endpoints.AUTH.LOGIN,
      method: 'POST',
      body: {
        email: 'user',
        password: 'pass'
      }
    });
    expect(_api.apiClient).toHaveBeenCalledWith({
      url: _endpoints.endpoints.AUTH.LOGOUT,
      method: 'POST'
    });
    expect(_api.apiClient).toHaveBeenCalledWith({
      url: _endpoints.endpoints.AUTH.REFRESH,
      method: 'POST',
      body: {
        refreshToken: 'token'
      }
    });
    expect(_api.apiClient).toHaveBeenCalledWith({
      url: _endpoints.endpoints.AUTH.ME,
      method: 'GET'
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJhcGlDbGllbnQiLCJqZXN0IiwiZm4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImRlZmF1bHQiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfYXBpIiwiX2VuZHBvaW50cyIsIl9hdXRoIiwiX3JlcXVpcmUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJtb2NrQ2xlYXIiLCJpdCIsImxvZ2luQXBpIiwiZW1haWwiLCJwYXNzd29yZCIsImxvZ291dEFwaSIsInJlZnJlc2hBcGkiLCJyZWZyZXNoVG9rZW4iLCJyZWdpc3RlckFwaSIsInZlcmlmeUVtYWlsQXBpIiwidG9rZW4iLCJ2ZXJpZnlQaG9uZUFwaSIsInJlc2VuZFZlcmlmaWNhdGlvbkFwaSIsImZvcmdvdFBhc3N3b3JkQXBpIiwicmVzZXRQYXNzd29yZEFwaSIsImNoYW5nZVBhc3N3b3JkQXBpIiwiY3VycmVudFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJnZXRDdXJyZW50VXNlckFwaSIsImV4cGVjdCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwidXJsIiwiZW5kcG9pbnRzIiwiQVVUSCIsIkxPR0lOIiwibWV0aG9kIiwiYm9keSIsIkxPR09VVCIsIlJFRlJFU0giLCJNRSJdLCJzb3VyY2VzIjpbImF1dGguYXBpLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEF1dGggQVBJIFRlc3RzXHJcbiAqIEZpbGU6IGF1dGguYXBpLnRlc3QuanNcclxuICovXHJcbmltcG9ydCB7IGFwaUNsaWVudCB9IGZyb20gJ0BzZXJ2aWNlcy9hcGknO1xyXG5pbXBvcnQgeyBlbmRwb2ludHMgfSBmcm9tICdAY29uZmlnL2VuZHBvaW50cyc7XHJcbmltcG9ydCB7XHJcbiAgbG9naW5BcGksXHJcbiAgbG9nb3V0QXBpLFxyXG4gIHJlZnJlc2hBcGksXHJcbiAgcmVnaXN0ZXJBcGksXHJcbiAgdmVyaWZ5RW1haWxBcGksXHJcbiAgdmVyaWZ5UGhvbmVBcGksXHJcbiAgcmVzZW5kVmVyaWZpY2F0aW9uQXBpLFxyXG4gIGZvcmdvdFBhc3N3b3JkQXBpLFxyXG4gIHJlc2V0UGFzc3dvcmRBcGksXHJcbiAgY2hhbmdlUGFzc3dvcmRBcGksXHJcbiAgZ2V0Q3VycmVudFVzZXJBcGksXHJcbn0gZnJvbSAnQGZlYXR1cmVzL2F1dGgnO1xyXG5cclxuamVzdC5tb2NrKCdAc2VydmljZXMvYXBpJywgKCkgPT4gKHtcclxuICBhcGlDbGllbnQ6IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuZGVzY3JpYmUoJ2F1dGguYXBpJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgYXBpQ2xpZW50Lm1vY2tDbGVhcigpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnY2FsbHMgYXV0aCBlbmRwb2ludHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBhd2FpdCBsb2dpbkFwaSh7IGVtYWlsOiAndXNlcicsIHBhc3N3b3JkOiAncGFzcycgfSk7XHJcbiAgICBhd2FpdCBsb2dvdXRBcGkoKTtcclxuICAgIGF3YWl0IHJlZnJlc2hBcGkoeyByZWZyZXNoVG9rZW46ICd0b2tlbicgfSk7XHJcbiAgICBhd2FpdCByZWdpc3RlckFwaSh7IGVtYWlsOiAndXNlcicgfSk7XHJcbiAgICBhd2FpdCB2ZXJpZnlFbWFpbEFwaSh7IHRva2VuOiAndCcgfSk7XHJcbiAgICBhd2FpdCB2ZXJpZnlQaG9uZUFwaSh7IHRva2VuOiAndCcgfSk7XHJcbiAgICBhd2FpdCByZXNlbmRWZXJpZmljYXRpb25BcGkoeyBlbWFpbDogJ3VzZXInIH0pO1xyXG4gICAgYXdhaXQgZm9yZ290UGFzc3dvcmRBcGkoeyBlbWFpbDogJ3VzZXInIH0pO1xyXG4gICAgYXdhaXQgcmVzZXRQYXNzd29yZEFwaSh7IHRva2VuOiAndCcgfSk7XHJcbiAgICBhd2FpdCBjaGFuZ2VQYXNzd29yZEFwaSh7IGN1cnJlbnRQYXNzd29yZDogJ29sZCcsIG5ld1Bhc3N3b3JkOiAnbmV3JyB9KTtcclxuICAgIGF3YWl0IGdldEN1cnJlbnRVc2VyQXBpKCk7XHJcblxyXG4gICAgZXhwZWN0KGFwaUNsaWVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xyXG4gICAgICB1cmw6IGVuZHBvaW50cy5BVVRILkxPR0lOLFxyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgYm9keTogeyBlbWFpbDogJ3VzZXInLCBwYXNzd29yZDogJ3Bhc3MnIH0sXHJcbiAgICB9KTtcclxuICAgIGV4cGVjdChhcGlDbGllbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcclxuICAgICAgdXJsOiBlbmRwb2ludHMuQVVUSC5MT0dPVVQsXHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgfSk7XHJcbiAgICBleHBlY3QoYXBpQ2xpZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XHJcbiAgICAgIHVybDogZW5kcG9pbnRzLkFVVEguUkVGUkVTSCxcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGJvZHk6IHsgcmVmcmVzaFRva2VuOiAndG9rZW4nIH0sXHJcbiAgICB9KTtcclxuICAgIGV4cGVjdChhcGlDbGllbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcclxuICAgICAgdXJsOiBlbmRwb2ludHMuQVVUSC5NRSxcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiQUFvQkFBLFdBQUEsR0FBS0MsSUFBSSwwQkFBa0I7RUFBQSxPQUFPO0lBQ2hDQyxTQUFTLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQ3JCLENBQUM7QUFBQSxDQUFDLENBQUM7QUFBQyxJQUFBQyxzQkFBQSxHQUFBQyxPQUFBLGlEQUFBQyxPQUFBO0FBQUEsSUFBQUMsa0JBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQWxCSixJQUFBRyxJQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxVQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxLQUFBLEdBQUFMLE9B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