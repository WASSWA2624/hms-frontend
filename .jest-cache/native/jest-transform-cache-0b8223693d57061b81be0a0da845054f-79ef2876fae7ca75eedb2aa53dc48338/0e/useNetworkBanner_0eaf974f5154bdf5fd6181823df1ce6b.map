{"version":3,"names":["useEffect","useRef","useState","useNetwork","DEFAULT_ONLINE_DURATION","cov_14vd3yskhj","s","useNetworkBanner","_ref","arguments","length","undefined","b","_ref$duration","duration","f","_ref2","isOnline","isOffline","isLowQuality","networkQuality","_ref3","_ref4","_slicedToArray","showOnlineBanner","setShowOnlineBanner","timeoutRef","wasOnlineRef","current","clearTimeout","setTimeout"],"sources":["useNetworkBanner.js"],"sourcesContent":["/**\r\n * useNetworkBanner Hook\r\n * Provides transient online banner visibility on reconnect.\r\n * File: useNetworkBanner.js\r\n */\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport useNetwork from './useNetwork';\r\n\r\nconst DEFAULT_ONLINE_DURATION = 4000;\r\n\r\nconst useNetworkBanner = ({ duration = DEFAULT_ONLINE_DURATION } = {}) => {\r\n  const { isOnline, isOffline, isLowQuality, networkQuality } = useNetwork();\r\n  const [showOnlineBanner, setShowOnlineBanner] = useState(false);\r\n  const timeoutRef = useRef(null);\r\n  const wasOnlineRef = useRef(isOnline);\r\n\r\n  useEffect(() => {\r\n    if (isOnline && !wasOnlineRef.current) {\r\n      setShowOnlineBanner(true);\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n      timeoutRef.current = setTimeout(() => {\r\n        setShowOnlineBanner(false);\r\n        timeoutRef.current = null;\r\n      }, duration);\r\n    }\r\n\r\n    if (!isOnline) {\r\n      setShowOnlineBanner(false);\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n        timeoutRef.current = null;\r\n      }\r\n    }\r\n\r\n    wasOnlineRef.current = isOnline;\r\n  }, [duration, isOnline]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    isOnline,\r\n    isOffline,\r\n    isLowQuality,\r\n    networkQuality,\r\n    showOnlineBanner,\r\n  };\r\n};\r\n\r\nexport default useNetworkBanner;\r\n"],"mappings":"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","ignoreList":[]}