{"version":3,"names":["SlotTestId","_getJestObj","mock","Slot","MockSlot","_ref","children","require","createElement","useRouter","jest","fn","replace","push","useAuthGuard","authenticated","user","id","email","React","_require","MainRouteLayout","MockMainRouteLayout","_interopRequireDefault","default","_react","_reactRedux","_reactNative","_toolkit","_rootReducer","_jsxRuntime","_require2","createMockStore","initialState","arguments","length","undefined","configureStore","reducer","rootReducer","preloadedState","Object","assign","ui","theme","locale","isLoading","network","isOnline","describe","AppMainLayout","beforeAll","test","expect","toBeDefined","toBe","store","render","jsx","Provider","not","toThrow","_render","getByTestId","toBeTruthy","_render2","UNSAFE_root"],"sources":["main-layout.test.js"],"sourcesContent":["/**\r\n * Main Layout Tests\r\n * File: main-layout.test.js\r\n *\r\n * Tests for src/app/(main)/_layout.jsx (Step 7.10)\r\n *\r\n * Per testing.mdc:\r\n * - Test that layout renders without errors\r\n * - Test that child routes are rendered via `<Slot />` (mock child routes)\r\n * - Mock expo-router exports as needed\r\n * - Test all branches\r\n *\r\n * Per app-router.mdc: layouts use _layout.jsx, default export, Slot for child routes.\r\n * Per Step 7.10: Main group layout exists and renders routes.\r\n */\r\n\r\nimport React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { render } from '@testing-library/react-native';\r\nimport { configureStore } from '@reduxjs/toolkit';\r\nimport rootReducer from '@store/rootReducer';\r\n\r\nconst SlotTestId = 'expo-router-slot';\r\n\r\njest.mock('expo-router', () => ({\r\n  Slot: function MockSlot({ children }) {\r\n    return require('react').createElement('div', { 'data-testid': SlotTestId }, children ?? null);\r\n  },\r\n  useRouter: jest.fn(() => ({ replace: jest.fn(), push: jest.fn() })),\r\n}));\r\n\r\njest.mock('@navigation/guards', () => ({\r\n  useAuthGuard: jest.fn(() => ({ authenticated: true, user: { id: '1', email: 'test@example.com' } })),\r\n}));\r\n\r\njest.mock('@platform/layouts', () => {\r\n  const React = require('react');\r\n  const { Slot } = require('expo-router');\r\n  const MainRouteLayout = function MockMainRouteLayout() {\r\n    return React.createElement(Slot);\r\n  };\r\n  return { MainRouteLayout };\r\n});\r\n\r\nconst createMockStore = (initialState = {}) =>\r\n  configureStore({\r\n    reducer: rootReducer,\r\n    preloadedState: {\r\n      ui: { theme: 'light', locale: 'en', isLoading: false },\r\n      network: { isOnline: true },\r\n      ...initialState,\r\n    },\r\n  });\r\n\r\ndescribe('app/(main)/_layout.jsx', () => {\r\n  let AppMainLayout;\r\n\r\n  beforeAll(() => {\r\n    AppMainLayout = require('@app/(main)/_layout').default;\r\n  });\r\n\r\n  test('has default export', () => {\r\n    expect(AppMainLayout).toBeDefined();\r\n    expect(typeof AppMainLayout).toBe('function');\r\n  });\r\n\r\n  test('renders without errors', () => {\r\n    const store = createMockStore();\r\n    expect(() => {\r\n      render(\r\n        <Provider store={store}>\r\n          <AppMainLayout />\r\n        </Provider>\r\n      );\r\n    }).not.toThrow();\r\n  });\r\n\r\n  test('renders child routes via Slot (per app-router.mdc)', () => {\r\n    const store = createMockStore();\r\n    const { getByTestId } = render(\r\n      <Provider store={store}>\r\n        <AppMainLayout />\r\n      </Provider>\r\n    );\r\n    expect(getByTestId(SlotTestId)).toBeTruthy();\r\n  });\r\n\r\n  test('layout is usable as group layout wrapper', () => {\r\n    const store = createMockStore();\r\n    const { UNSAFE_root } = render(\r\n      <Provider store={store}>\r\n        <AppMainLayout />\r\n      </Provider>\r\n    );\r\n    expect(UNSAFE_root).toBeDefined();\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}