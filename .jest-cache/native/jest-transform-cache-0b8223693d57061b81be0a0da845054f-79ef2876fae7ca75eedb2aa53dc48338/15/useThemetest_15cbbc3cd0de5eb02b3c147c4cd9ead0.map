{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_reactTestRenderer","_reactRedux","_toolkit","_useTheme","_rootReducer","_theme","_jsxRuntime","createMockStore","preloadedState","arguments","length","undefined","configureStore","reducer","rootReducer","TestComponent","_ref","onResult","theme","useTheme","React","useEffect","describe","it","_asyncToGenerator2","default","store","ui","locale","isLoading","result","render","jsx","Provider","children","value","waitFor","expect","toBe","lightTheme","darkTheme","toBeDefined","toContain","results","renderTree","push","_render","rerender","act","toBeGreaterThanOrEqual"],"sources":["useTheme.test.js"],"sourcesContent":["/**\r\n * useTheme Hook Tests\r\n * File: useTheme.test.js\r\n */\r\nimport React from 'react';\r\nimport { render, waitFor } from '@testing-library/react-native';\r\nimport { act } from 'react-test-renderer';\r\nimport { Provider } from 'react-redux';\r\nimport { configureStore } from '@reduxjs/toolkit';\r\nimport useTheme from '@hooks/useTheme';\r\nimport rootReducer from '@store/rootReducer';\r\nimport { darkTheme, lightTheme } from '@theme';\r\n\r\nconst createMockStore = (preloadedState = {}) =>\r\n  configureStore({\r\n    reducer: rootReducer,\r\n    preloadedState,\r\n  });\r\n\r\nconst TestComponent = ({ onResult }) => {\r\n  const theme = useTheme();\r\n\r\n  // Intentionally run after every render so tests can observe stability across rerenders.\r\n  React.useEffect(() => {\r\n    onResult(theme);\r\n  });\r\n\r\n  return null;\r\n};\r\n\r\ndescribe('useTheme', () => {\r\n  it('returns light theme by default', async () => {\r\n    const store = createMockStore({\r\n      ui: { theme: 'light', locale: 'en', isLoading: false },\r\n    });\r\n\r\n    let result;\r\n    render(\r\n      <Provider store={store}>\r\n        <TestComponent onResult={(value) => (result = value)} />\r\n      </Provider>\r\n    );\r\n\r\n    await waitFor(() => expect(result).toBe(lightTheme));\r\n  });\r\n\r\n  it('returns dark theme when theme mode is dark', async () => {\r\n    const store = createMockStore({\r\n      ui: { theme: 'dark', locale: 'en', isLoading: false },\r\n    });\r\n\r\n    let result;\r\n    render(\r\n      <Provider store={store}>\r\n        <TestComponent onResult={(value) => (result = value)} />\r\n      </Provider>\r\n    );\r\n\r\n    await waitFor(() => expect(result).toBe(darkTheme));\r\n  });\r\n\r\n  it('returns light or dark theme when theme mode is system (resolved at runtime)', async () => {\r\n    const store = createMockStore({\r\n      ui: { theme: 'system', locale: 'en', isLoading: false },\r\n    });\r\n\r\n    let result;\r\n    render(\r\n      <Provider store={store}>\r\n        <TestComponent onResult={(value) => (result = value)} />\r\n      </Provider>\r\n    );\r\n\r\n    await waitFor(() => expect(result).toBeDefined());\r\n    expect([lightTheme, darkTheme]).toContain(result);\r\n  });\r\n\r\n  it('does not crash and falls back to light theme when theme mode is undefined', async () => {\r\n    const store = createMockStore({\r\n      ui: { theme: undefined, locale: 'en', isLoading: false },\r\n    });\r\n\r\n    let result;\r\n    render(\r\n      <Provider store={store}>\r\n        <TestComponent onResult={(value) => (result = value)} />\r\n      </Provider>\r\n    );\r\n\r\n    await waitFor(() => expect(result).toBe(lightTheme));\r\n  });\r\n\r\n  it('returns a stable theme reference across unrelated rerenders', async () => {\r\n    const store = createMockStore({\r\n      ui: { theme: 'light', locale: 'en', isLoading: false },\r\n    });\r\n\r\n    const results = [];\r\n    const renderTree = () => (\r\n      <Provider store={store}>\r\n        <TestComponent onResult={(value) => results.push(value)} />\r\n      </Provider>\r\n    );\r\n\r\n    const { rerender } = render(renderTree());\r\n\r\n    await waitFor(() => expect(results[0]).toBe(lightTheme));\r\n\r\n    act(() => {\r\n      rerender(renderTree());\r\n    });\r\n\r\n    await waitFor(() => expect(results.length).toBeGreaterThanOrEqual(2));\r\n    expect(results[1]).toBe(results[0]);\r\n  });\r\n});\r\n"],"mappings":";;AAIA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,kBAAA,GAAAF,OAAA;AACA,IAAAG,WAAA,GAAAH,OAAA;AACA,IAAAI,QAAA,GAAAJ,OAAA;AACA,IAAAK,SAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,YAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,MAAA,GAAAP,OAAA;AAA+C,IAAAQ,WAAA,GAAAR,OAAA;AAE/C,IAAMS,eAAe,GAAG,SAAlBA,eAAeA,CAAA;EAAA,IAAIC,cAAc,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,OAC1C,IAAAG,uBAAc,EAAC;IACbC,OAAO,EAAEC,oBAAW;IACpBN,cAAc,EAAdA;EACF,CAAC,CAAC;AAAA;AAEJ,IAAMO,aAAa,GAAG,SAAhBA,aAAaA,CAAAC,IAAA,EAAqB;EAAA,IAAfC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EAC/B,IAAMC,KAAK,GAAG,IAAAC,iBAAQ,EAAC,CAAC;EAGxBC,cAAK,CAACC,SAAS,CAAC,YAAM;IACpBJ,QAAQ,CAACC,KAAK,CAAC;EACjB,CAAC,CAAC;EAEF,OAAO,IAAI;AACb,CAAC;AAEDI,QAAQ,CAAC,UAAU,EAAE,YAAM;EACzBC,EAAE,CAAC,gCAAgC,MAAAC,kBAAA,CAAAC,OAAA,EAAE,aAAY;IAC/C,IAAMC,KAAK,GAAGnB,eAAe,CAAC;MAC5BoB,EAAE,EAAE;QAAET,KAAK,EAAE,OAAO;QAAEU,MAAM,EAAE,IAAI;QAAEC,SAAS,EAAE;MAAM;IACvD,CAAC,CAAC;IAEF,IAAIC,MAAM;IACV,IAAAC,mBAAM,EACJ,IAAAzB,WAAA,CAAA0B,GAAA,EAAC/B,WAAA,CAAAgC,QAAQ;MAACP,KAAK,EAAEA,KAAM;MAAAQ,QAAA,EACrB,IAAA5B,WAAA,CAAA0B,GAAA,EAACjB,aAAa;QAACE,QAAQ,EAAE,SAAVA,QAAQA,CAAGkB,KAAK;UAAA,OAAML,MAAM,GAAGK,KAAK;QAAA;MAAE,CAAE;IAAC,CAChD,CACZ,CAAC;IAED,MAAM,IAAAC,oBAAO,EAAC;MAAA,OAAMC,MAAM,CAACP,MAAM,CAAC,CAACQ,IAAI,CAACC,iBAAU,CAAC;IAAA,EAAC;EACtD,CAAC,EAAC;EAEFhB,EAAE,CAAC,4CAA4C,MAAAC,kBAAA,CAAAC,OAAA,EAAE,aAAY;IAC3D,IAAMC,KAAK,GAAGnB,eAAe,CAAC;MAC5BoB,EAAE,EAAE;QAAET,KAAK,EAAE,MAAM;QAAEU,MAAM,EAAE,IAAI;QAAEC,SAAS,EAAE;MAAM;IACtD,CAAC,CAAC;IAEF,IAAIC,MAAM;IACV,IAAAC,mBAAM,EACJ,IAAAzB,WAAA,CAAA0B,GAAA,EAAC/B,WAAA,CAAAgC,QAAQ;MAACP,KAAK,EAAEA,KAAM;MAAAQ,QAAA,EACrB,IAAA5B,WAAA,CAAA0B,GAAA,EAACjB,aAAa;QAACE,QAAQ,EAAE,SAAVA,QAAQA,CAAGkB,KAAK;UAAA,OAAML,MAAM,GAAGK,KAAK;QAAA;MAAE,CAAE;IAAC,CAChD,CACZ,CAAC;IAED,MAAM,IAAAC,oBAAO,EAAC;MAAA,OAAMC,MAAM,CAACP,MAAM,CAAC,CAACQ,IAAI,CAACE,gBAAS,CAAC;IAAA,EAAC;EACrD,CAAC,EAAC;EAEFjB,EAAE,CAAC,6EAA6E,MAAAC,kBAAA,CAAAC,OAAA,EAAE,aAAY;IAC5F,IAAMC,KAAK,GAAGnB,eAAe,CAAC;MAC5BoB,EAAE,EAAE;QAAET,KAAK,EAAE,QAAQ;QAAEU,MAAM,EAAE,IAAI;QAAEC,SAAS,EAAE;MAAM;IACxD,CAAC,CAAC;IAEF,IAAIC,MAAM;IACV,IAAAC,mBAAM,EACJ,IAAAzB,WAAA,CAAA0B,GAAA,EAAC/B,WAAA,CAAAgC,QAAQ;MAACP,KAAK,EAAEA,KAAM;MAAAQ,QAAA,EACrB,IAAA5B,WAAA,CAAA0B,GAAA,EAACjB,aAAa;QAACE,QAAQ,EAAE,SAAVA,QAAQA,CAAGkB,KAAK;UAAA,OAAML,MAAM,GAAGK,KAAK;QAAA;MAAE,CAAE;IAAC,CAChD,CACZ,CAAC;IAED,MAAM,IAAAC,oBAAO,EAAC;MAAA,OAAMC,MAAM,CAACP,MAAM,CAAC,CAACW,WAAW,CAAC,CAAC;IAAA,EAAC;IACjDJ,MAAM,CAAC,CAACE,iBAAU,EAAEC,gBAAS,CAAC,CAAC,CAACE,SAAS,CAACZ,MAAM,CAAC;EACnD,CAAC,EAAC;EAEFP,EAAE,CAAC,2EAA2E,MAAAC,kBAAA,CAAAC,OAAA,EAAE,aAAY;IAC1F,IAAMC,KAAK,GAAGnB,eAAe,CAAC;MAC5BoB,EAAE,EAAE;QAAET,KAAK,EAAEP,SAAS;QAAEiB,MAAM,EAAE,IAAI;QAAEC,SAAS,EAAE;MAAM;IACzD,CAAC,CAAC;IAEF,IAAIC,MAAM;IACV,IAAAC,mBAAM,EACJ,IAAAzB,WAAA,CAAA0B,GAAA,EAAC/B,WAAA,CAAAgC,QAAQ;MAACP,KAAK,EAAEA,KAAM;MAAAQ,QAAA,EACrB,IAAA5B,WAAA,CAAA0B,GAAA,EAACjB,aAAa;QAACE,QAAQ,EAAE,SAAVA,QAAQA,CAAGkB,KAAK;UAAA,OAAML,MAAM,GAAGK,KAAK;QAAA;MAAE,CAAE;IAAC,CAChD,CACZ,CAAC;IAED,MAAM,IAAAC,oBAAO,EAAC;MAAA,OAAMC,MAAM,CAACP,MAAM,CAAC,CAACQ,IAAI,CAACC,iBAAU,CAAC;IAAA,EAAC;EACtD,CAAC,EAAC;EAEFhB,EAAE,CAAC,6DAA6D,MAAAC,kBAAA,CAAAC,OAAA,EAAE,aAAY;IAC5E,IAAMC,KAAK,GAAGnB,eAAe,CAAC;MAC5BoB,EAAE,EAAE;QAAET,KAAK,EAAE,OAAO;QAAEU,MAAM,EAAE,IAAI;QAAEC,SAAS,EAAE;MAAM;IACvD,CAAC,CAAC;IAEF,IAAMc,OAAO,GAAG,EAAE;IAClB,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAA;MAAA,OACd,IAAAtC,WAAA,CAAA0B,GAAA,EAAC/B,WAAA,CAAAgC,QAAQ;QAACP,KAAK,EAAEA,KAAM;QAAAQ,QAAA,EACrB,IAAA5B,WAAA,CAAA0B,GAAA,EAACjB,aAAa;UAACE,QAAQ,EAAE,SAAVA,QAAQA,CAAGkB,KAAK;YAAA,OAAKQ,OAAO,CAACE,IAAI,CAACV,KAAK,CAAC;UAAA;QAAC,CAAE;MAAC,CACnD,CAAC;IAAA,CACZ;IAED,IAAAW,OAAA,GAAqB,IAAAf,mBAAM,EAACa,UAAU,CAAC,CAAC,CAAC;MAAjCG,QAAQ,GAAAD,OAAA,CAARC,QAAQ;IAEhB,MAAM,IAAAX,oBAAO,EAAC;MAAA,OAAMC,MAAM,CAACM,OAAO,CAAC,CAAC,CAAC,CAAC,CAACL,IAAI,CAACC,iBAAU,CAAC;IAAA,EAAC;IAExD,IAAAS,sBAAG,EAAC,YAAM;MACRD,QAAQ,CAACH,UAAU,CAAC,CAAC,CAAC;IACxB,CAAC,CAAC;IAEF,MAAM,IAAAR,oBAAO,EAAC;MAAA,OAAMC,MAAM,CAACM,OAAO,CAACjC,MAAM,CAAC,CAACuC,sBAAsB,CAAC,CAAC,CAAC;IAAA,EAAC;IACrEZ,MAAM,CAACM,OAAO,CAAC,CAAC,CAAC,CAAC,CAACL,IAAI,CAACK,OAAO,CAAC,CAAC,CAAC,CAAC;EACrC,CAAC,EAAC;AACJ,CAAC,CAAC","ignoreList":[]}