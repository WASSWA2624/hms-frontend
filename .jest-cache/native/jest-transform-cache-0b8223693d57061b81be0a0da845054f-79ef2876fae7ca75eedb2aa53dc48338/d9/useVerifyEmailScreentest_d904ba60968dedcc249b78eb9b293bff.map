{"version":3,"names":["_getJestObj","mock","useAuth","jest","fn","useI18n","useNetwork","useRouter","_interopRequireDefault","require","default","_asyncToGenerator2","_require3","React","TestRenderer","_require","_require2","useVerifyEmailScreen","act","renderHook","hook","result","renderer","HookHarness","hookResult","Object","assign","create","createElement","current","unmount","describe","verifyEmail","Promise","resolve","clearError","push","t","key","beforeEach","clearAllMocks","mockReturnValue","isLoading","errorCode","isOffline","it","_renderHook","handleChangeToken","handleChangeEmail","handleSubmit","expect","toHaveBeenCalled","toHaveBeenCalledWith","token","email","_renderHook2","errorMessage","toBe","_renderHook3","handleGoToLogin"],"sources":["useVerifyEmailScreen.test.js"],"sourcesContent":["/**\r\n * useVerifyEmailScreen Hook Tests\r\n * File: useVerifyEmailScreen.test.js\r\n */\r\nconst React = require('react');\r\nconst TestRenderer = require('react-test-renderer');\r\nconst { useAuth, useI18n, useNetwork } = require('@hooks');\r\nconst { useRouter } = require('expo-router');\r\n\r\nconst useVerifyEmailScreen = require('@platform/screens/auth/VerifyEmailScreen/useVerifyEmailScreen').default;\r\n\r\njest.mock('@hooks', () => ({\r\n  useAuth: jest.fn(),\r\n  useI18n: jest.fn(),\r\n  useNetwork: jest.fn(),\r\n}));\r\n\r\njest.mock('expo-router', () => ({\r\n  useRouter: jest.fn(),\r\n}));\r\n\r\nconst act = TestRenderer.act;\r\nconst renderHook = (hook) => {\r\n  const result = {};\r\n  let renderer;\r\n\r\n  const HookHarness = () => {\r\n    const hookResult = hook();\r\n    Object.assign(result, hookResult);\r\n    return null;\r\n  };\r\n\r\n  act(() => {\r\n    renderer = TestRenderer.create(React.createElement(HookHarness));\r\n  });\r\n\r\n  return {\r\n    result: { current: result },\r\n    unmount: () => {\r\n      act(() => {\r\n        renderer.unmount();\r\n      });\r\n    },\r\n  };\r\n};\r\n\r\ndescribe('useVerifyEmailScreen Hook', () => {\r\n  const verifyEmail = jest.fn(() => Promise.resolve({}));\r\n  const clearError = jest.fn();\r\n  const push = jest.fn();\r\n  const t = jest.fn((key) => {\r\n    if (key === 'errors.codes.UNKNOWN_ERROR') return 'Unknown error';\r\n    if (key === 'errors.codes.UNAUTHORIZED') return 'Unauthorized';\r\n    return key;\r\n  });\r\n\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    useAuth.mockReturnValue({\r\n      verifyEmail,\r\n      clearError,\r\n      isLoading: false,\r\n      errorCode: null,\r\n    });\r\n    useI18n.mockReturnValue({ t });\r\n    useNetwork.mockReturnValue({ isOffline: false });\r\n    useRouter.mockReturnValue({ push });\r\n  });\r\n\r\n  it('submits verify email payload', async () => {\r\n    const { result } = renderHook(() => useVerifyEmailScreen());\r\n    act(() => {\r\n      result.current.handleChangeToken('token');\r\n      result.current.handleChangeEmail('user@example.com');\r\n    });\r\n    await act(async () => {\r\n      await result.current.handleSubmit();\r\n    });\r\n    expect(clearError).toHaveBeenCalled();\r\n    expect(verifyEmail).toHaveBeenCalledWith({\r\n      token: 'token',\r\n      email: 'user@example.com',\r\n    });\r\n  });\r\n\r\n  it('maps error codes to i18n messages', () => {\r\n    useAuth.mockReturnValue({\r\n      verifyEmail,\r\n      clearError,\r\n      isLoading: false,\r\n      errorCode: 'UNAUTHORIZED',\r\n    });\r\n    const { result } = renderHook(() => useVerifyEmailScreen());\r\n    expect(result.current.errorMessage).toBe('Unauthorized');\r\n  });\r\n\r\n  it('handles navigation actions', () => {\r\n    const { result } = renderHook(() => useVerifyEmailScreen());\r\n    act(() => {\r\n      result.current.handleGoToLogin();\r\n    });\r\n    expect(push).toHaveBeenCalledWith('/login');\r\n  });\r\n});\r\n\r\n"],"mappings":"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","ignoreList":[]}