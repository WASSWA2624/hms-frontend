d795e1f89582a172b81d38a4b714bc18
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _useFormField = _interopRequireDefault(require("../../../../platform/patterns/FormField/useFormField"));
describe('useFormField', function () {
  it('returns inputId from name when name is non-empty string', function () {
    var result = (0, _useFormField.default)({
      name: 'email',
      testID: 't',
      errorMessage: ''
    });
    expect(result.inputId).toBe('email');
    expect(result.hasError).toBe(false);
    expect(result.validationState).toBe('default');
  });
  it('returns inputId from testID when name is empty string', function () {
    var result = (0, _useFormField.default)({
      name: '',
      testID: 'my-field',
      errorMessage: ''
    });
    expect(result.inputId).toBe('formfield-my-field');
  });
  it('returns inputId from testID when name is undefined', function () {
    var result = (0, _useFormField.default)({
      testID: 'x',
      errorMessage: ''
    });
    expect(result.inputId).toBe('formfield-x');
  });
  it('returns undefined inputId when testID is empty string', function () {
    var result = (0, _useFormField.default)({
      name: '',
      testID: '',
      errorMessage: ''
    });
    expect(result.inputId).toBeUndefined();
  });
  it('returns undefined inputId when name and testID are invalid', function () {
    expect((0, _useFormField.default)({
      name: 123,
      testID: '',
      errorMessage: ''
    }).inputId).toBeUndefined();
    expect((0, _useFormField.default)({
      name: '',
      errorMessage: ''
    }).inputId).toBeUndefined();
  });
  it('sets hasError and validationState when errorMessage is provided', function () {
    var result = (0, _useFormField.default)({
      name: 'f',
      errorMessage: 'Invalid'
    });
    expect(result.hasError).toBe(true);
    expect(result.validationState).toBe('error');
  });
  it('prefers name over testID for inputId when both valid', function () {
    var result = (0, _useFormField.default)({
      name: 'field',
      testID: 'tid',
      errorMessage: ''
    });
    expect(result.inputId).toBe('field');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlRm9ybUZpZWxkIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJkZXNjcmliZSIsIml0IiwicmVzdWx0IiwidXNlRm9ybUZpZWxkIiwibmFtZSIsInRlc3RJRCIsImVycm9yTWVzc2FnZSIsImV4cGVjdCIsImlucHV0SWQiLCJ0b0JlIiwiaGFzRXJyb3IiLCJ2YWxpZGF0aW9uU3RhdGUiLCJ0b0JlVW5kZWZpbmVkIl0sInNvdXJjZXMiOlsidXNlRm9ybUZpZWxkLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIHVzZUZvcm1GaWVsZCBUZXN0c1xyXG4gKiBGaWxlOiB1c2VGb3JtRmllbGQudGVzdC5qc1xyXG4gKi9cclxuXHJcbmltcG9ydCB1c2VGb3JtRmllbGQgZnJvbSAnQHBsYXRmb3JtL3BhdHRlcm5zL0Zvcm1GaWVsZC91c2VGb3JtRmllbGQnO1xyXG5cclxuZGVzY3JpYmUoJ3VzZUZvcm1GaWVsZCcsICgpID0+IHtcclxuICBpdCgncmV0dXJucyBpbnB1dElkIGZyb20gbmFtZSB3aGVuIG5hbWUgaXMgbm9uLWVtcHR5IHN0cmluZycsICgpID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IHVzZUZvcm1GaWVsZCh7IG5hbWU6ICdlbWFpbCcsIHRlc3RJRDogJ3QnLCBlcnJvck1lc3NhZ2U6ICcnIH0pO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5pbnB1dElkKS50b0JlKCdlbWFpbCcpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5oYXNFcnJvcikudG9CZShmYWxzZSk7XHJcbiAgICBleHBlY3QocmVzdWx0LnZhbGlkYXRpb25TdGF0ZSkudG9CZSgnZGVmYXVsdCcpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgncmV0dXJucyBpbnB1dElkIGZyb20gdGVzdElEIHdoZW4gbmFtZSBpcyBlbXB0eSBzdHJpbmcnLCAoKSA9PiB7XHJcbiAgICBjb25zdCByZXN1bHQgPSB1c2VGb3JtRmllbGQoeyBuYW1lOiAnJywgdGVzdElEOiAnbXktZmllbGQnLCBlcnJvck1lc3NhZ2U6ICcnIH0pO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5pbnB1dElkKS50b0JlKCdmb3JtZmllbGQtbXktZmllbGQnKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3JldHVybnMgaW5wdXRJZCBmcm9tIHRlc3RJRCB3aGVuIG5hbWUgaXMgdW5kZWZpbmVkJywgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gdXNlRm9ybUZpZWxkKHsgdGVzdElEOiAneCcsIGVycm9yTWVzc2FnZTogJycgfSk7XHJcbiAgICBleHBlY3QocmVzdWx0LmlucHV0SWQpLnRvQmUoJ2Zvcm1maWVsZC14Jyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdyZXR1cm5zIHVuZGVmaW5lZCBpbnB1dElkIHdoZW4gdGVzdElEIGlzIGVtcHR5IHN0cmluZycsICgpID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IHVzZUZvcm1GaWVsZCh7IG5hbWU6ICcnLCB0ZXN0SUQ6ICcnLCBlcnJvck1lc3NhZ2U6ICcnIH0pO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5pbnB1dElkKS50b0JlVW5kZWZpbmVkKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdyZXR1cm5zIHVuZGVmaW5lZCBpbnB1dElkIHdoZW4gbmFtZSBhbmQgdGVzdElEIGFyZSBpbnZhbGlkJywgKCkgPT4ge1xyXG4gICAgZXhwZWN0KHVzZUZvcm1GaWVsZCh7IG5hbWU6IDEyMywgdGVzdElEOiAnJywgZXJyb3JNZXNzYWdlOiAnJyB9KS5pbnB1dElkKS50b0JlVW5kZWZpbmVkKCk7XHJcbiAgICBleHBlY3QodXNlRm9ybUZpZWxkKHsgbmFtZTogJycsIGVycm9yTWVzc2FnZTogJycgfSkuaW5wdXRJZCkudG9CZVVuZGVmaW5lZCgpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2V0cyBoYXNFcnJvciBhbmQgdmFsaWRhdGlvblN0YXRlIHdoZW4gZXJyb3JNZXNzYWdlIGlzIHByb3ZpZGVkJywgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gdXNlRm9ybUZpZWxkKHsgbmFtZTogJ2YnLCBlcnJvck1lc3NhZ2U6ICdJbnZhbGlkJyB9KTtcclxuICAgIGV4cGVjdChyZXN1bHQuaGFzRXJyb3IpLnRvQmUodHJ1ZSk7XHJcbiAgICBleHBlY3QocmVzdWx0LnZhbGlkYXRpb25TdGF0ZSkudG9CZSgnZXJyb3InKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3ByZWZlcnMgbmFtZSBvdmVyIHRlc3RJRCBmb3IgaW5wdXRJZCB3aGVuIGJvdGggdmFsaWQnLCAoKSA9PiB7XHJcbiAgICBjb25zdCByZXN1bHQgPSB1c2VGb3JtRmllbGQoeyBuYW1lOiAnZmllbGQnLCB0ZXN0SUQ6ICd0aWQnLCBlcnJvck1lc3NhZ2U6ICcnIH0pO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5pbnB1dElkKS50b0JlKCdmaWVsZCcpO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiO0FBS0EsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsWUFBTTtFQUM3QkMsRUFBRSxDQUFDLHlEQUF5RCxFQUFFLFlBQU07SUFDbEUsSUFBTUMsTUFBTSxHQUFHLElBQUFDLHFCQUFZLEVBQUM7TUFBRUMsSUFBSSxFQUFFLE9BQU87TUFBRUMsTUFBTSxFQUFFLEdBQUc7TUFBRUMsWUFBWSxFQUFFO0lBQUcsQ0FBQyxDQUFDO0lBQzdFQyxNQUFNLENBQUNMLE1BQU0sQ0FBQ00sT0FBTyxDQUFDLENBQUNDLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDcENGLE1BQU0sQ0FBQ0wsTUFBTSxDQUFDUSxRQUFRLENBQUMsQ0FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNuQ0YsTUFBTSxDQUFDTCxNQUFNLENBQUNTLGVBQWUsQ0FBQyxDQUFDRixJQUFJLENBQUMsU0FBUyxDQUFDO0VBQ2hELENBQUMsQ0FBQztFQUVGUixFQUFFLENBQUMsdURBQXVELEVBQUUsWUFBTTtJQUNoRSxJQUFNQyxNQUFNLEdBQUcsSUFBQUMscUJBQVksRUFBQztNQUFFQyxJQUFJLEVBQUUsRUFBRTtNQUFFQyxNQUFNLEVBQUUsVUFBVTtNQUFFQyxZQUFZLEVBQUU7SUFBRyxDQUFDLENBQUM7SUFDL0VDLE1BQU0sQ0FBQ0wsTUFBTSxDQUFDTSxPQUFPLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLG9CQUFvQixDQUFDO0VBQ25ELENBQUMsQ0FBQztFQUVGUixFQUFFLENBQUMsb0RBQW9ELEVBQUUsWUFBTTtJQUM3RCxJQUFNQyxNQUFNLEdBQUcsSUFBQUMscUJBQVksRUFBQztNQUFFRSxNQUFNLEVBQUUsR0FBRztNQUFFQyxZQUFZLEVBQUU7SUFBRyxDQUFDLENBQUM7SUFDOURDLE1BQU0sQ0FBQ0wsTUFBTSxDQUFDTSxPQUFPLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLGFBQWEsQ0FBQztFQUM1QyxDQUFDLENBQUM7RUFFRlIsRUFBRSxDQUFDLHVEQUF1RCxFQUFFLFlBQU07SUFDaEUsSUFBTUMsTUFBTSxHQUFHLElBQUFDLHFCQUFZLEVBQUM7TUFBRUMsSUFBSSxFQUFFLEVBQUU7TUFBRUMsTUFBTSxFQUFFLEVBQUU7TUFBRUMsWUFBWSxFQUFFO0lBQUcsQ0FBQyxDQUFDO0lBQ3ZFQyxNQUFNLENBQUNMLE1BQU0sQ0FBQ00sT0FBTyxDQUFDLENBQUNJLGFBQWEsQ0FBQyxDQUFDO0VBQ3hDLENBQUMsQ0FBQztFQUVGWCxFQUFFLENBQUMsNERBQTRELEVBQUUsWUFBTTtJQUNyRU0sTUFBTSxDQUFDLElBQUFKLHFCQUFZLEVBQUM7TUFBRUMsSUFBSSxFQUFFLEdBQUc7TUFBRUMsTUFBTSxFQUFFLEVBQUU7TUFBRUMsWUFBWSxFQUFFO0lBQUcsQ0FBQyxDQUFDLENBQUNFLE9BQU8sQ0FBQyxDQUFDSSxhQUFhLENBQUMsQ0FBQztJQUN6RkwsTUFBTSxDQUFDLElBQUFKLHFCQUFZLEVBQUM7TUFBRUMsSUFBSSxFQUFFLEVBQUU7TUFBRUUsWUFBWSxFQUFFO0lBQUcsQ0FBQyxDQUFDLENBQUNFLE9BQU8sQ0FBQyxDQUFDSSxhQUFhLENBQUMsQ0FBQztFQUM5RSxDQUFDLENBQUM7RUFFRlgsRUFBRSxDQUFDLGlFQUFpRSxFQUFFLFlBQU07SUFDMUUsSUFBTUMsTUFBTSxHQUFHLElBQUFDLHFCQUFZLEVBQUM7TUFBRUMsSUFBSSxFQUFFLEdBQUc7TUFBRUUsWUFBWSxFQUFFO0lBQVUsQ0FBQyxDQUFDO0lBQ25FQyxNQUFNLENBQUNMLE1BQU0sQ0FBQ1EsUUFBUSxDQUFDLENBQUNELElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbENGLE1BQU0sQ0FBQ0wsTUFBTSxDQUFDUyxlQUFlLENBQUMsQ0FBQ0YsSUFBSSxDQUFDLE9BQU8sQ0FBQztFQUM5QyxDQUFDLENBQUM7RUFFRlIsRUFBRSxDQUFDLHNEQUFzRCxFQUFFLFlBQU07SUFDL0QsSUFBTUMsTUFBTSxHQUFHLElBQUFDLHFCQUFZLEVBQUM7TUFBRUMsSUFBSSxFQUFFLE9BQU87TUFBRUMsTUFBTSxFQUFFLEtBQUs7TUFBRUMsWUFBWSxFQUFFO0lBQUcsQ0FBQyxDQUFDO0lBQy9FQyxNQUFNLENBQUNMLE1BQU0sQ0FBQ00sT0FBTyxDQUFDLENBQUNDLElBQUksQ0FBQyxPQUFPLENBQUM7RUFDdEMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119