d6da77ef1b094329a108d8226a703975
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _usePressability2 = _interopRequireDefault(require("../../Pressability/usePressability"));
var _flattenStyle = _interopRequireDefault(require("../../StyleSheet/flattenStyle"));
var _StyleSheet = _interopRequireDefault(require("../../StyleSheet/StyleSheet"));
var _Text = _interopRequireDefault(require("../../Text/Text"));
var _TextAncestorContext = _interopRequireDefault(require("../../Text/TextAncestorContext"));
var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));
var _useMergeRefs = _interopRequireDefault(require("../../Utilities/useMergeRefs"));
var _TextInputState = _interopRequireDefault(require("./TextInputState"));
var _invariant = _interopRequireDefault(require("invariant"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var _react = _interopRequireWildcard(require("react"));
var React = _react;
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["aria-busy", "aria-checked", "aria-disabled", "aria-expanded", "aria-selected", "accessibilityState", "id", "tabIndex", "selection", "selectionColor", "selectionHandleColor", "cursorColor"],
  _excluded2 = ["onBlur", "onFocus"],
  _excluded3 = ["ref", "allowFontScaling", "rejectResponderTermination", "underlineColorAndroid", "autoComplete", "textContentType", "readOnly", "editable", "enterKeyHint", "returnKeyType", "inputMode", "showSoftInputOnFocus", "keyboardType"];
var AndroidTextInput;
var AndroidTextInputCommands;
var RCTSinglelineTextInputView;
var RCTSinglelineTextInputNativeCommands;
var RCTMultilineTextInputView;
var RCTMultilineTextInputNativeCommands;
if (_Platform.default.OS === 'android') {
  AndroidTextInput = require("./AndroidTextInputNativeComponent").default;
  AndroidTextInputCommands = require("./AndroidTextInputNativeComponent").Commands;
} else if (_Platform.default.OS === 'ios') {
  RCTSinglelineTextInputView = require("./RCTSingelineTextInputNativeComponent").default;
  RCTSinglelineTextInputNativeCommands = require("./RCTSingelineTextInputNativeComponent").Commands;
  RCTMultilineTextInputView = require("./RCTMultilineTextInputNativeComponent").default;
  RCTMultilineTextInputNativeCommands = require("./RCTMultilineTextInputNativeComponent").Commands;
}
var emptyFunctionThatReturnsTrue = function emptyFunctionThatReturnsTrue() {
  return true;
};
function useTextInputStateSynchronization(_ref) {
  var props = _ref.props,
    mostRecentEventCount = _ref.mostRecentEventCount,
    selection = _ref.selection,
    inputRef = _ref.inputRef,
    text = _ref.text,
    viewCommands = _ref.viewCommands;
  var _useState = (0, _react.useState)(props.value),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    lastNativeText = _useState2[0],
    setLastNativeText = _useState2[1];
  var _useState3 = (0, _react.useState)({
      selection: {
        start: -1,
        end: -1
      },
      mostRecentEventCount: mostRecentEventCount
    }),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    lastNativeSelectionState = _useState4[0],
    setLastNativeSelection = _useState4[1];
  var lastNativeSelection = lastNativeSelectionState.selection;
  (0, _react.useLayoutEffect)(function () {
    var nativeUpdate = {};
    if (lastNativeText !== props.value && typeof props.value === 'string') {
      nativeUpdate.text = props.value;
      setLastNativeText(props.value);
    }
    if (selection && lastNativeSelection && (lastNativeSelection.start !== selection.start || lastNativeSelection.end !== selection.end)) {
      nativeUpdate.selection = selection;
      setLastNativeSelection({
        selection: selection,
        mostRecentEventCount: mostRecentEventCount
      });
    }
    if (Object.keys(nativeUpdate).length === 0) {
      return;
    }
    if (inputRef.current != null) {
      var _selection$start, _selection$end;
      viewCommands.setTextAndSelection(inputRef.current, mostRecentEventCount, text, (_selection$start = selection == null ? void 0 : selection.start) != null ? _selection$start : -1, (_selection$end = selection == null ? void 0 : selection.end) != null ? _selection$end : -1);
    }
  }, [mostRecentEventCount, inputRef, props.value, props.defaultValue, lastNativeText, selection, lastNativeSelection, text, viewCommands]);
  return {
    setLastNativeText: setLastNativeText,
    setLastNativeSelection: setLastNativeSelection
  };
}
function InternalTextInput(props) {
  var _propsSelection$end, _props$multiline, _props$ariaLabel;
  var ariaBusy = props['aria-busy'],
    ariaChecked = props['aria-checked'],
    ariaDisabled = props['aria-disabled'],
    ariaExpanded = props['aria-expanded'],
    ariaSelected = props['aria-selected'],
    accessibilityState = props.accessibilityState,
    id = props.id,
    tabIndex = props.tabIndex,
    propsSelection = props.selection,
    selectionColor = props.selectionColor,
    selectionHandleColor = props.selectionHandleColor,
    cursorColor = props.cursorColor,
    otherProps = (0, _objectWithoutProperties2.default)(props, _excluded);
  var inputRef = (0, _react.useRef)(null);
  var selection = propsSelection == null ? null : {
    start: propsSelection.start,
    end: (_propsSelection$end = propsSelection.end) != null ? _propsSelection$end : propsSelection.start
  };
  var text = typeof props.value === 'string' ? props.value : typeof props.defaultValue === 'string' ? props.defaultValue : undefined;
  var viewCommands = AndroidTextInputCommands || (props.multiline === true ? RCTMultilineTextInputNativeCommands : RCTSinglelineTextInputNativeCommands);
  var _useState5 = (0, _react.useState)(0),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    mostRecentEventCount = _useState6[0],
    setMostRecentEventCount = _useState6[1];
  var _useTextInputStateSyn = useTextInputStateSynchronization({
      props: props,
      inputRef: inputRef,
      mostRecentEventCount: mostRecentEventCount,
      selection: selection,
      text: text,
      viewCommands: viewCommands
    }),
    setLastNativeText = _useTextInputStateSyn.setLastNativeText,
    setLastNativeSelection = _useTextInputStateSyn.setLastNativeSelection;
  (0, _react.useLayoutEffect)(function () {
    var inputRefValue = inputRef.current;
    if (inputRefValue != null) {
      _TextInputState.default.registerInput(inputRefValue);
      return function () {
        _TextInputState.default.unregisterInput(inputRefValue);
        if (_TextInputState.default.currentlyFocusedInput() === inputRefValue) {
          (0, _nullthrows.default)(inputRefValue).blur();
        }
      };
    }
  }, []);
  var setLocalRef = (0, _react.useCallback)(function (instance) {
    inputRef.current = instance;
    if (instance != null) {
      Object.assign(instance, {
        clear: function clear() {
          if (inputRef.current != null) {
            viewCommands.setTextAndSelection(inputRef.current, mostRecentEventCount, '', 0, 0);
          }
        },
        isFocused: function isFocused() {
          return _TextInputState.default.currentlyFocusedInput() === inputRef.current;
        },
        getNativeRef: function getNativeRef() {
          return inputRef.current;
        },
        setSelection: function setSelection(start, end) {
          if (inputRef.current != null) {
            viewCommands.setTextAndSelection(inputRef.current, mostRecentEventCount, null, start, end);
          }
        }
      });
    }
  }, [mostRecentEventCount, viewCommands]);
  var ref = (0, _useMergeRefs.default)(setLocalRef, props.forwardedRef);
  var _onChange = function _onChange(event) {
    var currentText = event.nativeEvent.text;
    props.onChange && props.onChange(event);
    props.onChangeText && props.onChangeText(currentText);
    if (inputRef.current == null) {
      return;
    }
    setLastNativeText(currentText);
    setMostRecentEventCount(event.nativeEvent.eventCount);
  };
  var _onSelectionChange = function _onSelectionChange(event) {
    props.onSelectionChange && props.onSelectionChange(event);
    if (inputRef.current == null) {
      return;
    }
    setLastNativeSelection({
      selection: event.nativeEvent.selection,
      mostRecentEventCount: mostRecentEventCount
    });
  };
  var _onFocus = function _onFocus(event) {
    _TextInputState.default.focusInput(inputRef.current);
    if (props.onFocus) {
      props.onFocus(event);
    }
  };
  var _onBlur = function _onBlur(event) {
    _TextInputState.default.blurInput(inputRef.current);
    if (props.onBlur) {
      props.onBlur(event);
    }
  };
  var _onScroll = function _onScroll(event) {
    props.onScroll && props.onScroll(event);
  };
  var textInput = null;
  var multiline = (_props$multiline = props.multiline) != null ? _props$multiline : false;
  var submitBehavior;
  if (props.submitBehavior != null) {
    if (!multiline && props.submitBehavior === 'newline') {
      submitBehavior = 'blurAndSubmit';
    } else {
      submitBehavior = props.submitBehavior;
    }
  } else if (multiline) {
    if (props.blurOnSubmit === true) {
      submitBehavior = 'blurAndSubmit';
    } else {
      submitBehavior = 'newline';
    }
  } else {
    if (props.blurOnSubmit !== false) {
      submitBehavior = 'blurAndSubmit';
    } else {
      submitBehavior = 'submit';
    }
  }
  var accessible = props.accessible !== false;
  var focusable = props.focusable !== false;
  var editable = props.editable,
    hitSlop = props.hitSlop,
    _onPress = props.onPress,
    onPressIn = props.onPressIn,
    onPressOut = props.onPressOut,
    rejectResponderTermination = props.rejectResponderTermination;
  var config = (0, _react.useMemo)(function () {
    return {
      hitSlop: hitSlop,
      onPress: function onPress(event) {
        _onPress == null || _onPress(event);
        if (editable !== false) {
          if (inputRef.current != null) {
            inputRef.current.focus();
          }
        }
      },
      onPressIn: onPressIn,
      onPressOut: onPressOut,
      cancelable: _Platform.default.OS === 'ios' ? !rejectResponderTermination : null
    };
  }, [editable, hitSlop, _onPress, onPressIn, onPressOut, rejectResponderTermination]);
  var caretHidden = props.caretHidden;
  if (_Platform.default.isTesting) {
    caretHidden = true;
  }
  var _usePressability = (0, _usePressability2.default)(config),
    onBlur = _usePressability.onBlur,
    onFocus = _usePressability.onFocus,
    eventHandlers = (0, _objectWithoutProperties2.default)(_usePressability, _excluded2);
  var _accessibilityLabel = (_props$ariaLabel = props == null ? void 0 : props['aria-label']) != null ? _props$ariaLabel : props == null ? void 0 : props.accessibilityLabel;
  var _accessibilityState;
  if (accessibilityState != null || ariaBusy != null || ariaChecked != null || ariaDisabled != null || ariaExpanded != null || ariaSelected != null) {
    _accessibilityState = {
      busy: ariaBusy != null ? ariaBusy : accessibilityState == null ? void 0 : accessibilityState.busy,
      checked: ariaChecked != null ? ariaChecked : accessibilityState == null ? void 0 : accessibilityState.checked,
      disabled: ariaDisabled != null ? ariaDisabled : accessibilityState == null ? void 0 : accessibilityState.disabled,
      expanded: ariaExpanded != null ? ariaExpanded : accessibilityState == null ? void 0 : accessibilityState.expanded,
      selected: ariaSelected != null ? ariaSelected : accessibilityState == null ? void 0 : accessibilityState.selected
    };
  }
  var _style = props.style;
  var flattenedStyle = (0, _flattenStyle.default)(props.style);
  if (flattenedStyle != null) {
    var overrides = null;
    if (typeof (flattenedStyle == null ? void 0 : flattenedStyle.fontWeight) === 'number') {
      overrides = overrides || {};
      overrides.fontWeight = flattenedStyle.fontWeight.toString();
    }
    if (flattenedStyle.verticalAlign != null) {
      overrides = overrides || {};
      overrides.textAlignVertical = verticalAlignToTextAlignVerticalMap[flattenedStyle.verticalAlign];
      overrides.verticalAlign = undefined;
    }
    if (overrides != null) {
      _style = [_style, overrides];
    }
  }
  if (_Platform.default.OS === 'ios') {
    var _props$rows;
    var RCTTextInputView = props.multiline === true ? RCTMultilineTextInputView : RCTSinglelineTextInputView;
    var useMultilineDefaultStyle = props.multiline === true && (flattenedStyle == null || flattenedStyle.padding == null && flattenedStyle.paddingVertical == null && flattenedStyle.paddingTop == null);
    textInput = (0, _jsxRuntime.jsx)(RCTTextInputView, Object.assign({
      ref: ref
    }, otherProps, eventHandlers, {
      acceptDragAndDropTypes: props.experimental_acceptDragAndDropTypes,
      accessibilityLabel: _accessibilityLabel,
      accessibilityState: _accessibilityState,
      accessible: accessible,
      submitBehavior: submitBehavior,
      caretHidden: caretHidden,
      dataDetectorTypes: props.dataDetectorTypes,
      focusable: tabIndex !== undefined ? !tabIndex : focusable,
      mostRecentEventCount: mostRecentEventCount,
      nativeID: id != null ? id : props.nativeID,
      numberOfLines: (_props$rows = props.rows) != null ? _props$rows : props.numberOfLines,
      onBlur: _onBlur,
      onChange: _onChange,
      onContentSizeChange: props.onContentSizeChange,
      onFocus: _onFocus,
      onScroll: _onScroll,
      onSelectionChange: _onSelectionChange,
      onSelectionChangeShouldSetResponder: emptyFunctionThatReturnsTrue,
      selection: selection,
      selectionColor: selectionColor,
      style: _StyleSheet.default.compose(useMultilineDefaultStyle ? styles.multilineDefault : null, _style),
      text: text
    }));
  } else if (_Platform.default.OS === 'android') {
    var _props$ariaLabelledb, _props$placeholder, _props$rows2;
    var autoCapitalize = props.autoCapitalize || 'sentences';
    var _accessibilityLabelledBy = (_props$ariaLabelledb = props == null ? void 0 : props['aria-labelledby']) != null ? _props$ariaLabelledb : props == null ? void 0 : props.accessibilityLabelledBy;
    var placeholder = (_props$placeholder = props.placeholder) != null ? _props$placeholder : '';
    var children = props.children;
    var childCount = React.Children.count(children);
    (0, _invariant.default)(!(props.value != null && childCount), 'Cannot specify both value and children.');
    if (childCount > 1) {
      children = (0, _jsxRuntime.jsx)(_Text.default, {
        children: children
      });
    }
    var colorProps = {
      selectionColor: selectionColor,
      selectionHandleColor: selectionHandleColor === undefined ? selectionColor : selectionHandleColor,
      cursorColor: cursorColor === undefined ? selectionColor : cursorColor
    };
    textInput = (0, _jsxRuntime.jsx)(AndroidTextInput, Object.assign({
      ref: ref
    }, otherProps, colorProps, eventHandlers, {
      accessibilityLabel: _accessibilityLabel,
      accessibilityLabelledBy: _accessibilityLabelledBy,
      accessibilityState: _accessibilityState,
      accessible: accessible,
      acceptDragAndDropTypes: props.experimental_acceptDragAndDropTypes,
      autoCapitalize: autoCapitalize,
      submitBehavior: submitBehavior,
      caretHidden: caretHidden,
      children: children,
      disableFullscreenUI: props.disableFullscreenUI,
      focusable: tabIndex !== undefined ? !tabIndex : focusable,
      mostRecentEventCount: mostRecentEventCount,
      nativeID: id != null ? id : props.nativeID,
      numberOfLines: (_props$rows2 = props.rows) != null ? _props$rows2 : props.numberOfLines,
      onBlur: _onBlur,
      onChange: _onChange,
      onFocus: _onFocus,
      onScroll: _onScroll,
      onSelectionChange: _onSelectionChange,
      placeholder: placeholder,
      style: _style,
      text: text,
      textBreakStrategy: props.textBreakStrategy
    }));
  }
  return (0, _jsxRuntime.jsx)(_TextAncestorContext.default, {
    value: true,
    children: textInput
  });
}
var enterKeyHintToReturnTypeMap = {
  enter: 'default',
  done: 'done',
  go: 'go',
  next: 'next',
  previous: 'previous',
  search: 'search',
  send: 'send'
};
var inputModeToKeyboardTypeMap = {
  none: 'default',
  text: 'default',
  decimal: 'decimal-pad',
  numeric: 'number-pad',
  tel: 'phone-pad',
  search: _Platform.default.OS === 'ios' ? 'web-search' : 'default',
  email: 'email-address',
  url: 'url'
};
var autoCompleteWebToAutoCompleteAndroidMap = {
  'address-line1': 'postal-address-region',
  'address-line2': 'postal-address-locality',
  bday: 'birthdate-full',
  'bday-day': 'birthdate-day',
  'bday-month': 'birthdate-month',
  'bday-year': 'birthdate-year',
  'cc-csc': 'cc-csc',
  'cc-exp': 'cc-exp',
  'cc-exp-month': 'cc-exp-month',
  'cc-exp-year': 'cc-exp-year',
  'cc-number': 'cc-number',
  country: 'postal-address-country',
  'current-password': 'password',
  email: 'email',
  'honorific-prefix': 'name-prefix',
  'honorific-suffix': 'name-suffix',
  name: 'name',
  'additional-name': 'name-middle',
  'family-name': 'name-family',
  'given-name': 'name-given',
  'new-password': 'password-new',
  off: 'off',
  'one-time-code': 'sms-otp',
  'postal-code': 'postal-code',
  sex: 'gender',
  'street-address': 'street-address',
  tel: 'tel',
  'tel-country-code': 'tel-country-code',
  'tel-national': 'tel-national',
  username: 'username'
};
var autoCompleteWebToTextContentTypeMap = {
  'address-line1': 'streetAddressLine1',
  'address-line2': 'streetAddressLine2',
  bday: 'birthdate',
  'bday-day': 'birthdateDay',
  'bday-month': 'birthdateMonth',
  'bday-year': 'birthdateYear',
  'cc-csc': 'creditCardSecurityCode',
  'cc-exp-month': 'creditCardExpirationMonth',
  'cc-exp-year': 'creditCardExpirationYear',
  'cc-exp': 'creditCardExpiration',
  'cc-given-name': 'creditCardGivenName',
  'cc-additional-name': 'creditCardMiddleName',
  'cc-family-name': 'creditCardFamilyName',
  'cc-name': 'creditCardName',
  'cc-number': 'creditCardNumber',
  'cc-type': 'creditCardType',
  'current-password': 'password',
  country: 'countryName',
  email: 'emailAddress',
  name: 'name',
  'additional-name': 'middleName',
  'family-name': 'familyName',
  'given-name': 'givenName',
  nickname: 'nickname',
  'honorific-prefix': 'namePrefix',
  'honorific-suffix': 'nameSuffix',
  'new-password': 'newPassword',
  off: 'none',
  'one-time-code': 'oneTimeCode',
  organization: 'organizationName',
  'organization-title': 'jobTitle',
  'postal-code': 'postalCode',
  'street-address': 'fullStreetAddress',
  tel: 'telephoneNumber',
  url: 'URL',
  username: 'username'
};
var TextInput = function TextInput(_ref2) {
  var _autoCompleteWebToAut;
  var forwardedRef = _ref2.ref,
    _ref2$allowFontScalin = _ref2.allowFontScaling,
    allowFontScaling = _ref2$allowFontScalin === void 0 ? true : _ref2$allowFontScalin,
    _ref2$rejectResponder = _ref2.rejectResponderTermination,
    rejectResponderTermination = _ref2$rejectResponder === void 0 ? true : _ref2$rejectResponder,
    _ref2$underlineColorA = _ref2.underlineColorAndroid,
    underlineColorAndroid = _ref2$underlineColorA === void 0 ? 'transparent' : _ref2$underlineColorA,
    autoComplete = _ref2.autoComplete,
    textContentType = _ref2.textContentType,
    readOnly = _ref2.readOnly,
    editable = _ref2.editable,
    enterKeyHint = _ref2.enterKeyHint,
    returnKeyType = _ref2.returnKeyType,
    inputMode = _ref2.inputMode,
    showSoftInputOnFocus = _ref2.showSoftInputOnFocus,
    keyboardType = _ref2.keyboardType,
    restProps = (0, _objectWithoutProperties2.default)(_ref2, _excluded3);
  return (0, _jsxRuntime.jsx)(InternalTextInput, Object.assign({
    allowFontScaling: allowFontScaling,
    rejectResponderTermination: rejectResponderTermination,
    underlineColorAndroid: underlineColorAndroid,
    editable: readOnly !== undefined ? !readOnly : editable,
    returnKeyType: enterKeyHint ? enterKeyHintToReturnTypeMap[enterKeyHint] : returnKeyType,
    keyboardType: inputMode ? inputModeToKeyboardTypeMap[inputMode] : keyboardType,
    showSoftInputOnFocus: inputMode == null ? showSoftInputOnFocus : inputMode !== 'none',
    autoComplete: _Platform.default.OS === 'android' ? (_autoCompleteWebToAut = autoCompleteWebToAutoCompleteAndroidMap[autoComplete]) != null ? _autoCompleteWebToAut : autoComplete : undefined,
    textContentType: textContentType != null ? textContentType : _Platform.default.OS === 'ios' && autoComplete && autoComplete in autoCompleteWebToTextContentTypeMap ? autoCompleteWebToTextContentTypeMap[autoComplete] : textContentType
  }, restProps, {
    forwardedRef: forwardedRef
  }));
};
TextInput.displayName = 'TextInput';
TextInput.State = {
  currentlyFocusedInput: _TextInputState.default.currentlyFocusedInput,
  currentlyFocusedField: _TextInputState.default.currentlyFocusedField,
  focusTextInput: _TextInputState.default.focusTextInput,
  blurTextInput: _TextInputState.default.blurTextInput
};
var styles = _StyleSheet.default.create({
  multilineDefault: {
    paddingTop: 5
  }
});
var verticalAlignToTextAlignVerticalMap = {
  auto: 'auto',
  top: 'top',
  bottom: 'bottom',
  middle: 'center'
};
var _default = exports.default = TextInput;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlUHJlc3NhYmlsaXR5MiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZsYXR0ZW5TdHlsZSIsIl9TdHlsZVNoZWV0IiwiX1RleHQiLCJfVGV4dEFuY2VzdG9yQ29udGV4dCIsIl9QbGF0Zm9ybSIsIl91c2VNZXJnZVJlZnMiLCJfVGV4dElucHV0U3RhdGUiLCJfaW52YXJpYW50IiwiX251bGx0aHJvd3MiLCJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIlJlYWN0IiwiX2pzeFJ1bnRpbWUiLCJfZXhjbHVkZWQiLCJfZXhjbHVkZWQyIiwiX2V4Y2x1ZGVkMyIsIkFuZHJvaWRUZXh0SW5wdXQiLCJBbmRyb2lkVGV4dElucHV0Q29tbWFuZHMiLCJSQ1RTaW5nbGVsaW5lVGV4dElucHV0VmlldyIsIlJDVFNpbmdsZWxpbmVUZXh0SW5wdXROYXRpdmVDb21tYW5kcyIsIlJDVE11bHRpbGluZVRleHRJbnB1dFZpZXciLCJSQ1RNdWx0aWxpbmVUZXh0SW5wdXROYXRpdmVDb21tYW5kcyIsIlBsYXRmb3JtIiwiT1MiLCJkZWZhdWx0IiwiQ29tbWFuZHMiLCJlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNUcnVlIiwidXNlVGV4dElucHV0U3RhdGVTeW5jaHJvbml6YXRpb24iLCJfcmVmIiwicHJvcHMiLCJtb3N0UmVjZW50RXZlbnRDb3VudCIsInNlbGVjdGlvbiIsImlucHV0UmVmIiwidGV4dCIsInZpZXdDb21tYW5kcyIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwidmFsdWUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwibGFzdE5hdGl2ZVRleHQiLCJzZXRMYXN0TmF0aXZlVGV4dCIsIl91c2VTdGF0ZTMiLCJzdGFydCIsImVuZCIsIl91c2VTdGF0ZTQiLCJsYXN0TmF0aXZlU2VsZWN0aW9uU3RhdGUiLCJzZXRMYXN0TmF0aXZlU2VsZWN0aW9uIiwibGFzdE5hdGl2ZVNlbGVjdGlvbiIsInVzZUxheW91dEVmZmVjdCIsIm5hdGl2ZVVwZGF0ZSIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJjdXJyZW50IiwiX3NlbGVjdGlvbiRzdGFydCIsIl9zZWxlY3Rpb24kZW5kIiwic2V0VGV4dEFuZFNlbGVjdGlvbiIsImRlZmF1bHRWYWx1ZSIsIkludGVybmFsVGV4dElucHV0IiwiX3Byb3BzU2VsZWN0aW9uJGVuZCIsIl9wcm9wcyRtdWx0aWxpbmUiLCJfcHJvcHMkYXJpYUxhYmVsIiwiYXJpYUJ1c3kiLCJhcmlhQ2hlY2tlZCIsImFyaWFEaXNhYmxlZCIsImFyaWFFeHBhbmRlZCIsImFyaWFTZWxlY3RlZCIsImFjY2Vzc2liaWxpdHlTdGF0ZSIsImlkIiwidGFiSW5kZXgiLCJwcm9wc1NlbGVjdGlvbiIsInNlbGVjdGlvbkNvbG9yIiwic2VsZWN0aW9uSGFuZGxlQ29sb3IiLCJjdXJzb3JDb2xvciIsIm90aGVyUHJvcHMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwidXNlUmVmIiwidW5kZWZpbmVkIiwibXVsdGlsaW5lIiwiX3VzZVN0YXRlNSIsIl91c2VTdGF0ZTYiLCJzZXRNb3N0UmVjZW50RXZlbnRDb3VudCIsIl91c2VUZXh0SW5wdXRTdGF0ZVN5biIsImlucHV0UmVmVmFsdWUiLCJUZXh0SW5wdXRTdGF0ZSIsInJlZ2lzdGVySW5wdXQiLCJ1bnJlZ2lzdGVySW5wdXQiLCJjdXJyZW50bHlGb2N1c2VkSW5wdXQiLCJudWxsdGhyb3dzIiwiYmx1ciIsInNldExvY2FsUmVmIiwidXNlQ2FsbGJhY2siLCJpbnN0YW5jZSIsImFzc2lnbiIsImNsZWFyIiwiaXNGb2N1c2VkIiwiZ2V0TmF0aXZlUmVmIiwic2V0U2VsZWN0aW9uIiwicmVmIiwidXNlTWVyZ2VSZWZzIiwiZm9yd2FyZGVkUmVmIiwiX29uQ2hhbmdlIiwiZXZlbnQiLCJjdXJyZW50VGV4dCIsIm5hdGl2ZUV2ZW50Iiwib25DaGFuZ2UiLCJvbkNoYW5nZVRleHQiLCJldmVudENvdW50IiwiX29uU2VsZWN0aW9uQ2hhbmdlIiwib25TZWxlY3Rpb25DaGFuZ2UiLCJfb25Gb2N1cyIsImZvY3VzSW5wdXQiLCJvbkZvY3VzIiwiX29uQmx1ciIsImJsdXJJbnB1dCIsIm9uQmx1ciIsIl9vblNjcm9sbCIsIm9uU2Nyb2xsIiwidGV4dElucHV0Iiwic3VibWl0QmVoYXZpb3IiLCJibHVyT25TdWJtaXQiLCJhY2Nlc3NpYmxlIiwiZm9jdXNhYmxlIiwiZWRpdGFibGUiLCJoaXRTbG9wIiwib25QcmVzcyIsIm9uUHJlc3NJbiIsIm9uUHJlc3NPdXQiLCJyZWplY3RSZXNwb25kZXJUZXJtaW5hdGlvbiIsImNvbmZpZyIsInVzZU1lbW8iLCJmb2N1cyIsImNhbmNlbGFibGUiLCJjYXJldEhpZGRlbiIsImlzVGVzdGluZyIsIl91c2VQcmVzc2FiaWxpdHkiLCJ1c2VQcmVzc2FiaWxpdHkiLCJldmVudEhhbmRsZXJzIiwiX2FjY2Vzc2liaWxpdHlMYWJlbCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsIl9hY2Nlc3NpYmlsaXR5U3RhdGUiLCJidXN5IiwiY2hlY2tlZCIsImRpc2FibGVkIiwiZXhwYW5kZWQiLCJzZWxlY3RlZCIsIl9zdHlsZSIsInN0eWxlIiwiZmxhdHRlbmVkU3R5bGUiLCJmbGF0dGVuU3R5bGUiLCJvdmVycmlkZXMiLCJmb250V2VpZ2h0IiwidG9TdHJpbmciLCJ2ZXJ0aWNhbEFsaWduIiwidGV4dEFsaWduVmVydGljYWwiLCJ2ZXJ0aWNhbEFsaWduVG9UZXh0QWxpZ25WZXJ0aWNhbE1hcCIsIl9wcm9wcyRyb3dzIiwiUkNUVGV4dElucHV0VmlldyIsInVzZU11bHRpbGluZURlZmF1bHRTdHlsZSIsInBhZGRpbmciLCJwYWRkaW5nVmVydGljYWwiLCJwYWRkaW5nVG9wIiwianN4IiwiYWNjZXB0RHJhZ0FuZERyb3BUeXBlcyIsImV4cGVyaW1lbnRhbF9hY2NlcHREcmFnQW5kRHJvcFR5cGVzIiwiZGF0YURldGVjdG9yVHlwZXMiLCJuYXRpdmVJRCIsIm51bWJlck9mTGluZXMiLCJyb3dzIiwib25Db250ZW50U2l6ZUNoYW5nZSIsIm9uU2VsZWN0aW9uQ2hhbmdlU2hvdWxkU2V0UmVzcG9uZGVyIiwiU3R5bGVTaGVldCIsImNvbXBvc2UiLCJzdHlsZXMiLCJtdWx0aWxpbmVEZWZhdWx0IiwiX3Byb3BzJGFyaWFMYWJlbGxlZGIiLCJfcHJvcHMkcGxhY2Vob2xkZXIiLCJfcHJvcHMkcm93czIiLCJhdXRvQ2FwaXRhbGl6ZSIsIl9hY2Nlc3NpYmlsaXR5TGFiZWxsZWRCeSIsImFjY2Vzc2liaWxpdHlMYWJlbGxlZEJ5IiwicGxhY2Vob2xkZXIiLCJjaGlsZHJlbiIsImNoaWxkQ291bnQiLCJDaGlsZHJlbiIsImNvdW50IiwiaW52YXJpYW50IiwiY29sb3JQcm9wcyIsImRpc2FibGVGdWxsc2NyZWVuVUkiLCJ0ZXh0QnJlYWtTdHJhdGVneSIsImVudGVyS2V5SGludFRvUmV0dXJuVHlwZU1hcCIsImVudGVyIiwiZG9uZSIsImdvIiwibmV4dCIsInByZXZpb3VzIiwic2VhcmNoIiwic2VuZCIsImlucHV0TW9kZVRvS2V5Ym9hcmRUeXBlTWFwIiwibm9uZSIsImRlY2ltYWwiLCJudW1lcmljIiwidGVsIiwiZW1haWwiLCJ1cmwiLCJhdXRvQ29tcGxldGVXZWJUb0F1dG9Db21wbGV0ZUFuZHJvaWRNYXAiLCJiZGF5IiwiY291bnRyeSIsIm5hbWUiLCJvZmYiLCJzZXgiLCJ1c2VybmFtZSIsImF1dG9Db21wbGV0ZVdlYlRvVGV4dENvbnRlbnRUeXBlTWFwIiwibmlja25hbWUiLCJvcmdhbml6YXRpb24iLCJUZXh0SW5wdXQiLCJfcmVmMiIsIl9hdXRvQ29tcGxldGVXZWJUb0F1dCIsIl9yZWYyJGFsbG93Rm9udFNjYWxpbiIsImFsbG93Rm9udFNjYWxpbmciLCJfcmVmMiRyZWplY3RSZXNwb25kZXIiLCJfcmVmMiR1bmRlcmxpbmVDb2xvckEiLCJ1bmRlcmxpbmVDb2xvckFuZHJvaWQiLCJhdXRvQ29tcGxldGUiLCJ0ZXh0Q29udGVudFR5cGUiLCJyZWFkT25seSIsImVudGVyS2V5SGludCIsInJldHVybktleVR5cGUiLCJpbnB1dE1vZGUiLCJzaG93U29mdElucHV0T25Gb2N1cyIsImtleWJvYXJkVHlwZSIsInJlc3RQcm9wcyIsImRpc3BsYXlOYW1lIiwiU3RhdGUiLCJjdXJyZW50bHlGb2N1c2VkRmllbGQiLCJmb2N1c1RleHRJbnB1dCIsImJsdXJUZXh0SW5wdXQiLCJjcmVhdGUiLCJhdXRvIiwidG9wIiwiYm90dG9tIiwibWlkZGxlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiVGV4dElucHV0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgdHlwZSB7SG9zdEluc3RhbmNlfSBmcm9tICcuLi8uLi8uLi9zcmMvcHJpdmF0ZS90eXBlcy9Ib3N0SW5zdGFuY2UnO1xuaW1wb3J0IHR5cGUge19fX19UZXh0U3R5bGVfSW50ZXJuYWwgYXMgVGV4dFN0eWxlSW50ZXJuYWx9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldFR5cGVzJztcbmltcG9ydCB0eXBlIHtcbiAgQmx1ckV2ZW50LFxuICBGb2N1c0V2ZW50LFxuICBHZXN0dXJlUmVzcG9uZGVyRXZlbnQsXG4gIFNjcm9sbEV2ZW50LFxufSBmcm9tICcuLi8uLi9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5pbXBvcnQgdHlwZSB7XG4gIEF1dG9DYXBpdGFsaXplLFxuICBFbnRlcktleUhpbnRUeXBlLFxuICBFbnRlcktleUhpbnRUeXBlQW5kcm9pZCxcbiAgRW50ZXJLZXlIaW50VHlwZUlPUyxcbiAgRW50ZXJLZXlIaW50VHlwZU9wdGlvbnMsXG4gIElucHV0TW9kZU9wdGlvbnMsXG4gIEtleWJvYXJkVHlwZSxcbiAgS2V5Ym9hcmRUeXBlQW5kcm9pZCxcbiAgS2V5Ym9hcmRUeXBlSU9TLFxuICBLZXlib2FyZFR5cGVPcHRpb25zLFxuICBSZXR1cm5LZXlUeXBlLFxuICBSZXR1cm5LZXlUeXBlQW5kcm9pZCxcbiAgUmV0dXJuS2V5VHlwZUlPUyxcbiAgUmV0dXJuS2V5VHlwZU9wdGlvbnMsXG4gIFNlbGVjdGlvbixcbiAgU3VibWl0QmVoYXZpb3IsXG4gIFRleHRDb250ZW50VHlwZSxcbiAgVGV4dElucHV0QW5kcm9pZFByb3BzLFxuICBUZXh0SW5wdXRCbHVyRXZlbnQsXG4gIFRleHRJbnB1dENoYW5nZUV2ZW50LFxuICBUZXh0SW5wdXRDb250ZW50U2l6ZUNoYW5nZUV2ZW50LFxuICBUZXh0SW5wdXRFZGl0aW5nRXZlbnQsXG4gIFRleHRJbnB1dEVuZEVkaXRpbmdFdmVudCxcbiAgVGV4dElucHV0RXZlbnQsXG4gIFRleHRJbnB1dEZvY3VzRXZlbnQsXG4gIFRleHRJbnB1dEluc3RhbmNlLFxuICBUZXh0SW5wdXRJT1NQcm9wcyxcbiAgVGV4dElucHV0S2V5UHJlc3NFdmVudCxcbiAgVGV4dElucHV0UHJvcHMsXG4gIFRleHRJbnB1dFNlbGVjdGlvbkNoYW5nZUV2ZW50LFxuICBUZXh0SW5wdXRTdWJtaXRFZGl0aW5nRXZlbnQsXG4gIFRleHRJbnB1dFR5cGUsXG59IGZyb20gJy4vVGV4dElucHV0LmZsb3cnO1xuXG5pbXBvcnQgdXNlUHJlc3NhYmlsaXR5IGZyb20gJy4uLy4uL1ByZXNzYWJpbGl0eS91c2VQcmVzc2FiaWxpdHknO1xuaW1wb3J0IGZsYXR0ZW5TdHlsZSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L2ZsYXR0ZW5TdHlsZSc7XG5pbXBvcnQgU3R5bGVTaGVldCwge3R5cGUgVGV4dFN0eWxlUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCBUZXh0IGZyb20gJy4uLy4uL1RleHQvVGV4dCc7XG5pbXBvcnQgVGV4dEFuY2VzdG9yQ29udGV4dCBmcm9tICcuLi8uLi9UZXh0L1RleHRBbmNlc3RvckNvbnRleHQnO1xuaW1wb3J0IFBsYXRmb3JtIGZyb20gJy4uLy4uL1V0aWxpdGllcy9QbGF0Zm9ybSc7XG5pbXBvcnQgdXNlTWVyZ2VSZWZzIGZyb20gJy4uLy4uL1V0aWxpdGllcy91c2VNZXJnZVJlZnMnO1xuaW1wb3J0IFRleHRJbnB1dFN0YXRlIGZyb20gJy4vVGV4dElucHV0U3RhdGUnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IG51bGx0aHJvd3MgZnJvbSAnbnVsbHRocm93cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge3VzZUNhbGxiYWNrLCB1c2VMYXlvdXRFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGV9IGZyb20gJ3JlYWN0JztcblxubGV0IEFuZHJvaWRUZXh0SW5wdXQ7XG5sZXQgQW5kcm9pZFRleHRJbnB1dENvbW1hbmRzO1xubGV0IFJDVFNpbmdsZWxpbmVUZXh0SW5wdXRWaWV3O1xubGV0IFJDVFNpbmdsZWxpbmVUZXh0SW5wdXROYXRpdmVDb21tYW5kcztcbmxldCBSQ1RNdWx0aWxpbmVUZXh0SW5wdXRWaWV3O1xubGV0IFJDVE11bHRpbGluZVRleHRJbnB1dE5hdGl2ZUNvbW1hbmRzO1xuXG5pZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICBBbmRyb2lkVGV4dElucHV0ID0gcmVxdWlyZSgnLi9BbmRyb2lkVGV4dElucHV0TmF0aXZlQ29tcG9uZW50JykuZGVmYXVsdDtcbiAgQW5kcm9pZFRleHRJbnB1dENvbW1hbmRzID1cbiAgICByZXF1aXJlKCcuL0FuZHJvaWRUZXh0SW5wdXROYXRpdmVDb21wb25lbnQnKS5Db21tYW5kcztcbn0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gIFJDVFNpbmdsZWxpbmVUZXh0SW5wdXRWaWV3ID1cbiAgICByZXF1aXJlKCcuL1JDVFNpbmdlbGluZVRleHRJbnB1dE5hdGl2ZUNvbXBvbmVudCcpLmRlZmF1bHQ7XG4gIFJDVFNpbmdsZWxpbmVUZXh0SW5wdXROYXRpdmVDb21tYW5kcyA9XG4gICAgcmVxdWlyZSgnLi9SQ1RTaW5nZWxpbmVUZXh0SW5wdXROYXRpdmVDb21wb25lbnQnKS5Db21tYW5kcztcbiAgUkNUTXVsdGlsaW5lVGV4dElucHV0VmlldyA9XG4gICAgcmVxdWlyZSgnLi9SQ1RNdWx0aWxpbmVUZXh0SW5wdXROYXRpdmVDb21wb25lbnQnKS5kZWZhdWx0O1xuICBSQ1RNdWx0aWxpbmVUZXh0SW5wdXROYXRpdmVDb21tYW5kcyA9XG4gICAgcmVxdWlyZSgnLi9SQ1RNdWx0aWxpbmVUZXh0SW5wdXROYXRpdmVDb21wb25lbnQnKS5Db21tYW5kcztcbn1cblxuZXhwb3J0IHR5cGUge1xuICBBdXRvQ2FwaXRhbGl6ZSxcbiAgQmx1ckV2ZW50LFxuICBFbnRlcktleUhpbnRUeXBlLFxuICBFbnRlcktleUhpbnRUeXBlQW5kcm9pZCxcbiAgRW50ZXJLZXlIaW50VHlwZUlPUyxcbiAgRW50ZXJLZXlIaW50VHlwZU9wdGlvbnMsXG4gIEZvY3VzRXZlbnQsXG4gIElucHV0TW9kZU9wdGlvbnMsXG4gIEtleWJvYXJkVHlwZSxcbiAgS2V5Ym9hcmRUeXBlQW5kcm9pZCxcbiAgS2V5Ym9hcmRUeXBlSU9TLFxuICBLZXlib2FyZFR5cGVPcHRpb25zLFxuICBSZXR1cm5LZXlUeXBlLFxuICBSZXR1cm5LZXlUeXBlQW5kcm9pZCxcbiAgUmV0dXJuS2V5VHlwZUlPUyxcbiAgUmV0dXJuS2V5VHlwZU9wdGlvbnMsXG4gIFN1Ym1pdEJlaGF2aW9yLFxuICBUZXh0Q29udGVudFR5cGUsXG4gIFRleHRJbnB1dEFuZHJvaWRQcm9wcyxcbiAgVGV4dElucHV0Qmx1ckV2ZW50LFxuICBUZXh0SW5wdXRDaGFuZ2VFdmVudCxcbiAgVGV4dElucHV0Q29udGVudFNpemVDaGFuZ2VFdmVudCxcbiAgVGV4dElucHV0RWRpdGluZ0V2ZW50LFxuICBUZXh0SW5wdXRFbmRFZGl0aW5nRXZlbnQsXG4gIFRleHRJbnB1dEV2ZW50LFxuICBUZXh0SW5wdXRGb2N1c0V2ZW50LFxuICBUZXh0SW5wdXRJT1NQcm9wcyxcbiAgVGV4dElucHV0S2V5UHJlc3NFdmVudCxcbiAgVGV4dElucHV0UHJvcHMsXG4gIFRleHRJbnB1dFNlbGVjdGlvbkNoYW5nZUV2ZW50LFxuICBUZXh0SW5wdXRTdWJtaXRFZGl0aW5nRXZlbnQsXG59O1xuXG50eXBlIFRleHRJbnB1dFN0YXRlVHlwZSA9ICRSZWFkT25seTx7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgY3VycmVudGx5Rm9jdXNlZElucHV0XG4gICAqIFJldHVybnMgdGhlIElEIG9mIHRoZSBjdXJyZW50bHkgZm9jdXNlZCB0ZXh0IGZpZWxkLCBpZiBvbmUgZXhpc3RzXG4gICAqIElmIG5vIHRleHQgZmllbGQgaXMgZm9jdXNlZCBpdCByZXR1cm5zIG51bGxcbiAgICovXG4gIGN1cnJlbnRseUZvY3VzZWRGaWVsZDogKCkgPT4gP251bWJlcixcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcmVmIG9mIHRoZSBjdXJyZW50bHkgZm9jdXNlZCB0ZXh0IGZpZWxkLCBpZiBvbmUgZXhpc3RzXG4gICAqIElmIG5vIHRleHQgZmllbGQgaXMgZm9jdXNlZCBpdCByZXR1cm5zIG51bGxcbiAgICovXG4gIGN1cnJlbnRseUZvY3VzZWRJbnB1dDogKCkgPT4gP0hvc3RJbnN0YW5jZSxcblxuICAvKipcbiAgICogQHBhcmFtIHRleHRGaWVsZCByZWYgb2YgdGhlIHRleHQgZmllbGQgdG8gZm9jdXNcbiAgICogRm9jdXNlcyB0aGUgc3BlY2lmaWVkIHRleHQgZmllbGRcbiAgICogbm9vcCBpZiB0aGUgdGV4dCBmaWVsZCB3YXMgYWxyZWFkeSBmb2N1c2VkXG4gICAqL1xuICBmb2N1c1RleHRJbnB1dDogKHRleHRGaWVsZDogP0hvc3RJbnN0YW5jZSkgPT4gdm9pZCxcblxuICAvKipcbiAgICogQHBhcmFtIHRleHRGaWVsZCByZWYgb2YgdGhlIHRleHQgZmllbGQgdG8gZm9jdXNcbiAgICogVW5mb2N1c2VzIHRoZSBzcGVjaWZpZWQgdGV4dCBmaWVsZFxuICAgKiBub29wIGlmIGl0IHdhc24ndCBmb2N1c2VkXG4gICAqL1xuICBibHVyVGV4dElucHV0OiAodGV4dEZpZWxkOiA/SG9zdEluc3RhbmNlKSA9PiB2b2lkLFxufT47XG5cbnR5cGUgVmlld0NvbW1hbmRzID0gJE5vbk1heWJlVHlwZTxcbiAgfCB0eXBlb2YgQW5kcm9pZFRleHRJbnB1dENvbW1hbmRzXG4gIHwgdHlwZW9mIFJDVE11bHRpbGluZVRleHRJbnB1dE5hdGl2ZUNvbW1hbmRzXG4gIHwgdHlwZW9mIFJDVFNpbmdsZWxpbmVUZXh0SW5wdXROYXRpdmVDb21tYW5kcyxcbj47XG5cbnR5cGUgTGFzdE5hdGl2ZVNlbGVjdGlvbiA9IHtcbiAgc2VsZWN0aW9uOiBTZWxlY3Rpb24sXG4gIG1vc3RSZWNlbnRFdmVudENvdW50OiBudW1iZXIsXG59O1xuXG5jb25zdCBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNUcnVlID0gKCkgPT4gdHJ1ZTtcblxuLyoqXG4gKiBUaGlzIGhvb2sgaGFuZGxlcyB0aGUgc3luY2hyb25pemF0aW9uIGJldHdlZW4gdGhlIHN0YXRlIG9mIHRoZSB0ZXh0IGlucHV0XG4gKiBpbiBuYXRpdmUgYW5kIGluIEphdmFTY3JpcHQuIFRoaXMgaXMgbmVjZXNzYXJ5IGR1ZSB0byB0aGUgYXN5bmNocm9ub3VzIG5hdHVyZVxuICogb2YgdGV4dCBpbnB1dCBldmVudHMuXG4gKi9cbmZ1bmN0aW9uIHVzZVRleHRJbnB1dFN0YXRlU3luY2hyb25pemF0aW9uKHtcbiAgcHJvcHMsXG4gIG1vc3RSZWNlbnRFdmVudENvdW50LFxuICBzZWxlY3Rpb24sXG4gIGlucHV0UmVmLFxuICB0ZXh0LFxuICB2aWV3Q29tbWFuZHMsXG59OiB7XG4gIHByb3BzOiBUZXh0SW5wdXRQcm9wcyxcbiAgbW9zdFJlY2VudEV2ZW50Q291bnQ6IG51bWJlcixcbiAgc2VsZWN0aW9uOiA/U2VsZWN0aW9uLFxuICBpbnB1dFJlZjogUmVhY3QuUmVmT2JqZWN0PG51bGwgfCBUZXh0SW5wdXRJbnN0YW5jZT4sXG4gIHRleHQ/OiBzdHJpbmcsXG4gIHZpZXdDb21tYW5kczogVmlld0NvbW1hbmRzLFxufSk6IHtcbiAgc2V0TGFzdE5hdGl2ZVRleHQ6IHN0cmluZyA9PiB2b2lkLFxuICBzZXRMYXN0TmF0aXZlU2VsZWN0aW9uOiBMYXN0TmF0aXZlU2VsZWN0aW9uID0+IHZvaWQsXG59IHtcbiAgY29uc3QgW2xhc3ROYXRpdmVUZXh0LCBzZXRMYXN0TmF0aXZlVGV4dF0gPSB1c2VTdGF0ZTw/U3RyaW5naXNoPihwcm9wcy52YWx1ZSk7XG4gIGNvbnN0IFtsYXN0TmF0aXZlU2VsZWN0aW9uU3RhdGUsIHNldExhc3ROYXRpdmVTZWxlY3Rpb25dID1cbiAgICB1c2VTdGF0ZTxMYXN0TmF0aXZlU2VsZWN0aW9uPih7XG4gICAgICBzZWxlY3Rpb246IHtzdGFydDogLTEsIGVuZDogLTF9LFxuICAgICAgbW9zdFJlY2VudEV2ZW50Q291bnQ6IG1vc3RSZWNlbnRFdmVudENvdW50LFxuICAgIH0pO1xuXG4gIGNvbnN0IGxhc3ROYXRpdmVTZWxlY3Rpb24gPSBsYXN0TmF0aXZlU2VsZWN0aW9uU3RhdGUuc2VsZWN0aW9uO1xuXG4gIC8vIFRoaXMgaXMgbmVjZXNzYXJ5IGluIGNhc2UgbmF0aXZlIHVwZGF0ZXMgdGhlIHRleHQgYW5kIEpTIGRlY2lkZXNcbiAgLy8gdGhhdCB0aGUgdXBkYXRlIHNob3VsZCBiZSBpZ25vcmVkIGFuZCB3ZSBzaG91bGQgc3RpY2sgd2l0aCB0aGUgdmFsdWVcbiAgLy8gdGhhdCB3ZSBoYXZlIGluIEpTLlxuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG5hdGl2ZVVwZGF0ZToge3RleHQ/OiBzdHJpbmcsIHNlbGVjdGlvbj86IFNlbGVjdGlvbn0gPSB7fTtcblxuICAgIGlmIChsYXN0TmF0aXZlVGV4dCAhPT0gcHJvcHMudmFsdWUgJiYgdHlwZW9mIHByb3BzLnZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgbmF0aXZlVXBkYXRlLnRleHQgPSBwcm9wcy52YWx1ZTtcbiAgICAgIHNldExhc3ROYXRpdmVUZXh0KHByb3BzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBzZWxlY3Rpb24gJiZcbiAgICAgIGxhc3ROYXRpdmVTZWxlY3Rpb24gJiZcbiAgICAgIChsYXN0TmF0aXZlU2VsZWN0aW9uLnN0YXJ0ICE9PSBzZWxlY3Rpb24uc3RhcnQgfHxcbiAgICAgICAgbGFzdE5hdGl2ZVNlbGVjdGlvbi5lbmQgIT09IHNlbGVjdGlvbi5lbmQpXG4gICAgKSB7XG4gICAgICBuYXRpdmVVcGRhdGUuc2VsZWN0aW9uID0gc2VsZWN0aW9uO1xuICAgICAgc2V0TGFzdE5hdGl2ZVNlbGVjdGlvbih7c2VsZWN0aW9uLCBtb3N0UmVjZW50RXZlbnRDb3VudH0pO1xuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyhuYXRpdmVVcGRhdGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpbnB1dFJlZi5jdXJyZW50ICE9IG51bGwpIHtcbiAgICAgIHZpZXdDb21tYW5kcy5zZXRUZXh0QW5kU2VsZWN0aW9uKFxuICAgICAgICBpbnB1dFJlZi5jdXJyZW50LFxuICAgICAgICBtb3N0UmVjZW50RXZlbnRDb3VudCxcbiAgICAgICAgdGV4dCxcbiAgICAgICAgc2VsZWN0aW9uPy5zdGFydCA/PyAtMSxcbiAgICAgICAgc2VsZWN0aW9uPy5lbmQgPz8gLTEsXG4gICAgICApO1xuICAgIH1cbiAgfSwgW1xuICAgIG1vc3RSZWNlbnRFdmVudENvdW50LFxuICAgIGlucHV0UmVmLFxuICAgIHByb3BzLnZhbHVlLFxuICAgIHByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICBsYXN0TmF0aXZlVGV4dCxcbiAgICBzZWxlY3Rpb24sXG4gICAgbGFzdE5hdGl2ZVNlbGVjdGlvbixcbiAgICB0ZXh0LFxuICAgIHZpZXdDb21tYW5kcyxcbiAgXSk7XG5cbiAgcmV0dXJuIHtzZXRMYXN0TmF0aXZlVGV4dCwgc2V0TGFzdE5hdGl2ZVNlbGVjdGlvbn07XG59XG5cbi8qKlxuICogQSBmb3VuZGF0aW9uYWwgY29tcG9uZW50IGZvciBpbnB1dHRpbmcgdGV4dCBpbnRvIHRoZSBhcHAgdmlhIGFcbiAqIGtleWJvYXJkLiBQcm9wcyBwcm92aWRlIGNvbmZpZ3VyYWJpbGl0eSBmb3Igc2V2ZXJhbCBmZWF0dXJlcywgc3VjaCBhc1xuICogYXV0by1jb3JyZWN0aW9uLCBhdXRvLWNhcGl0YWxpemF0aW9uLCBwbGFjZWhvbGRlciB0ZXh0LCBhbmQgZGlmZmVyZW50IGtleWJvYXJkXG4gKiB0eXBlcywgc3VjaCBhcyBhIG51bWVyaWMga2V5cGFkLlxuICpcbiAqIFRoZSBzaW1wbGVzdCB1c2UgY2FzZSBpcyB0byBwbG9wIGRvd24gYSBgVGV4dElucHV0YCBhbmQgc3Vic2NyaWJlIHRvIHRoZVxuICogYG9uQ2hhbmdlVGV4dGAgZXZlbnRzIHRvIHJlYWQgdGhlIHVzZXIgaW5wdXQuIFRoZXJlIGFyZSBhbHNvIG90aGVyIGV2ZW50cyxcbiAqIHN1Y2ggYXMgYG9uU3VibWl0RWRpdGluZ2AgYW5kIGBvbkZvY3VzYCB0aGF0IGNhbiBiZSBzdWJzY3JpYmVkIHRvLiBBIHNpbXBsZVxuICogZXhhbXBsZTpcbiAqXG4gKiBgYGBSZWFjdE5hdGl2ZVdlYlBsYXllclxuICogaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbiAqIGltcG9ydCB7IEFwcFJlZ2lzdHJ5LCBUZXh0SW5wdXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuICpcbiAqIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZWxlc3NUZXh0SW5wdXQgZXh0ZW5kcyBDb21wb25lbnQge1xuICogICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICogICAgIHN1cGVyKHByb3BzKTtcbiAqICAgICB0aGlzLnN0YXRlID0geyB0ZXh0OiAnVXNlbGVzcyBQbGFjZWhvbGRlcicgfTtcbiAqICAgfVxuICpcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiAoXG4gKiAgICAgICA8VGV4dElucHV0XG4gKiAgICAgICAgIHN0eWxlPXt7aGVpZ2h0OiA0MCwgYm9yZGVyQ29sb3I6ICdncmF5JywgYm9yZGVyV2lkdGg6IDF9fVxuICogICAgICAgICBvbkNoYW5nZVRleHQ9eyh0ZXh0KSA9PiB0aGlzLnNldFN0YXRlKHt0ZXh0fSl9XG4gKiAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRleHR9XG4gKiAgICAgICAvPlxuICogICAgICk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBza2lwIHRoaXMgbGluZSBpZiB1c2luZyBDcmVhdGUgUmVhY3QgTmF0aXZlIEFwcFxuICogQXBwUmVnaXN0cnkucmVnaXN0ZXJDb21wb25lbnQoJ0F3ZXNvbWVQcm9qZWN0JywgKCkgPT4gVXNlbGVzc1RleHRJbnB1dCk7XG4gKiBgYGBcbiAqXG4gKiBUd28gbWV0aG9kcyBleHBvc2VkIHZpYSB0aGUgbmF0aXZlIGVsZW1lbnQgYXJlIC5mb2N1cygpIGFuZCAuYmx1cigpIHRoYXRcbiAqIHdpbGwgZm9jdXMgb3IgYmx1ciB0aGUgVGV4dElucHV0IHByb2dyYW1tYXRpY2FsbHkuXG4gKlxuICogTm90ZSB0aGF0IHNvbWUgcHJvcHMgYXJlIG9ubHkgYXZhaWxhYmxlIHdpdGggYG11bHRpbGluZT17dHJ1ZS9mYWxzZX1gLlxuICogQWRkaXRpb25hbGx5LCBib3JkZXIgc3R5bGVzIHRoYXQgYXBwbHkgdG8gb25seSBvbmUgc2lkZSBvZiB0aGUgZWxlbWVudFxuICogKGUuZy4sIGBib3JkZXJCb3R0b21Db2xvcmAsIGBib3JkZXJMZWZ0V2lkdGhgLCBldGMuKSB3aWxsIG5vdCBiZSBhcHBsaWVkIGlmXG4gKiBgbXVsdGlsaW5lPWZhbHNlYC4gVG8gYWNoaWV2ZSB0aGUgc2FtZSBlZmZlY3QsIHlvdSBjYW4gd3JhcCB5b3VyIGBUZXh0SW5wdXRgXG4gKiBpbiBhIGBWaWV3YDpcbiAqXG4gKiBgYGBSZWFjdE5hdGl2ZVdlYlBsYXllclxuICogaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbiAqIGltcG9ydCB7IEFwcFJlZ2lzdHJ5LCBWaWV3LCBUZXh0SW5wdXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuICpcbiAqIGNsYXNzIFVzZWxlc3NUZXh0SW5wdXQgZXh0ZW5kcyBDb21wb25lbnQge1xuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgIDxUZXh0SW5wdXRcbiAqICAgICAgICAgey4uLnRoaXMucHJvcHN9IC8vIEluaGVyaXQgYW55IHByb3BzIHBhc3NlZCB0byBpdDsgZS5nLiwgbXVsdGlsaW5lLCBudW1iZXJPZkxpbmVzIGJlbG93XG4gKiAgICAgICAgIGVkaXRhYmxlPXt0cnVlfVxuICogICAgICAgICBtYXhMZW5ndGg9ezQwfVxuICogICAgICAgLz5cbiAqICAgICApO1xuICogICB9XG4gKiB9XG4gKlxuICogZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlbGVzc1RleHRJbnB1dE11bHRpbGluZSBleHRlbmRzIENvbXBvbmVudCB7XG4gKiAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gKiAgICAgc3VwZXIocHJvcHMpO1xuICogICAgIHRoaXMuc3RhdGUgPSB7XG4gKiAgICAgICB0ZXh0OiAnVXNlbGVzcyBNdWx0aWxpbmUgUGxhY2Vob2xkZXInLFxuICogICAgIH07XG4gKiAgIH1cbiAqXG4gKiAgIC8vIElmIHlvdSB0eXBlIHNvbWV0aGluZyBpbiB0aGUgdGV4dCBib3ggdGhhdCBpcyBhIGNvbG9yLCB0aGUgYmFja2dyb3VuZCB3aWxsIGNoYW5nZSB0byB0aGF0XG4gKiAgIC8vIGNvbG9yLlxuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgPFZpZXcgc3R5bGU9e3tcbiAqICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuc3RhdGUudGV4dCxcbiAqICAgICAgICBib3JkZXJCb3R0b21Db2xvcjogJyMwMDAwMDAnLFxuICogICAgICAgIGJvcmRlckJvdHRvbVdpZHRoOiAxIH19XG4gKiAgICAgID5cbiAqICAgICAgICA8VXNlbGVzc1RleHRJbnB1dFxuICogICAgICAgICAgbXVsdGlsaW5lPXt0cnVlfVxuICogICAgICAgICAgbnVtYmVyT2ZMaW5lcz17NH1cbiAqICAgICAgICAgIG9uQ2hhbmdlVGV4dD17KHRleHQpID0+IHRoaXMuc2V0U3RhdGUoe3RleHR9KX1cbiAqICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRleHR9XG4gKiAgICAgICAgLz5cbiAqICAgICAgPC9WaWV3PlxuICogICAgICk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBza2lwIHRoZXNlIGxpbmVzIGlmIHVzaW5nIENyZWF0ZSBSZWFjdCBOYXRpdmUgQXBwXG4gKiBBcHBSZWdpc3RyeS5yZWdpc3RlckNvbXBvbmVudChcbiAqICAnQXdlc29tZVByb2plY3QnLFxuICogICgpID0+IFVzZWxlc3NUZXh0SW5wdXRNdWx0aWxpbmVcbiAqICk7XG4gKiBgYGBcbiAqXG4gKiBgVGV4dElucHV0YCBoYXMgYnkgZGVmYXVsdCBhIGJvcmRlciBhdCB0aGUgYm90dG9tIG9mIGl0cyB2aWV3LiBUaGlzIGJvcmRlclxuICogaGFzIGl0cyBwYWRkaW5nIHNldCBieSB0aGUgYmFja2dyb3VuZCBpbWFnZSBwcm92aWRlZCBieSB0aGUgc3lzdGVtLCBhbmQgaXRcbiAqIGNhbm5vdCBiZSBjaGFuZ2VkLiBTb2x1dGlvbnMgdG8gYXZvaWQgdGhpcyBpcyB0byBlaXRoZXIgbm90IHNldCBoZWlnaHRcbiAqIGV4cGxpY2l0bHksIGNhc2UgaW4gd2hpY2ggdGhlIHN5c3RlbSB3aWxsIHRha2UgY2FyZSBvZiBkaXNwbGF5aW5nIHRoZSBib3JkZXJcbiAqIGluIHRoZSBjb3JyZWN0IHBvc2l0aW9uLCBvciB0byBub3QgZGlzcGxheSB0aGUgYm9yZGVyIGJ5IHNldHRpbmdcbiAqIGB1bmRlcmxpbmVDb2xvckFuZHJvaWRgIHRvIHRyYW5zcGFyZW50LlxuICpcbiAqIE5vdGUgdGhhdCBvbiBBbmRyb2lkIHBlcmZvcm1pbmcgdGV4dCBzZWxlY3Rpb24gaW4gaW5wdXQgY2FuIGNoYW5nZVxuICogYXBwJ3MgYWN0aXZpdHkgYHdpbmRvd1NvZnRJbnB1dE1vZGVgIHBhcmFtIHRvIGBhZGp1c3RSZXNpemVgLlxuICogVGhpcyBtYXkgY2F1c2UgaXNzdWVzIHdpdGggY29tcG9uZW50cyB0aGF0IGhhdmUgcG9zaXRpb246ICdhYnNvbHV0ZSdcbiAqIHdoaWxlIGtleWJvYXJkIGlzIGFjdGl2ZS4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciBlaXRoZXIgc3BlY2lmeSBgd2luZG93U29mdElucHV0TW9kZWBcbiAqIGluIEFuZHJvaWRNYW5pZmVzdC54bWwgKCBodHRwczovL2RldmVsb3Blci5hbmRyb2lkLmNvbS9ndWlkZS90b3BpY3MvbWFuaWZlc3QvYWN0aXZpdHktZWxlbWVudC5odG1sIClcbiAqIG9yIGNvbnRyb2wgdGhpcyBwYXJhbSBwcm9ncmFtbWF0aWNhbGx5IHdpdGggbmF0aXZlIGNvZGUuXG4gKlxuICovXG5mdW5jdGlvbiBJbnRlcm5hbFRleHRJbnB1dChwcm9wczogVGV4dElucHV0UHJvcHMpOiBSZWFjdC5Ob2RlIHtcbiAgY29uc3Qge1xuICAgICdhcmlhLWJ1c3knOiBhcmlhQnVzeSxcbiAgICAnYXJpYS1jaGVja2VkJzogYXJpYUNoZWNrZWQsXG4gICAgJ2FyaWEtZGlzYWJsZWQnOiBhcmlhRGlzYWJsZWQsXG4gICAgJ2FyaWEtZXhwYW5kZWQnOiBhcmlhRXhwYW5kZWQsXG4gICAgJ2FyaWEtc2VsZWN0ZWQnOiBhcmlhU2VsZWN0ZWQsXG4gICAgYWNjZXNzaWJpbGl0eVN0YXRlLFxuICAgIGlkLFxuICAgIHRhYkluZGV4LFxuICAgIHNlbGVjdGlvbjogcHJvcHNTZWxlY3Rpb24sXG4gICAgc2VsZWN0aW9uQ29sb3IsXG4gICAgc2VsZWN0aW9uSGFuZGxlQ29sb3IsXG4gICAgY3Vyc29yQ29sb3IsXG4gICAgLi4ub3RoZXJQcm9wc1xuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8bnVsbCB8IFRleHRJbnB1dEluc3RhbmNlPihudWxsKTtcblxuICBjb25zdCBzZWxlY3Rpb246ID9TZWxlY3Rpb24gPVxuICAgIHByb3BzU2VsZWN0aW9uID09IG51bGxcbiAgICAgID8gbnVsbFxuICAgICAgOiB7XG4gICAgICAgICAgc3RhcnQ6IHByb3BzU2VsZWN0aW9uLnN0YXJ0LFxuICAgICAgICAgIGVuZDogcHJvcHNTZWxlY3Rpb24uZW5kID8/IHByb3BzU2VsZWN0aW9uLnN0YXJ0LFxuICAgICAgICB9O1xuXG4gIGNvbnN0IHRleHQgPVxuICAgIHR5cGVvZiBwcm9wcy52YWx1ZSA9PT0gJ3N0cmluZydcbiAgICAgID8gcHJvcHMudmFsdWVcbiAgICAgIDogdHlwZW9mIHByb3BzLmRlZmF1bHRWYWx1ZSA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBwcm9wcy5kZWZhdWx0VmFsdWVcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgY29uc3Qgdmlld0NvbW1hbmRzID1cbiAgICBBbmRyb2lkVGV4dElucHV0Q29tbWFuZHMgfHxcbiAgICAocHJvcHMubXVsdGlsaW5lID09PSB0cnVlXG4gICAgICA/IFJDVE11bHRpbGluZVRleHRJbnB1dE5hdGl2ZUNvbW1hbmRzXG4gICAgICA6IFJDVFNpbmdsZWxpbmVUZXh0SW5wdXROYXRpdmVDb21tYW5kcyk7XG5cbiAgY29uc3QgW21vc3RSZWNlbnRFdmVudENvdW50LCBzZXRNb3N0UmVjZW50RXZlbnRDb3VudF0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCB7c2V0TGFzdE5hdGl2ZVRleHQsIHNldExhc3ROYXRpdmVTZWxlY3Rpb259ID1cbiAgICB1c2VUZXh0SW5wdXRTdGF0ZVN5bmNocm9uaXphdGlvbih7XG4gICAgICBwcm9wcyxcbiAgICAgIGlucHV0UmVmLFxuICAgICAgbW9zdFJlY2VudEV2ZW50Q291bnQsXG4gICAgICBzZWxlY3Rpb24sXG4gICAgICB0ZXh0LFxuICAgICAgdmlld0NvbW1hbmRzLFxuICAgIH0pO1xuXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaW5wdXRSZWZWYWx1ZSA9IGlucHV0UmVmLmN1cnJlbnQ7XG5cbiAgICBpZiAoaW5wdXRSZWZWYWx1ZSAhPSBudWxsKSB7XG4gICAgICBUZXh0SW5wdXRTdGF0ZS5yZWdpc3RlcklucHV0KGlucHV0UmVmVmFsdWUpO1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBUZXh0SW5wdXRTdGF0ZS51bnJlZ2lzdGVySW5wdXQoaW5wdXRSZWZWYWx1ZSk7XG5cbiAgICAgICAgaWYgKFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpID09PSBpbnB1dFJlZlZhbHVlKSB7XG4gICAgICAgICAgbnVsbHRocm93cyhpbnB1dFJlZlZhbHVlKS5ibHVyKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3Qgc2V0TG9jYWxSZWYgPSB1c2VDYWxsYmFjayhcbiAgICAoaW5zdGFuY2U6IEhvc3RJbnN0YW5jZSB8IG51bGwpID0+IHtcbiAgICAgIC8vICRGbG93RXhwZWN0ZWRFcnJvcltpbmNvbXBhdGlibGUtdHlwZV1cbiAgICAgIGlucHV0UmVmLmN1cnJlbnQgPSBpbnN0YW5jZTtcblxuICAgICAgLypcbiAgICAgIEhpIHJlYWRlciBmcm9tIHRoZSBmdXR1cmUuIEknbSBzb3JyeSBmb3IgdGhpcy5cblxuICAgICAgVGhpcyBpcyBhIGhhY2suIElkZWFsbHkgd2Ugd291bGQgZm9yd2FyZFJlZiB0byB0aGUgdW5kZXJseWluZ1xuICAgICAgaG9zdCBjb21wb25lbnQuIEhvd2V2ZXIsIHNpbmNlIFRleHRJbnB1dCBoYXMgaXQncyBvd24gbWV0aG9kcyB0aGF0IGNhbiBiZVxuICAgICAgY2FsbGVkIGFzIHdlbGwsIGlmIHdlIHVzZWQgdGhlIHN0YW5kYXJkIGZvcndhcmRSZWYgdGhlbiB0aGVzZVxuICAgICAgbWV0aG9kcyB3b3VsZG4ndCBiZSBhY2Nlc3NpYmxlIGFuZCB0aHVzIGJlIGEgYnJlYWtpbmcgY2hhbmdlLlxuXG4gICAgICBXZSBoYXZlIGEgY291cGxlIG9mIG9wdGlvbnMgb2YgaG93IHRvIGhhbmRsZSB0aGlzOlxuICAgICAgLSBSZXR1cm4gYSBuZXcgcmVmIHdpdGggZXZlcnl0aGluZyB3ZSBtZXRob2RzIGZyb20gYm90aC4gVGhpcyBpcyBwcm9ibGVtYXRpY1xuICAgICAgICBiZWNhdXNlIHdlIG5lZWQgUmVhY3QgdG8gYWxzbyBrbm93IGl0IGlzIGEgaG9zdCBjb21wb25lbnQgd2hpY2ggcmVxdWlyZXNcbiAgICAgICAgaW50ZXJuYWxzIG9mIHRoZSBjbGFzcyBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgcmVmLlxuICAgICAgLSBCcmVhayB0aGUgQVBJIGFuZCBoYXZlIHNvbWUgb3RoZXIgd2F5IHRvIGNhbGwgb25lIHNldCBvZiB0aGUgbWV0aG9kcyBvclxuICAgICAgICB0aGUgb3RoZXIuIFRoaXMgaXMgb3VyIGxvbmcgdGVybSBhcHByb2FjaCBhcyB3ZSB3YW50IHRvIGV2ZW50dWFsbHlcbiAgICAgICAgZ2V0IHRoZSBtZXRob2RzIG9uIGhvc3QgY29tcG9uZW50cyBvZmYgdGhlIHJlZi4gU28gaW5zdGVhZCBvZiBjYWxsaW5nXG4gICAgICAgIHJlZi5tZWFzdXJlKCkgeW91IG1pZ2h0IGNhbGwgUmVhY3ROYXRpdmUubWVhc3VyZShyZWYpLiBUaGlzIHdvdWxkIGhvcGVmdWxseVxuICAgICAgICBsZXQgdGhlIHJlZiBmb3IgVGV4dElucHV0IHRoZW4gaGF2ZSB0aGUgbWV0aG9kcyBsaWtlIGAuY2xlYXJgLiBPciB3ZSBkbyBpdFxuICAgICAgICB0aGUgb3RoZXIgd2F5IGFuZCBtYWtlIGl0IFRleHRJbnB1dC5jbGVhcih0ZXh0SW5wdXRSZWYpIHdoaWNoIHdvdWxkIGJlIGZpbmVcbiAgICAgICAgdG9vLiBFaXRoZXIgd2F5IHRob3VnaCBpcyBhIGJyZWFraW5nIGNoYW5nZSB0aGF0IGlzIGxvbmdlciB0ZXJtLlxuICAgICAgLSBNdXRhdGUgdGhpcyByZWYuIDooIEdyb3NzLCBidXQgYWNjb21wbGlzaGVzIHdoYXQgd2UgbmVlZCBpbiB0aGUgbWVhbnRpbWVcbiAgICAgICAgYmVmb3JlIHdlIGNhbiBnZXQgdG8gdGhlIGxvbmcgdGVybSBicmVha2luZyBjaGFuZ2UuXG4gICAgICAqL1xuICAgICAgaWYgKGluc3RhbmNlICE9IG51bGwpIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIC0gU2VlIHRoZSBleHBsYW5hdGlvbiBhYm92ZS5cbiAgICAgICAgLy8gJEZsb3dGaXhNZVt1bnNhZmUtb2JqZWN0LWFzc2lnbl1cbiAgICAgICAgT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwge1xuICAgICAgICAgIGNsZWFyKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKGlucHV0UmVmLmN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICB2aWV3Q29tbWFuZHMuc2V0VGV4dEFuZFNlbGVjdGlvbihcbiAgICAgICAgICAgICAgICBpbnB1dFJlZi5jdXJyZW50LFxuICAgICAgICAgICAgICAgIG1vc3RSZWNlbnRFdmVudENvdW50LFxuICAgICAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIFRPRE86IEZpeCB0aGlzIHJldHVybmluZyB0cnVlIG9uIG51bGwgPT09IG51bGwsIHdoZW4gbm8gaW5wdXQgaXMgZm9jdXNlZFxuICAgICAgICAgIGlzRm9jdXNlZCgpOiBib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKSA9PT0gaW5wdXRSZWYuY3VycmVudDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldE5hdGl2ZVJlZigpOiA/VGV4dElucHV0SW5zdGFuY2Uge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0UmVmLmN1cnJlbnQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXRTZWxlY3Rpb24oc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChpbnB1dFJlZi5jdXJyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgdmlld0NvbW1hbmRzLnNldFRleHRBbmRTZWxlY3Rpb24oXG4gICAgICAgICAgICAgICAgaW5wdXRSZWYuY3VycmVudCxcbiAgICAgICAgICAgICAgICBtb3N0UmVjZW50RXZlbnRDb3VudCxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFttb3N0UmVjZW50RXZlbnRDb3VudCwgdmlld0NvbW1hbmRzXSxcbiAgKTtcblxuICAvLyAkRmxvd0V4cGVjdGVkRXJyb3JbaW5jb21wYXRpYmxlLWNhbGxdXG4gIGNvbnN0IHJlZiA9IHVzZU1lcmdlUmVmczxIb3N0SW5zdGFuY2U+KHNldExvY2FsUmVmLCBwcm9wcy5mb3J3YXJkZWRSZWYpO1xuXG4gIGNvbnN0IF9vbkNoYW5nZSA9IChldmVudDogVGV4dElucHV0Q2hhbmdlRXZlbnQpID0+IHtcbiAgICBjb25zdCBjdXJyZW50VGV4dCA9IGV2ZW50Lm5hdGl2ZUV2ZW50LnRleHQ7XG4gICAgcHJvcHMub25DaGFuZ2UgJiYgcHJvcHMub25DaGFuZ2UoZXZlbnQpO1xuICAgIHByb3BzLm9uQ2hhbmdlVGV4dCAmJiBwcm9wcy5vbkNoYW5nZVRleHQoY3VycmVudFRleHQpO1xuXG4gICAgaWYgKGlucHV0UmVmLmN1cnJlbnQgPT0gbnVsbCkge1xuICAgICAgLy8gY2FsbGluZyBgcHJvcHMub25DaGFuZ2VgIG9yIGBwcm9wcy5vbkNoYW5nZVRleHRgXG4gICAgICAvLyBtYXkgY2xlYW4gdXAgdGhlIGlucHV0IGl0c2VsZi4gRXhpdHMgaGVyZS5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRMYXN0TmF0aXZlVGV4dChjdXJyZW50VGV4dCk7XG4gICAgLy8gVGhpcyBtdXN0IGhhcHBlbiBsYXN0LCBhZnRlciB3ZSBjYWxsIHNldExhc3ROYXRpdmVUZXh0LlxuICAgIC8vIERpZmZlcmVudCBvcmRlcmluZyBjYW4gY2F1c2UgYnVncyB3aGVuIGVkaXRpbmcgQW5kcm9pZFRleHRJbnB1dHNcbiAgICAvLyB3aXRoIG11bHRpcGxlIEZyYWdtZW50cy5cbiAgICAvLyBXZSBtdXN0IHVwZGF0ZSB0aGlzIHNvIHRoYXQgY29udHJvbGxlZCBpbnB1dCB1cGRhdGVzIHdvcmsuXG4gICAgc2V0TW9zdFJlY2VudEV2ZW50Q291bnQoZXZlbnQubmF0aXZlRXZlbnQuZXZlbnRDb3VudCk7XG4gIH07XG5cbiAgY29uc3QgX29uU2VsZWN0aW9uQ2hhbmdlID0gKGV2ZW50OiBUZXh0SW5wdXRTZWxlY3Rpb25DaGFuZ2VFdmVudCkgPT4ge1xuICAgIHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlICYmIHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlKGV2ZW50KTtcblxuICAgIGlmIChpbnB1dFJlZi5jdXJyZW50ID09IG51bGwpIHtcbiAgICAgIC8vIGNhbGxpbmcgYHByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlYFxuICAgICAgLy8gbWF5IGNsZWFuIHVwIHRoZSBpbnB1dCBpdHNlbGYuIEV4aXRzIGhlcmUuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0TGFzdE5hdGl2ZVNlbGVjdGlvbih7XG4gICAgICBzZWxlY3Rpb246IGV2ZW50Lm5hdGl2ZUV2ZW50LnNlbGVjdGlvbixcbiAgICAgIG1vc3RSZWNlbnRFdmVudENvdW50LFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IF9vbkZvY3VzID0gKGV2ZW50OiBGb2N1c0V2ZW50KSA9PiB7XG4gICAgVGV4dElucHV0U3RhdGUuZm9jdXNJbnB1dChpbnB1dFJlZi5jdXJyZW50KTtcbiAgICBpZiAocHJvcHMub25Gb2N1cykge1xuICAgICAgcHJvcHMub25Gb2N1cyhldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IF9vbkJsdXIgPSAoZXZlbnQ6IEJsdXJFdmVudCkgPT4ge1xuICAgIFRleHRJbnB1dFN0YXRlLmJsdXJJbnB1dChpbnB1dFJlZi5jdXJyZW50KTtcbiAgICBpZiAocHJvcHMub25CbHVyKSB7XG4gICAgICBwcm9wcy5vbkJsdXIoZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBfb25TY3JvbGwgPSAoZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgcHJvcHMub25TY3JvbGwgJiYgcHJvcHMub25TY3JvbGwoZXZlbnQpO1xuICB9O1xuXG4gIGxldCB0ZXh0SW5wdXQgPSBudWxsO1xuXG4gIGNvbnN0IG11bHRpbGluZSA9IHByb3BzLm11bHRpbGluZSA/PyBmYWxzZTtcblxuICBsZXQgc3VibWl0QmVoYXZpb3I6IFN1Ym1pdEJlaGF2aW9yO1xuICBpZiAocHJvcHMuc3VibWl0QmVoYXZpb3IgIT0gbnVsbCkge1xuICAgIC8vIGBzdWJtaXRCZWhhdmlvcmAgaXMgc2V0IGV4cGxpY2l0bHlcbiAgICBpZiAoIW11bHRpbGluZSAmJiBwcm9wcy5zdWJtaXRCZWhhdmlvciA9PT0gJ25ld2xpbmUnKSB7XG4gICAgICAvLyBGb3Igc2luZ2xlIGxpbmUgdGV4dCBpbnB1dHMsIGAnbmV3bGluZSdgIGlzIG5vdCBhIHZhbGlkIG9wdGlvblxuICAgICAgc3VibWl0QmVoYXZpb3IgPSAnYmx1ckFuZFN1Ym1pdCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1Ym1pdEJlaGF2aW9yID0gcHJvcHMuc3VibWl0QmVoYXZpb3I7XG4gICAgfVxuICB9IGVsc2UgaWYgKG11bHRpbGluZSkge1xuICAgIGlmIChwcm9wcy5ibHVyT25TdWJtaXQgPT09IHRydWUpIHtcbiAgICAgIHN1Ym1pdEJlaGF2aW9yID0gJ2JsdXJBbmRTdWJtaXQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWJtaXRCZWhhdmlvciA9ICduZXdsaW5lJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gU2luZ2xlIGxpbmVcbiAgICBpZiAocHJvcHMuYmx1ck9uU3VibWl0ICE9PSBmYWxzZSkge1xuICAgICAgc3VibWl0QmVoYXZpb3IgPSAnYmx1ckFuZFN1Ym1pdCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1Ym1pdEJlaGF2aW9yID0gJ3N1Ym1pdCc7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgYWNjZXNzaWJsZSA9IHByb3BzLmFjY2Vzc2libGUgIT09IGZhbHNlO1xuICBjb25zdCBmb2N1c2FibGUgPSBwcm9wcy5mb2N1c2FibGUgIT09IGZhbHNlO1xuXG4gIGNvbnN0IHtcbiAgICBlZGl0YWJsZSxcbiAgICBoaXRTbG9wLFxuICAgIG9uUHJlc3MsXG4gICAgb25QcmVzc0luLFxuICAgIG9uUHJlc3NPdXQsXG4gICAgcmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb24sXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCBjb25maWcgPSB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBoaXRTbG9wLFxuICAgICAgb25QcmVzczogKGV2ZW50OiBHZXN0dXJlUmVzcG9uZGVyRXZlbnQpID0+IHtcbiAgICAgICAgb25QcmVzcz8uKGV2ZW50KTtcbiAgICAgICAgaWYgKGVkaXRhYmxlICE9PSBmYWxzZSkge1xuICAgICAgICAgIGlmIChpbnB1dFJlZi5jdXJyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvblByZXNzSW46IG9uUHJlc3NJbixcbiAgICAgIG9uUHJlc3NPdXQ6IG9uUHJlc3NPdXQsXG4gICAgICBjYW5jZWxhYmxlOiBQbGF0Zm9ybS5PUyA9PT0gJ2lvcycgPyAhcmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb24gOiBudWxsLFxuICAgIH0pLFxuICAgIFtcbiAgICAgIGVkaXRhYmxlLFxuICAgICAgaGl0U2xvcCxcbiAgICAgIG9uUHJlc3MsXG4gICAgICBvblByZXNzSW4sXG4gICAgICBvblByZXNzT3V0LFxuICAgICAgcmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb24sXG4gICAgXSxcbiAgKTtcblxuICAvLyBIaWRlIGNhcmV0IGR1cmluZyB0ZXN0IHJ1bnMgZHVlIHRvIGEgZmxhc2hpbmcgY2FyZXRcbiAgLy8gbWFrZXMgc2NyZWVuc2hvdCB0ZXN0cyBmbGFrZXlcbiAgbGV0IGNhcmV0SGlkZGVuID0gcHJvcHMuY2FyZXRIaWRkZW47XG4gIGlmIChQbGF0Zm9ybS5pc1Rlc3RpbmcpIHtcbiAgICBjYXJldEhpZGRlbiA9IHRydWU7XG4gIH1cblxuICAvLyBUZXh0SW5wdXQgaGFuZGxlcyBvbkJsdXIgYW5kIG9uRm9jdXMgZXZlbnRzXG4gIC8vIHNvIG9taXR0aW5nIG9uQmx1ciBhbmQgb25Gb2N1cyBwcmVzc2FiaWxpdHkgaGFuZGxlcnMgaGVyZS5cbiAgY29uc3Qge29uQmx1ciwgb25Gb2N1cywgLi4uZXZlbnRIYW5kbGVyc30gPSB1c2VQcmVzc2FiaWxpdHkoY29uZmlnKTtcblxuICBjb25zdCBfYWNjZXNzaWJpbGl0eUxhYmVsID1cbiAgICBwcm9wcz8uWydhcmlhLWxhYmVsJ10gPz8gcHJvcHM/LmFjY2Vzc2liaWxpdHlMYWJlbDtcblxuICBsZXQgX2FjY2Vzc2liaWxpdHlTdGF0ZTtcbiAgaWYgKFxuICAgIGFjY2Vzc2liaWxpdHlTdGF0ZSAhPSBudWxsIHx8XG4gICAgYXJpYUJ1c3kgIT0gbnVsbCB8fFxuICAgIGFyaWFDaGVja2VkICE9IG51bGwgfHxcbiAgICBhcmlhRGlzYWJsZWQgIT0gbnVsbCB8fFxuICAgIGFyaWFFeHBhbmRlZCAhPSBudWxsIHx8XG4gICAgYXJpYVNlbGVjdGVkICE9IG51bGxcbiAgKSB7XG4gICAgX2FjY2Vzc2liaWxpdHlTdGF0ZSA9IHtcbiAgICAgIGJ1c3k6IGFyaWFCdXN5ID8/IGFjY2Vzc2liaWxpdHlTdGF0ZT8uYnVzeSxcbiAgICAgIGNoZWNrZWQ6IGFyaWFDaGVja2VkID8/IGFjY2Vzc2liaWxpdHlTdGF0ZT8uY2hlY2tlZCxcbiAgICAgIGRpc2FibGVkOiBhcmlhRGlzYWJsZWQgPz8gYWNjZXNzaWJpbGl0eVN0YXRlPy5kaXNhYmxlZCxcbiAgICAgIGV4cGFuZGVkOiBhcmlhRXhwYW5kZWQgPz8gYWNjZXNzaWJpbGl0eVN0YXRlPy5leHBhbmRlZCxcbiAgICAgIHNlbGVjdGVkOiBhcmlhU2VsZWN0ZWQgPz8gYWNjZXNzaWJpbGl0eVN0YXRlPy5zZWxlY3RlZCxcbiAgICB9O1xuICB9XG5cbiAgLy8gS2VlcCB0aGUgb3JpZ2luYWwgKHBvdGVudGlhbGx5IG5lc3RlZCkgc3R5bGUgd2hlbiBwb3NzaWJsZSwgYXMgUmVhY3QgY2FuIGRpZmYgdGhlc2UgbW9yZSBlZmZpY2llbnRseVxuICBsZXQgX3N0eWxlID0gcHJvcHMuc3R5bGU7XG4gIGNvbnN0IGZsYXR0ZW5lZFN0eWxlID0gZmxhdHRlblN0eWxlPFRleHRTdHlsZVByb3A+KHByb3BzLnN0eWxlKTtcbiAgaWYgKGZsYXR0ZW5lZFN0eWxlICE9IG51bGwpIHtcbiAgICBsZXQgb3ZlcnJpZGVzOiA/ey4uLlRleHRTdHlsZUludGVybmFsfSA9IG51bGw7XG4gICAgaWYgKHR5cGVvZiBmbGF0dGVuZWRTdHlsZT8uZm9udFdlaWdodCA9PT0gJ251bWJlcicpIHtcbiAgICAgIG92ZXJyaWRlcyA9IG92ZXJyaWRlcyB8fCAoe306IHsuLi5UZXh0U3R5bGVJbnRlcm5hbH0pO1xuICAgICAgb3ZlcnJpZGVzLmZvbnRXZWlnaHQgPVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYXN0XVxuICAgICAgICAoZmxhdHRlbmVkU3R5bGUuZm9udFdlaWdodC50b1N0cmluZygpOiBUZXh0U3R5bGVJbnRlcm5hbFsnZm9udFdlaWdodCddKTtcbiAgICB9XG5cbiAgICBpZiAoZmxhdHRlbmVkU3R5bGUudmVydGljYWxBbGlnbiAhPSBudWxsKSB7XG4gICAgICBvdmVycmlkZXMgPSBvdmVycmlkZXMgfHwgKHt9OiB7Li4uVGV4dFN0eWxlSW50ZXJuYWx9KTtcbiAgICAgIG92ZXJyaWRlcy50ZXh0QWxpZ25WZXJ0aWNhbCA9XG4gICAgICAgIHZlcnRpY2FsQWxpZ25Ub1RleHRBbGlnblZlcnRpY2FsTWFwW2ZsYXR0ZW5lZFN0eWxlLnZlcnRpY2FsQWxpZ25dO1xuICAgICAgb3ZlcnJpZGVzLnZlcnRpY2FsQWxpZ24gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKG92ZXJyaWRlcyAhPSBudWxsKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXVxuICAgICAgX3N0eWxlID0gW19zdHlsZSwgb3ZlcnJpZGVzXTtcbiAgICB9XG4gIH1cblxuICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gICAgY29uc3QgUkNUVGV4dElucHV0VmlldyA9XG4gICAgICBwcm9wcy5tdWx0aWxpbmUgPT09IHRydWVcbiAgICAgICAgPyBSQ1RNdWx0aWxpbmVUZXh0SW5wdXRWaWV3XG4gICAgICAgIDogUkNUU2luZ2xlbGluZVRleHRJbnB1dFZpZXc7XG5cbiAgICBjb25zdCB1c2VNdWx0aWxpbmVEZWZhdWx0U3R5bGUgPVxuICAgICAgcHJvcHMubXVsdGlsaW5lID09PSB0cnVlICYmXG4gICAgICAoZmxhdHRlbmVkU3R5bGUgPT0gbnVsbCB8fFxuICAgICAgICAoZmxhdHRlbmVkU3R5bGUucGFkZGluZyA9PSBudWxsICYmXG4gICAgICAgICAgZmxhdHRlbmVkU3R5bGUucGFkZGluZ1ZlcnRpY2FsID09IG51bGwgJiZcbiAgICAgICAgICBmbGF0dGVuZWRTdHlsZS5wYWRkaW5nVG9wID09IG51bGwpKTtcblxuICAgIHRleHRJbnB1dCA9IChcbiAgICAgIDxSQ1RUZXh0SW5wdXRWaWV3XG4gICAgICAgIC8vIEZpZ3VyZSBvdXQgaW1wZXJhdGl2ZSArIGZvcndhcmQgcmVmcy5cbiAgICAgICAgcmVmPXsocmVmOiAkRmxvd0ZpeE1lKX1cbiAgICAgICAgey4uLm90aGVyUHJvcHN9XG4gICAgICAgIHsuLi5ldmVudEhhbmRsZXJzfVxuICAgICAgICBhY2NlcHREcmFnQW5kRHJvcFR5cGVzPXtwcm9wcy5leHBlcmltZW50YWxfYWNjZXB0RHJhZ0FuZERyb3BUeXBlc31cbiAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXtfYWNjZXNzaWJpbGl0eUxhYmVsfVxuICAgICAgICBhY2Nlc3NpYmlsaXR5U3RhdGU9e19hY2Nlc3NpYmlsaXR5U3RhdGV9XG4gICAgICAgIGFjY2Vzc2libGU9e2FjY2Vzc2libGV9XG4gICAgICAgIHN1Ym1pdEJlaGF2aW9yPXtzdWJtaXRCZWhhdmlvcn1cbiAgICAgICAgY2FyZXRIaWRkZW49e2NhcmV0SGlkZGVufVxuICAgICAgICBkYXRhRGV0ZWN0b3JUeXBlcz17cHJvcHMuZGF0YURldGVjdG9yVHlwZXN9XG4gICAgICAgIGZvY3VzYWJsZT17dGFiSW5kZXggIT09IHVuZGVmaW5lZCA/ICF0YWJJbmRleCA6IGZvY3VzYWJsZX1cbiAgICAgICAgbW9zdFJlY2VudEV2ZW50Q291bnQ9e21vc3RSZWNlbnRFdmVudENvdW50fVxuICAgICAgICBuYXRpdmVJRD17aWQgPz8gcHJvcHMubmF0aXZlSUR9XG4gICAgICAgIG51bWJlck9mTGluZXM9e3Byb3BzLnJvd3MgPz8gcHJvcHMubnVtYmVyT2ZMaW5lc31cbiAgICAgICAgb25CbHVyPXtfb25CbHVyfVxuICAgICAgICBvbkNoYW5nZT17X29uQ2hhbmdlfVxuICAgICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlPXtwcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlfVxuICAgICAgICBvbkZvY3VzPXtfb25Gb2N1c31cbiAgICAgICAgb25TY3JvbGw9e19vblNjcm9sbH1cbiAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U9e19vblNlbGVjdGlvbkNoYW5nZX1cbiAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2VTaG91bGRTZXRSZXNwb25kZXI9e2VtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc1RydWV9XG4gICAgICAgIHNlbGVjdGlvbj17c2VsZWN0aW9ufVxuICAgICAgICBzZWxlY3Rpb25Db2xvcj17c2VsZWN0aW9uQ29sb3J9XG4gICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmNvbXBvc2UoXG4gICAgICAgICAgdXNlTXVsdGlsaW5lRGVmYXVsdFN0eWxlID8gc3R5bGVzLm11bHRpbGluZURlZmF1bHQgOiBudWxsLFxuICAgICAgICAgIF9zdHlsZSxcbiAgICAgICAgKX1cbiAgICAgICAgdGV4dD17dGV4dH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgY29uc3QgYXV0b0NhcGl0YWxpemUgPSBwcm9wcy5hdXRvQ2FwaXRhbGl6ZSB8fCAnc2VudGVuY2VzJztcbiAgICBjb25zdCBfYWNjZXNzaWJpbGl0eUxhYmVsbGVkQnkgPVxuICAgICAgcHJvcHM/LlsnYXJpYS1sYWJlbGxlZGJ5J10gPz8gcHJvcHM/LmFjY2Vzc2liaWxpdHlMYWJlbGxlZEJ5O1xuICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gcHJvcHMucGxhY2Vob2xkZXIgPz8gJyc7XG4gICAgbGV0IGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gICAgY29uc3QgY2hpbGRDb3VudCA9IFJlYWN0LkNoaWxkcmVuLmNvdW50KGNoaWxkcmVuKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhKHByb3BzLnZhbHVlICE9IG51bGwgJiYgY2hpbGRDb3VudCksXG4gICAgICAnQ2Fubm90IHNwZWNpZnkgYm90aCB2YWx1ZSBhbmQgY2hpbGRyZW4uJyxcbiAgICApO1xuICAgIGlmIChjaGlsZENvdW50ID4gMSkge1xuICAgICAgY2hpbGRyZW4gPSA8VGV4dD57Y2hpbGRyZW59PC9UZXh0PjtcbiAgICB9XG4gICAgLy8gRm9yIGNvbnNpc3RlbmN5IHdpdGggaU9TIHNldCBjdXJzb3Ivc2VsZWN0aW9uSGFuZGxlIGNvbG9yIGFzIHNlbGVjdGlvbkNvbG9yXG4gICAgY29uc3QgY29sb3JQcm9wcyA9IHtcbiAgICAgIHNlbGVjdGlvbkNvbG9yLFxuICAgICAgc2VsZWN0aW9uSGFuZGxlQ29sb3I6XG4gICAgICAgIHNlbGVjdGlvbkhhbmRsZUNvbG9yID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IHNlbGVjdGlvbkNvbG9yXG4gICAgICAgICAgOiBzZWxlY3Rpb25IYW5kbGVDb2xvcixcbiAgICAgIGN1cnNvckNvbG9yOiBjdXJzb3JDb2xvciA9PT0gdW5kZWZpbmVkID8gc2VsZWN0aW9uQ29sb3IgOiBjdXJzb3JDb2xvcixcbiAgICB9O1xuICAgIHRleHRJbnB1dCA9IChcbiAgICAgIC8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSB0aGUgdHlwZXMgZm9yIEFuZHJvaWRUZXh0SW5wdXQgZG9uJ3QgbWF0Y2ggdXBcbiAgICAgICAqIGV4YWN0bHkgd2l0aCB0aGUgcHJvcHMgZm9yIFRleHRJbnB1dC4gVGhpcyB3aWxsIG5lZWQgdG8gZ2V0IGZpeGVkICovXG4gICAgICAvKiAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXSB0aGUgdHlwZXMgZm9yIEFuZHJvaWRUZXh0SW5wdXQgZG9uJ3RcbiAgICAgICAqIG1hdGNoIHVwIGV4YWN0bHkgd2l0aCB0aGUgcHJvcHMgZm9yIFRleHRJbnB1dC4gVGhpcyB3aWxsIG5lZWQgdG8gZ2V0XG4gICAgICAgKiBmaXhlZCAqL1xuICAgICAgLyogJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZS1hcmddIHRoZSB0eXBlcyBmb3IgQW5kcm9pZFRleHRJbnB1dCBkb24ndFxuICAgICAgICogbWF0Y2ggdXAgZXhhY3RseSB3aXRoIHRoZSBwcm9wcyBmb3IgVGV4dElucHV0LiBUaGlzIHdpbGwgbmVlZCB0byBnZXRcbiAgICAgICAqIGZpeGVkICovXG4gICAgICA8QW5kcm9pZFRleHRJbnB1dFxuICAgICAgICAvLyBGaWd1cmUgb3V0IGltcGVyYXRpdmUgKyBmb3J3YXJkIHJlZnMuXG4gICAgICAgIHJlZj17KHJlZjogJEZsb3dGaXhNZSl9XG4gICAgICAgIHsuLi5vdGhlclByb3BzfVxuICAgICAgICB7Li4uY29sb3JQcm9wc31cbiAgICAgICAgey4uLmV2ZW50SGFuZGxlcnN9XG4gICAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbD17X2FjY2Vzc2liaWxpdHlMYWJlbH1cbiAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsbGVkQnk9e19hY2Nlc3NpYmlsaXR5TGFiZWxsZWRCeX1cbiAgICAgICAgYWNjZXNzaWJpbGl0eVN0YXRlPXtfYWNjZXNzaWJpbGl0eVN0YXRlfVxuICAgICAgICBhY2Nlc3NpYmxlPXthY2Nlc3NpYmxlfVxuICAgICAgICBhY2NlcHREcmFnQW5kRHJvcFR5cGVzPXtwcm9wcy5leHBlcmltZW50YWxfYWNjZXB0RHJhZ0FuZERyb3BUeXBlc31cbiAgICAgICAgYXV0b0NhcGl0YWxpemU9e2F1dG9DYXBpdGFsaXplfVxuICAgICAgICBzdWJtaXRCZWhhdmlvcj17c3VibWl0QmVoYXZpb3J9XG4gICAgICAgIGNhcmV0SGlkZGVuPXtjYXJldEhpZGRlbn1cbiAgICAgICAgY2hpbGRyZW49e2NoaWxkcmVufVxuICAgICAgICBkaXNhYmxlRnVsbHNjcmVlblVJPXtwcm9wcy5kaXNhYmxlRnVsbHNjcmVlblVJfVxuICAgICAgICBmb2N1c2FibGU9e3RhYkluZGV4ICE9PSB1bmRlZmluZWQgPyAhdGFiSW5kZXggOiBmb2N1c2FibGV9XG4gICAgICAgIG1vc3RSZWNlbnRFdmVudENvdW50PXttb3N0UmVjZW50RXZlbnRDb3VudH1cbiAgICAgICAgbmF0aXZlSUQ9e2lkID8/IHByb3BzLm5hdGl2ZUlEfVxuICAgICAgICBudW1iZXJPZkxpbmVzPXtwcm9wcy5yb3dzID8/IHByb3BzLm51bWJlck9mTGluZXN9XG4gICAgICAgIG9uQmx1cj17X29uQmx1cn1cbiAgICAgICAgb25DaGFuZ2U9e19vbkNoYW5nZX1cbiAgICAgICAgb25Gb2N1cz17X29uRm9jdXN9XG4gICAgICAgIC8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSB0aGUgdHlwZXMgZm9yIEFuZHJvaWRUZXh0SW5wdXQgZG9uJ3QgbWF0Y2hcbiAgICAgICAgICogdXAgZXhhY3RseSB3aXRoIHRoZSBwcm9wcyBmb3IgVGV4dElucHV0LiBUaGlzIHdpbGwgbmVlZCB0byBnZXQgZml4ZWRcbiAgICAgICAgICovXG4gICAgICAgIC8qICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXSB0aGUgdHlwZXMgZm9yIEFuZHJvaWRUZXh0SW5wdXRcbiAgICAgICAgICogZG9uJ3QgbWF0Y2ggdXAgZXhhY3RseSB3aXRoIHRoZSBwcm9wcyBmb3IgVGV4dElucHV0LiBUaGlzIHdpbGwgbmVlZFxuICAgICAgICAgKiB0byBnZXQgZml4ZWQgKi9cbiAgICAgICAgb25TY3JvbGw9e19vblNjcm9sbH1cbiAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U9e19vblNlbGVjdGlvbkNoYW5nZX1cbiAgICAgICAgcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfVxuICAgICAgICBzdHlsZT17X3N0eWxlfVxuICAgICAgICB0ZXh0PXt0ZXh0fVxuICAgICAgICB0ZXh0QnJlYWtTdHJhdGVneT17cHJvcHMudGV4dEJyZWFrU3RyYXRlZ3l9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIDxUZXh0QW5jZXN0b3JDb250ZXh0IHZhbHVlPXt0cnVlfT57dGV4dElucHV0fTwvVGV4dEFuY2VzdG9yQ29udGV4dD47XG59XG5cbmNvbnN0IGVudGVyS2V5SGludFRvUmV0dXJuVHlwZU1hcCA9IHtcbiAgZW50ZXI6ICdkZWZhdWx0JyxcbiAgZG9uZTogJ2RvbmUnLFxuICBnbzogJ2dvJyxcbiAgbmV4dDogJ25leHQnLFxuICBwcmV2aW91czogJ3ByZXZpb3VzJyxcbiAgc2VhcmNoOiAnc2VhcmNoJyxcbiAgc2VuZDogJ3NlbmQnLFxufSBhcyBjb25zdDtcblxuY29uc3QgaW5wdXRNb2RlVG9LZXlib2FyZFR5cGVNYXAgPSB7XG4gIG5vbmU6ICdkZWZhdWx0JyxcbiAgdGV4dDogJ2RlZmF1bHQnLFxuICBkZWNpbWFsOiAnZGVjaW1hbC1wYWQnLFxuICBudW1lcmljOiAnbnVtYmVyLXBhZCcsXG4gIHRlbDogJ3Bob25lLXBhZCcsXG4gIHNlYXJjaDpcbiAgICBQbGF0Zm9ybS5PUyA9PT0gJ2lvcycgPyAoJ3dlYi1zZWFyY2gnIGFzIGNvbnN0KSA6ICgnZGVmYXVsdCcgYXMgY29uc3QpLFxuICBlbWFpbDogJ2VtYWlsLWFkZHJlc3MnLFxuICB1cmw6ICd1cmwnLFxufSBhcyBjb25zdDtcblxuLy8gTWFwIEhUTUwgYXV0b2NvbXBsZXRlIHZhbHVlcyB0byBBbmRyb2lkIGF1dG9Db21wbGV0ZSB2YWx1ZXNcbmNvbnN0IGF1dG9Db21wbGV0ZVdlYlRvQXV0b0NvbXBsZXRlQW5kcm9pZE1hcCA9IHtcbiAgJ2FkZHJlc3MtbGluZTEnOiAncG9zdGFsLWFkZHJlc3MtcmVnaW9uJyxcbiAgJ2FkZHJlc3MtbGluZTInOiAncG9zdGFsLWFkZHJlc3MtbG9jYWxpdHknLFxuICBiZGF5OiAnYmlydGhkYXRlLWZ1bGwnLFxuICAnYmRheS1kYXknOiAnYmlydGhkYXRlLWRheScsXG4gICdiZGF5LW1vbnRoJzogJ2JpcnRoZGF0ZS1tb250aCcsXG4gICdiZGF5LXllYXInOiAnYmlydGhkYXRlLXllYXInLFxuICAnY2MtY3NjJzogJ2NjLWNzYycsXG4gICdjYy1leHAnOiAnY2MtZXhwJyxcbiAgJ2NjLWV4cC1tb250aCc6ICdjYy1leHAtbW9udGgnLFxuICAnY2MtZXhwLXllYXInOiAnY2MtZXhwLXllYXInLFxuICAnY2MtbnVtYmVyJzogJ2NjLW51bWJlcicsXG4gIGNvdW50cnk6ICdwb3N0YWwtYWRkcmVzcy1jb3VudHJ5JyxcbiAgJ2N1cnJlbnQtcGFzc3dvcmQnOiAncGFzc3dvcmQnLFxuICBlbWFpbDogJ2VtYWlsJyxcbiAgJ2hvbm9yaWZpYy1wcmVmaXgnOiAnbmFtZS1wcmVmaXgnLFxuICAnaG9ub3JpZmljLXN1ZmZpeCc6ICduYW1lLXN1ZmZpeCcsXG4gIG5hbWU6ICduYW1lJyxcbiAgJ2FkZGl0aW9uYWwtbmFtZSc6ICduYW1lLW1pZGRsZScsXG4gICdmYW1pbHktbmFtZSc6ICduYW1lLWZhbWlseScsXG4gICdnaXZlbi1uYW1lJzogJ25hbWUtZ2l2ZW4nLFxuICAnbmV3LXBhc3N3b3JkJzogJ3Bhc3N3b3JkLW5ldycsXG4gIG9mZjogJ29mZicsXG4gICdvbmUtdGltZS1jb2RlJzogJ3Ntcy1vdHAnLFxuICAncG9zdGFsLWNvZGUnOiAncG9zdGFsLWNvZGUnLFxuICBzZXg6ICdnZW5kZXInLFxuICAnc3RyZWV0LWFkZHJlc3MnOiAnc3RyZWV0LWFkZHJlc3MnLFxuICB0ZWw6ICd0ZWwnLFxuICAndGVsLWNvdW50cnktY29kZSc6ICd0ZWwtY291bnRyeS1jb2RlJyxcbiAgJ3RlbC1uYXRpb25hbCc6ICd0ZWwtbmF0aW9uYWwnLFxuICB1c2VybmFtZTogJ3VzZXJuYW1lJyxcbn0gYXMgY29uc3Q7XG5cbi8vIE1hcCBIVE1MIGF1dG9jb21wbGV0ZSB2YWx1ZXMgdG8gaU9TIHRleHRDb250ZW50VHlwZSB2YWx1ZXNcbmNvbnN0IGF1dG9Db21wbGV0ZVdlYlRvVGV4dENvbnRlbnRUeXBlTWFwID0ge1xuICAnYWRkcmVzcy1saW5lMSc6ICdzdHJlZXRBZGRyZXNzTGluZTEnLFxuICAnYWRkcmVzcy1saW5lMic6ICdzdHJlZXRBZGRyZXNzTGluZTInLFxuICBiZGF5OiAnYmlydGhkYXRlJyxcbiAgJ2JkYXktZGF5JzogJ2JpcnRoZGF0ZURheScsXG4gICdiZGF5LW1vbnRoJzogJ2JpcnRoZGF0ZU1vbnRoJyxcbiAgJ2JkYXkteWVhcic6ICdiaXJ0aGRhdGVZZWFyJyxcbiAgJ2NjLWNzYyc6ICdjcmVkaXRDYXJkU2VjdXJpdHlDb2RlJyxcbiAgJ2NjLWV4cC1tb250aCc6ICdjcmVkaXRDYXJkRXhwaXJhdGlvbk1vbnRoJyxcbiAgJ2NjLWV4cC15ZWFyJzogJ2NyZWRpdENhcmRFeHBpcmF0aW9uWWVhcicsXG4gICdjYy1leHAnOiAnY3JlZGl0Q2FyZEV4cGlyYXRpb24nLFxuICAnY2MtZ2l2ZW4tbmFtZSc6ICdjcmVkaXRDYXJkR2l2ZW5OYW1lJyxcbiAgJ2NjLWFkZGl0aW9uYWwtbmFtZSc6ICdjcmVkaXRDYXJkTWlkZGxlTmFtZScsXG4gICdjYy1mYW1pbHktbmFtZSc6ICdjcmVkaXRDYXJkRmFtaWx5TmFtZScsXG4gICdjYy1uYW1lJzogJ2NyZWRpdENhcmROYW1lJyxcbiAgJ2NjLW51bWJlcic6ICdjcmVkaXRDYXJkTnVtYmVyJyxcbiAgJ2NjLXR5cGUnOiAnY3JlZGl0Q2FyZFR5cGUnLFxuICAnY3VycmVudC1wYXNzd29yZCc6ICdwYXNzd29yZCcsXG4gIGNvdW50cnk6ICdjb3VudHJ5TmFtZScsXG4gIGVtYWlsOiAnZW1haWxBZGRyZXNzJyxcbiAgbmFtZTogJ25hbWUnLFxuICAnYWRkaXRpb25hbC1uYW1lJzogJ21pZGRsZU5hbWUnLFxuICAnZmFtaWx5LW5hbWUnOiAnZmFtaWx5TmFtZScsXG4gICdnaXZlbi1uYW1lJzogJ2dpdmVuTmFtZScsXG4gIG5pY2tuYW1lOiAnbmlja25hbWUnLFxuICAnaG9ub3JpZmljLXByZWZpeCc6ICduYW1lUHJlZml4JyxcbiAgJ2hvbm9yaWZpYy1zdWZmaXgnOiAnbmFtZVN1ZmZpeCcsXG4gICduZXctcGFzc3dvcmQnOiAnbmV3UGFzc3dvcmQnLFxuICBvZmY6ICdub25lJyxcbiAgJ29uZS10aW1lLWNvZGUnOiAnb25lVGltZUNvZGUnLFxuICBvcmdhbml6YXRpb246ICdvcmdhbml6YXRpb25OYW1lJyxcbiAgJ29yZ2FuaXphdGlvbi10aXRsZSc6ICdqb2JUaXRsZScsXG4gICdwb3N0YWwtY29kZSc6ICdwb3N0YWxDb2RlJyxcbiAgJ3N0cmVldC1hZGRyZXNzJzogJ2Z1bGxTdHJlZXRBZGRyZXNzJyxcbiAgdGVsOiAndGVsZXBob25lTnVtYmVyJyxcbiAgdXJsOiAnVVJMJyxcbiAgdXNlcm5hbWU6ICd1c2VybmFtZScsXG59IGFzIGNvbnN0O1xuXG5jb25zdCBUZXh0SW5wdXQ6IGNvbXBvbmVudChcbiAgcmVmPzogUmVhY3QuUmVmU2V0dGVyPFRleHRJbnB1dEluc3RhbmNlPixcbiAgLi4ucHJvcHM6IFJlYWN0LkVsZW1lbnRDb25maWc8dHlwZW9mIEludGVybmFsVGV4dElucHV0PlxuKSA9IGZ1bmN0aW9uIFRleHRJbnB1dCh7XG4gIHJlZjogZm9yd2FyZGVkUmVmLFxuICBhbGxvd0ZvbnRTY2FsaW5nID0gdHJ1ZSxcbiAgcmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb24gPSB0cnVlLFxuICB1bmRlcmxpbmVDb2xvckFuZHJvaWQgPSAndHJhbnNwYXJlbnQnLFxuICBhdXRvQ29tcGxldGUsXG4gIHRleHRDb250ZW50VHlwZSxcbiAgcmVhZE9ubHksXG4gIGVkaXRhYmxlLFxuICBlbnRlcktleUhpbnQsXG4gIHJldHVybktleVR5cGUsXG4gIGlucHV0TW9kZSxcbiAgc2hvd1NvZnRJbnB1dE9uRm9jdXMsXG4gIGtleWJvYXJkVHlwZSxcbiAgLi4ucmVzdFByb3BzXG59OiB7XG4gIHJlZj86IFJlYWN0LlJlZlNldHRlcjxUZXh0SW5wdXRJbnN0YW5jZT4sXG4gIC4uLlJlYWN0LkVsZW1lbnRDb25maWc8dHlwZW9mIEludGVybmFsVGV4dElucHV0Pixcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8SW50ZXJuYWxUZXh0SW5wdXRcbiAgICAgIGFsbG93Rm9udFNjYWxpbmc9e2FsbG93Rm9udFNjYWxpbmd9XG4gICAgICByZWplY3RSZXNwb25kZXJUZXJtaW5hdGlvbj17cmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb259XG4gICAgICB1bmRlcmxpbmVDb2xvckFuZHJvaWQ9e3VuZGVybGluZUNvbG9yQW5kcm9pZH1cbiAgICAgIGVkaXRhYmxlPXtyZWFkT25seSAhPT0gdW5kZWZpbmVkID8gIXJlYWRPbmx5IDogZWRpdGFibGV9XG4gICAgICByZXR1cm5LZXlUeXBlPXtcbiAgICAgICAgZW50ZXJLZXlIaW50ID8gZW50ZXJLZXlIaW50VG9SZXR1cm5UeXBlTWFwW2VudGVyS2V5SGludF0gOiByZXR1cm5LZXlUeXBlXG4gICAgICB9XG4gICAgICBrZXlib2FyZFR5cGU9e1xuICAgICAgICBpbnB1dE1vZGUgPyBpbnB1dE1vZGVUb0tleWJvYXJkVHlwZU1hcFtpbnB1dE1vZGVdIDoga2V5Ym9hcmRUeXBlXG4gICAgICB9XG4gICAgICBzaG93U29mdElucHV0T25Gb2N1cz17XG4gICAgICAgIGlucHV0TW9kZSA9PSBudWxsID8gc2hvd1NvZnRJbnB1dE9uRm9jdXMgOiBpbnB1dE1vZGUgIT09ICdub25lJ1xuICAgICAgfVxuICAgICAgYXV0b0NvbXBsZXRlPXtcbiAgICAgICAgUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJ1xuICAgICAgICAgID8gLy8gJEZsb3dGaXhNZVtpbnZhbGlkLWNvbXB1dGVkLXByb3BdXG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICAgICAgICAgIGF1dG9Db21wbGV0ZVdlYlRvQXV0b0NvbXBsZXRlQW5kcm9pZE1hcFthdXRvQ29tcGxldGVdID8/XG4gICAgICAgICAgICBhdXRvQ29tcGxldGVcbiAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgfVxuICAgICAgdGV4dENvbnRlbnRUeXBlPXtcbiAgICAgICAgdGV4dENvbnRlbnRUeXBlICE9IG51bGxcbiAgICAgICAgICA/IHRleHRDb250ZW50VHlwZVxuICAgICAgICAgIDogUGxhdGZvcm0uT1MgPT09ICdpb3MnICYmXG4gICAgICAgICAgICAgIGF1dG9Db21wbGV0ZSAmJlxuICAgICAgICAgICAgICBhdXRvQ29tcGxldGUgaW4gYXV0b0NvbXBsZXRlV2ViVG9UZXh0Q29udGVudFR5cGVNYXBcbiAgICAgICAgICAgID8gLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgICAgICAgICAgIGF1dG9Db21wbGV0ZVdlYlRvVGV4dENvbnRlbnRUeXBlTWFwW2F1dG9Db21wbGV0ZV1cbiAgICAgICAgICAgIDogdGV4dENvbnRlbnRUeXBlXG4gICAgICB9XG4gICAgICB7Li4ucmVzdFByb3BzfVxuICAgICAgZm9yd2FyZGVkUmVmPXtmb3J3YXJkZWRSZWZ9XG4gICAgLz5cbiAgKTtcbn07XG5cblRleHRJbnB1dC5kaXNwbGF5TmFtZSA9ICdUZXh0SW5wdXQnO1xuXG4vLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cblRleHRJbnB1dC5TdGF0ZSA9IHtcbiAgY3VycmVudGx5Rm9jdXNlZElucHV0OiBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQsXG5cbiAgY3VycmVudGx5Rm9jdXNlZEZpZWxkOiBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkRmllbGQsXG4gIGZvY3VzVGV4dElucHV0OiBUZXh0SW5wdXRTdGF0ZS5mb2N1c1RleHRJbnB1dCxcbiAgYmx1clRleHRJbnB1dDogVGV4dElucHV0U3RhdGUuYmx1clRleHRJbnB1dCxcbn07XG5cbmV4cG9ydCB0eXBlIFRleHRJbnB1dENvbXBvbmVudFN0YXRpY3MgPSAkUmVhZE9ubHk8e1xuICBTdGF0ZTogVGV4dElucHV0U3RhdGVUeXBlLFxufT47XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgbXVsdGlsaW5lRGVmYXVsdDoge1xuICAgIC8vIFRoaXMgZGVmYXVsdCB0b3AgaW5zZXQgbWFrZXMgUkNUTXVsdGlsaW5lVGV4dElucHV0VmlldyBzZWVtIGFzIGNsb3NlIGFzIHBvc3NpYmxlXG4gICAgLy8gdG8gc2luZ2xlLWxpbmUgUkNUU2luZ2xlbGluZVRleHRJbnB1dFZpZXcgZGVmYXVsdHMsIHVzaW5nIHRoZSBzeXN0ZW0gZGVmYXVsdHNcbiAgICAvLyBvZiBmb250IHNpemUgMTcgYW5kIGEgaGVpZ2h0IG9mIDMxIHBvaW50cy5cbiAgICBwYWRkaW5nVG9wOiA1LFxuICB9LFxufSk7XG5cbmNvbnN0IHZlcnRpY2FsQWxpZ25Ub1RleHRBbGlnblZlcnRpY2FsTWFwID0ge1xuICBhdXRvOiAnYXV0bycsXG4gIHRvcDogJ3RvcCcsXG4gIGJvdHRvbTogJ2JvdHRvbScsXG4gIG1pZGRsZTogJ2NlbnRlcicsXG59IGFzIGNvbnN0O1xuXG4vLyAkRmxvd0ZpeE1lW3VuY2xlYXItdHlwZV0gVW5jbGVhciB0eXBlLiBVc2luZyBgYW55YCB0eXBlIGlzIG5vdCBzYWZlLlxuZXhwb3J0IGRlZmF1bHQgVGV4dElucHV0IGFzIGFueSBhcyBUZXh0SW5wdXRUeXBlO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQXFEQSxJQUFBQSxpQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsYUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsV0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksb0JBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLFNBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLGFBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFPLGVBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFRLFVBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLFdBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFVLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQVgsT0FBQTtBQUErQixJQUFBWSxLQUFBLEdBQUFGLE1BQUE7QUFBQSxJQUFBRyxXQUFBLEdBQUFiLE9BQUE7QUFBQSxJQUFBYyxTQUFBO0VBQUFDLFVBQUE7RUFBQUMsVUFBQTtBQUcvQixJQUFJQyxnQkFBZ0I7QUFDcEIsSUFBSUMsd0JBQXdCO0FBQzVCLElBQUlDLDBCQUEwQjtBQUM5QixJQUFJQyxvQ0FBb0M7QUFDeEMsSUFBSUMseUJBQXlCO0FBQzdCLElBQUlDLG1DQUFtQztBQUV2QyxJQUFJQyxpQkFBUSxDQUFDQyxFQUFFLEtBQUssU0FBUyxFQUFFO0VBQzdCUCxnQkFBZ0IsR0FBR2pCLE9BQU8sb0NBQW9DLENBQUMsQ0FBQ3lCLE9BQU87RUFDdkVQLHdCQUF3QixHQUN0QmxCLE9BQU8sb0NBQW9DLENB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