{"version":3,"names":["_getJestObj","mock","React","require","_require","View","Text","Slot","result","mockSlotRenderer","createElement","useRouter","push","jest","fn","replace","back","bootstrapApp","mockBootstrapApp","apply","arguments","virtual","logger","error","info","warn","debug","ErrorBoundary","_ref","children","Fragment","_require2","configureStore","rootReducer","default","store","reducer","preloadedState","ui","theme","locale","isLoading","network","isOnline","mockPersistor","purge","pause","persist","flush","persistor","PersistGate","_ref2","loading","_require3","ThemeProvider","lightTheme","__esModule","_ref3","_require4","ActivityIndicator","StyledLoadingContainer","_ref4","testID","StyledActivityIndicator","props","StyledSlotContainer","_ref5","actualI18n","requireActual","mockCreateI18n","tSync","key","params","name","getCurrentLocale","Promise","resolve","setLocale","supportedLocales","Object","assign","createI18n","getDeviceLocale","_require5","useSelector","useI18n","state","_state$ui","_require6","i18n","t","_interopRequireDefault","_asyncToGenerator2","_react","_reactNative","_reactRedux","_reactNative2","_layout","_useI18n7","_logging","_jsxRuntime","_require7","describe","beforeEach","clearAllMocks","mockResolvedValue","undefined","test","expect","render","jsx","not","toThrow","waitFor","toHaveBeenCalled","timeout","TestChild","_useI18n","_render","getByTestId","translatedElement","toBeTruthy","toBe","localeElement","_useI18n2","storeLocale","_state$ui2","_render2","_useI18n3","_render3","_render4","getByText","_render5","_useI18n4","themeMode","_state$ui3","_render6","_useI18n5","_render7","fallbackElement","_useI18n6","_render8","interpolatedElement","bootstrapError","Error","mockRejectedValue","_render9","UNSAFE_getByType","queryByText","toHaveBeenCalledWith","objectContaining","stack","any","String","activityIndicator","toBeNull","fatalError","_render0"],"sources":["root-layout-i18n.test.js"],"sourcesContent":["/**\r\n * Root Layout i18n Provider Tests\r\n * File: root-layout-i18n.test.js\r\n * \r\n * Step 7.5: Add Localization Provider to root layout\r\n * \r\n * Per Step 7.5 requirements:\r\n * - Localization Provider is imported from @i18n\r\n * - Localization Provider wraps content (inside ThemeProvider) with locale handling\r\n * - i18n context is accessible via useI18n() hook in child components\r\n * \r\n * Per app-router.mdc: Root layouts use <Slot /> to render child routes, not {children} props.\r\n * Per testing.mdc: Tests verify behavior, not implementation details.\r\n * Per bootstrap-config.mdc: Localization Provider mounted only in root layout.\r\n * Per i18n.mdc: i18n provider/registry, locale handling.\r\n */\r\nimport React from 'react';\r\nimport { Text } from 'react-native';\r\nimport { useSelector } from 'react-redux';\r\nimport { render, waitFor } from '@testing-library/react-native';\r\n\r\n// Mock expo-router Slot component\r\n// Per app-router.mdc: Layouts use <Slot /> to render child routes\r\nlet mockSlotRenderer = () => null;\r\njest.mock('expo-router', () => {\r\n  const React = require('react');\r\n  const { View, Text } = require('react-native');\r\n  return {\r\n    Slot: () => {\r\n      const result = mockSlotRenderer();\r\n      return result || React.createElement(View, null, React.createElement(Text, null, 'Mock Slot - No Child Routes'));\r\n    },\r\n    useRouter: () => ({\r\n      push: jest.fn(),\r\n      replace: jest.fn(),\r\n      back: jest.fn(),\r\n    }),\r\n  };\r\n});\r\n\r\n// Mock bootstrap module before importing RootLayout\r\nconst mockBootstrapApp = jest.fn();\r\njest.mock('@bootstrap', () => ({\r\n  bootstrapApp: (...args) => mockBootstrapApp(...args),\r\n}), { virtual: true });\r\n\r\n// Mock logger to verify error logging\r\njest.mock('@logging', () => ({\r\n  logger: {\r\n    error: jest.fn(),\r\n    info: jest.fn(),\r\n    warn: jest.fn(),\r\n    debug: jest.fn(),\r\n  },\r\n}), { virtual: true });\r\n\r\n// Mock ErrorBoundary to render children normally (for successful renders)\r\n// but allow testing error states\r\njest.mock('@errors', () => {\r\n  const React = require('react');\r\n  return {\r\n    ErrorBoundary: ({ children }) => React.createElement(React.Fragment, null, children),\r\n  };\r\n}, { virtual: true });\r\n\r\n// Mock the store module before importing RootLayout\r\njest.mock('@store', () => {\r\n  const { configureStore } = require('@reduxjs/toolkit');\r\n  const rootReducer = require('@store/rootReducer').default;\r\n  \r\n  const store = configureStore({\r\n    reducer: rootReducer,\r\n    preloadedState: {\r\n      ui: {\r\n        theme: 'light',\r\n        locale: 'en',\r\n        isLoading: false,\r\n      },\r\n      network: {\r\n        isOnline: true,\r\n      },\r\n    },\r\n  });\r\n  \r\n  // Attach mock persistor to store\r\n  const mockPersistor = {\r\n    purge: jest.fn(),\r\n    pause: jest.fn(),\r\n    persist: jest.fn(),\r\n    flush: jest.fn(),\r\n  };\r\n  store.persistor = mockPersistor;\r\n  \r\n  return store;\r\n}, { virtual: true });\r\n\r\n// Mock PersistGate to render children immediately (simulating post-rehydration)\r\njest.mock('redux-persist/integration/react', () => {\r\n  const React = require('react');\r\n  \r\n  return {\r\n    PersistGate: ({ children, loading }) => {\r\n      // PersistGate renders children after rehydration\r\n      // For testing, we'll render children immediately\r\n      return React.createElement(React.Fragment, null, children);\r\n    },\r\n  };\r\n});\r\n\r\n// Mock ThemeProviderWrapper\r\njest.mock('@platform/layouts/common/ThemeProviderWrapper', () => {\r\n  const React = require('react');\r\n  const { ThemeProvider } = require('styled-components/native');\r\n  const lightTheme = require('@theme/light.theme').default;\r\n  return {\r\n    __esModule: true,\r\n    default: ({ children }) => React.createElement(ThemeProvider, { theme: lightTheme }, children),\r\n  };\r\n}, { virtual: true });\r\n\r\n// Mock RootLayoutStyles\r\njest.mock('@platform/layouts/common/RootLayoutStyles', () => {\r\n  const React = require('react');\r\n  const { View, ActivityIndicator } = require('react-native');\r\n  return {\r\n    StyledLoadingContainer: ({ children, testID }) =>\r\n      React.createElement(View, { testID }, children),\r\n    StyledActivityIndicator: (props) => React.createElement(ActivityIndicator, props),\r\n    StyledSlotContainer: ({ children }) => React.createElement(View, null, children),\r\n  };\r\n}, { virtual: true });\r\n\r\n// Mock i18n module - use actual I18nProvider but mock createI18n\r\njest.mock('@i18n', () => {\r\n  const actualI18n = jest.requireActual('@i18n');\r\n  const React = require('react');\r\n  \r\n  // Mock createI18n function\r\n  const mockCreateI18n = jest.fn(() => ({\r\n    tSync: jest.fn((key, params) => {\r\n      // Mock translation function\r\n      if (key === 'common.save') return 'Save';\r\n      if (key === 'common.cancel') return 'Cancel';\r\n      if (key === 'common.loading') return 'Loading...';\r\n      if (key === 'greeting.hello' && params?.name) {\r\n        return `Hello, ${params.name}`;\r\n      }\r\n      return key;\r\n    }),\r\n    getCurrentLocale: jest.fn(() => Promise.resolve('en')),\r\n    setLocale: jest.fn(() => Promise.resolve()),\r\n    supportedLocales: ['en'],\r\n  }));\r\n  \r\n  return {\r\n    ...actualI18n,\r\n    createI18n: mockCreateI18n,\r\n    getDeviceLocale: jest.fn(() => 'en'),\r\n    tSync: jest.fn((key, params) => {\r\n      if (key === 'common.save') return 'Save';\r\n      if (key === 'common.cancel') return 'Cancel';\r\n      return key;\r\n    }),\r\n  };\r\n}, { virtual: true });\r\n\r\n// Mock useI18n hook\r\njest.mock('@hooks', () => {\r\n  const React = require('react');\r\n  const { useSelector } = require('react-redux');\r\n  \r\n  const useI18n = () => {\r\n    const locale = useSelector((state) => state.ui?.locale || 'en');\r\n    const { createI18n } = require('@i18n');\r\n    const i18n = createI18n();\r\n    \r\n    const t = (key, params) => i18n.tSync(key, params);\r\n    \r\n    return { t, locale };\r\n  };\r\n  \r\n  return {\r\n    useI18n,\r\n  };\r\n}, { virtual: true });\r\n\r\n// Import RootLayout after mocks are set up\r\nimport RootLayout from '@app/_layout';\r\nimport useI18n from '@hooks/useI18n';\r\nimport { logger } from '@logging';\r\n\r\ndescribe('app/_layout.jsx - I18nProvider Integration', () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    mockBootstrapApp.mockResolvedValue(undefined);\r\n    // Default Slot renderer\r\n    mockSlotRenderer = () => React.createElement(Text, null, 'Test Content');\r\n  });\r\n\r\n  test('should render I18nProvider without errors', async () => {\r\n    // Per Step 7.5: Test that Localization Provider renders without errors\r\n    expect(() => {\r\n      render(<RootLayout />);\r\n    }).not.toThrow();\r\n\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should make i18n context accessible via useI18n() hook in child components', async () => {\r\n    // Per Step 7.5: Test that i18n context is accessible via useI18n() hook in child components\r\n    // Create a test component that uses useI18n hook\r\n    const TestChild = () => {\r\n      const { t, locale } = useI18n();\r\n      \r\n      return React.createElement(\r\n        React.Fragment,\r\n        null,\r\n        React.createElement(Text, { testID: 'translated-text' }, t('common.save')),\r\n        React.createElement(Text, { testID: 'locale' }, locale)\r\n      );\r\n    };\r\n    \r\n    // Mock Slot to render TestChild\r\n    mockSlotRenderer = () => React.createElement(TestChild);\r\n    \r\n    const { getByTestId } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Wait for content to render and verify i18n hook works and provides translations\r\n    await waitFor(() => {\r\n      const translatedElement = getByTestId('translated-text');\r\n      expect(translatedElement).toBeTruthy();\r\n      expect(translatedElement.props.children).toBe('Save');\r\n      \r\n      // Verify locale is accessible\r\n      const localeElement = getByTestId('locale');\r\n      expect(localeElement).toBeTruthy();\r\n      expect(localeElement.props.children).toBe('en');\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should provide locale from Redux store to useI18n hook', async () => {\r\n    // Per Step 7.5: Test that locale is provided from Redux store\r\n    const TestChild = () => {\r\n      const { locale } = useI18n();\r\n      const storeLocale = useSelector((state) => state.ui?.locale);\r\n      \r\n      return React.createElement(\r\n        React.Fragment,\r\n        null,\r\n        React.createElement(Text, { testID: 'hook-locale' }, locale),\r\n        React.createElement(Text, { testID: 'store-locale' }, storeLocale)\r\n      );\r\n    };\r\n    \r\n    // Mock Slot to render TestChild\r\n    mockSlotRenderer = () => React.createElement(TestChild);\r\n    \r\n    const { getByTestId } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Wait for content to render and verify locale is read from store\r\n    await waitFor(() => {\r\n      expect(getByTestId('hook-locale').props.children).toBe('en');\r\n      expect(getByTestId('store-locale').props.children).toBe('en');\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should handle locale switching when store locale changes', async () => {\r\n    // Per Step 7.5: Test locale switching if applicable (per i18n.mdc)\r\n    // This test verifies that useI18n hook responds to locale changes in store\r\n    const TestChild = () => {\r\n      const { t, locale } = useI18n();\r\n      \r\n      return React.createElement(\r\n        React.Fragment,\r\n        null,\r\n        React.createElement(Text, { testID: 'translated' }, t('common.save')),\r\n        React.createElement(Text, { testID: 'current-locale' }, locale)\r\n      );\r\n    };\r\n    \r\n    // Mock Slot to render TestChild\r\n    mockSlotRenderer = () => React.createElement(TestChild);\r\n    \r\n    const { getByTestId } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Wait for content to render - verify initial locale\r\n    await waitFor(() => {\r\n      expect(getByTestId('current-locale').props.children).toBe('en');\r\n      \r\n      // Note: In a real scenario, locale switching would be tested via Redux store updates\r\n      // For this test, we verify the hook reads from store correctly\r\n      expect(getByTestId('translated').props.children).toBe('Save');\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should render children inside I18nProvider', async () => {\r\n    // Per Step 7.5: Test that I18nProvider renders children correctly\r\n    mockSlotRenderer = () => React.createElement(Text, null, 'Test Content');\r\n    \r\n    const { getByText } = render(<RootLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    await waitFor(() => {\r\n      expect(getByText('Test Content')).toBeTruthy();\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should handle multiple children with I18nProvider', async () => {\r\n    // Test that I18nProvider handles multiple child components\r\n    mockSlotRenderer = () => React.createElement(\r\n      React.Fragment,\r\n      null,\r\n      React.createElement(Text, null, 'First Child'),\r\n      React.createElement(Text, null, 'Second Child'),\r\n      React.createElement(Text, null, 'Third Child')\r\n    );\r\n    \r\n    const { getByText } = render(<RootLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    await waitFor(() => {\r\n      expect(getByText('First Child')).toBeTruthy();\r\n      expect(getByText('Second Child')).toBeTruthy();\r\n      expect(getByText('Third Child')).toBeTruthy();\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should handle empty state with I18nProvider', async () => {\r\n    // Test that I18nProvider handles empty rendering\r\n    mockSlotRenderer = () => null;\r\n    \r\n    expect(() => {\r\n      render(<RootLayout />);\r\n    }).not.toThrow();\r\n\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should maintain provider order (ErrorBoundary > Redux Provider > PersistGate > ThemeProvider > I18nProvider)', async () => {\r\n    // Per Step 7.5: Test that I18nProvider is correctly positioned in provider hierarchy\r\n    // Verify I18nProvider is inside ThemeProvider and Redux Provider\r\n    // by checking that useI18n hook can access store\r\n    const TestChild = () => {\r\n      const { t, locale } = useI18n();\r\n      const themeMode = useSelector((state) => state.ui?.theme);\r\n      \r\n      return React.createElement(\r\n        React.Fragment,\r\n        null,\r\n        React.createElement(Text, { testID: 'translated' }, t('common.save')),\r\n        React.createElement(Text, { testID: 'locale' }, locale),\r\n        React.createElement(Text, { testID: 'theme' }, themeMode)\r\n      );\r\n    };\r\n    \r\n    // Mock Slot to render TestChild\r\n    mockSlotRenderer = () => React.createElement(TestChild);\r\n    \r\n    const { getByTestId } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Wait for content to render - all providers should work together\r\n    await waitFor(() => {\r\n      expect(getByTestId('translated').props.children).toBe('Save');\r\n      expect(getByTestId('locale').props.children).toBe('en');\r\n      expect(getByTestId('theme').props.children).toBe('light');\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should provide fallback translation when key is missing', async () => {\r\n    // Test fallback behavior when translation key is missing\r\n    const TestChild = () => {\r\n      const { t } = useI18n();\r\n      \r\n      return React.createElement(Text, { testID: 'fallback' }, t('missing.key.path'));\r\n    };\r\n    \r\n    // Mock Slot to render TestChild\r\n    mockSlotRenderer = () => React.createElement(TestChild);\r\n    \r\n    const { getByTestId } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Wait for content to render - verify fallback behavior (returns key when translation missing)\r\n    await waitFor(() => {\r\n      const fallbackElement = getByTestId('fallback');\r\n      expect(fallbackElement).toBeTruthy();\r\n      // Mock returns the key when translation is missing\r\n      expect(fallbackElement.props.children).toBe('missing.key.path');\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should support translation with parameters', async () => {\r\n    // Test translation interpolation with parameters\r\n    const TestChild = () => {\r\n      const { t } = useI18n();\r\n      \r\n      return React.createElement(Text, { testID: 'interpolated' }, t('greeting.hello', { name: 'World' }));\r\n    };\r\n    \r\n    // Mock Slot to render TestChild\r\n    mockSlotRenderer = () => React.createElement(TestChild);\r\n    \r\n    const { getByTestId } = render(<RootLayout />);\r\n\r\n    // Wait for bootstrap to complete\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Wait for content to render - verify interpolation works\r\n    await waitFor(() => {\r\n      const interpolatedElement = getByTestId('interpolated');\r\n      expect(interpolatedElement).toBeTruthy();\r\n      expect(interpolatedElement.props.children).toBe('Hello, World');\r\n    }, { timeout: 3000 });\r\n  });\r\n\r\n  test('should handle bootstrap errors gracefully and log them', async () => {\r\n    // Per bootstrap-config.mdc: Bootstrap errors are handled gracefully\r\n    // Per errors-logging.mdc: Errors are logged via logger\r\n    const bootstrapError = new Error('Bootstrap failed: i18n initialization error');\r\n    mockBootstrapApp.mockRejectedValue(bootstrapError);\r\n    \r\n    mockSlotRenderer = () => React.createElement(Text, null, 'Test Content');\r\n    \r\n    const { UNSAFE_getByType, queryByText } = render(<RootLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Per bootstrap-config.mdc: Fatal errors must be logged\r\n    await waitFor(() => {\r\n      expect(logger.error).toHaveBeenCalledWith(\r\n        'Bootstrap initialization failed',\r\n        expect.objectContaining({\r\n          error: 'Bootstrap failed: i18n initialization error',\r\n          stack: expect.any(String),\r\n        })\r\n      );\r\n    });\r\n\r\n    // Per bootstrap-config.mdc: Fatal errors block rendering\r\n    // Should show loading state (ActivityIndicator) instead of children\r\n    const activityIndicator = UNSAFE_getByType(require('react-native').ActivityIndicator);\r\n    expect(activityIndicator).toBeTruthy();\r\n    \r\n    // Children should not be rendered when bootstrap fails\r\n    expect(queryByText('Test Content')).toBeNull();\r\n  });\r\n\r\n  test('should block rendering when bootstrap error occurs', async () => {\r\n    // Per bootstrap-config.mdc: Fatal errors must block rendering\r\n    const fatalError = new Error('Fatal: Cannot initialize i18n');\r\n    fatalError.name = 'FatalBootstrapError';\r\n    mockBootstrapApp.mockRejectedValue(fatalError);\r\n    \r\n    mockSlotRenderer = () => React.createElement(Text, null, 'Test Content');\r\n    \r\n    const { queryByText, UNSAFE_getByType } = render(<RootLayout />);\r\n\r\n    await waitFor(() => {\r\n      expect(mockBootstrapApp).toHaveBeenCalled();\r\n    }, { timeout: 3000 });\r\n\r\n    // Should log the error\r\n    await waitFor(() => {\r\n      expect(logger.error).toHaveBeenCalled();\r\n    });\r\n\r\n    // Should block rendering (show loading, not children)\r\n    const activityIndicator = UNSAFE_getByType(require('react-native').ActivityIndicator);\r\n    expect(activityIndicator).toBeTruthy();\r\n    \r\n    // Children should not be rendered\r\n    expect(queryByText('Test Content')).toBeNull();\r\n  });\r\n});\r\n\r\n"],"mappings":"AAwBAA,WAAA,GAAKC,IAAI,CAAC,aAAa,EAAE,YAAM;EAC7B,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;EAC9B,IAAAC,QAAA,GAAuBD,OAAO,CAAC,cAAc,CAAC;IAAtCE,IAAI,GAAAD,QAAA,CAAJC,IAAI;IAAEC,IAAI,GAAAF,QAAA,CAAJE,IAAI;EAClB,OAAO;IACLC,IAAI,EAAE,SAANA,IAAIA,CAAA,EAAQ;MACV,IAAMC,MAAM,GAAGC,gBAAgB,CAAC,CAAC;MACjC,OAAOD,MAAM,IAAIN,KAAK,CAACQ,aAAa,CAACL,IAAI,EAAE,IAAI,EAAEH,KAAK,CAACQ,aAAa,CAACJ,IAAI,EAAE,IAAI,EAAE,6BAA6B,CAAC,CAAC;IAClH,CAAC;IACDK,SAAS,EAAE,SAAXA,SAASA,CAAA;MAAA,OAAS;QAChBC,IAAI,EAAEC,IAAI,CAACC,EAAE,CAAC,CAAC;QACfC,OAAO,EAAEF,IAAI,CAACC,EAAE,CAAC,CAAC;QAClBE,IAAI,EAAEH,IAAI,CAACC,EAAE,CAAC;MAChB,CAAC;IAAA;EACH,CAAC;AACH,CAAC,CAAC;AAIFd,WAAA,GAAKC,IAAI,oBAAe;EAAA,OAAO;IAC7BgB,YAAY,EAAE,SAAdA,YAAYA,CAAA;MAAA,OAAeC,gBAAgB,CAAAC,KAAA,SAAAC,SAAQ,CAAC;IAAA;EACtD,CAAC;AAAA,CAAC,EAAE;EAAEC,OAAO,EAAE;AAAK,CAAC,CAAC;AAGtBrB,WAAA,GAAKC,IAAI,kBAAa;EAAA,OAAO;IAC3BqB,MAAM,EAAE;MACNC,KAAK,EAAEV,IAAI,CAACC,EAAE,CAAC,CAAC;MAChBU,IAAI,EAAEX,IAAI,CAACC,EAAE,CAAC,CAAC;MACfW,IAAI,EAAEZ,IAAI,CAACC,EAAE,CAAC,CAAC;MACfY,KAAK,EAAEb,IAAI,CAACC,EAAE,CAAC;IACjB;EACF,CAAC;AAAA,CAAC,EAAE;EAAEO,OAAO,EAAE;AAAK,CAAC,CAAC;AAItBrB,WAAA,GAAKC,IAAI,iBAAY,YAAM;EACzB,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;EAC9B,OAAO;IACLwB,aAAa,EAAE,SAAfA,aAAaA,CAAAC,IAAA;MAAA,IAAKC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;MAAA,OAAO3B,KAAK,CAACQ,aAAa,CAACR,KAAK,CAAC4B,QAAQ,EAAE,IAAI,EAAED,QAAQ,CAAC;IAAA;EACtF,CAAC;AACH,CAAC,EAAE;EAAER,OAAO,EAAE;AAAK,CAAC,CAAC;AAGrBrB,WAAA,GAAKC,IAAI,gBAAW,YAAM;EACxB,IAAA8B,SAAA,GAA2B5B,OAAO,CAAC,kBAAkB,CAAC;IAA9C6B,cAAc,GAAAD,SAAA,CAAdC,cAAc;EACtB,IAAMC,WAAW,GAAG9B,OAAO,0BAAqB,CAAC,CAAC+B,OAAO;EAEzD,IAAMC,KAAK,GAAGH,cAAc,CAAC;IAC3BI,OAAO,EAAEH,WAAW;IACpBI,cAAc,EAAE;MACdC,EAAE,EAAE;QACFC,KAAK,EAAE,OAAO;QACdC,MAAM,EAAE,IAAI;QACZC,SAAS,EAAE;MACb,CAAC;MACDC,OAAO,EAAE;QACPC,QAAQ,EAAE;MACZ;IACF;EACF,CAAC,CAAC;EAGF,IAAMC,aAAa,GAAG;IACpBC,KAAK,EAAEhC,IAAI,CAACC,EAAE,CAAC,CAAC;IAChBgC,KAAK,EAAEjC,IAAI,CAACC,EAAE,CAAC,CAAC;IAChBiC,OAAO,EAAElC,IAAI,CAACC,EAAE,CAAC,CAAC;IAClBkC,KAAK,EAAEnC,IAAI,CAACC,EAAE,CAAC;EACjB,CAAC;EACDqB,KAAK,CAACc,SAAS,GAAGL,aAAa;EAE/B,OAAOT,KAAK;AACd,CAAC,EAAE;EAAEd,OAAO,EAAE;AAAK,CAAC,CAAC;AAGrBrB,WAAA,GAAKC,IAAI,CAAC,iCAAiC,EAAE,YAAM;EACjD,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;EAE9B,OAAO;IACL+C,WAAW,EAAE,SAAbA,WAAWA,CAAAC,KAAA,EAA6B;MAAA,IAAxBtB,QAAQ,GAAAsB,KAAA,CAARtB,QAAQ;QAAEuB,OAAO,GAAAD,KAAA,CAAPC,OAAO;MAG/B,OAAOlD,KAAK,CAACQ,aAAa,CAACR,KAAK,CAAC4B,QAAQ,EAAE,IAAI,EAAED,QAAQ,CAAC;IAC5D;EACF,CAAC;AACH,CAAC,CAAC;AAGF7B,WAAA,GAAKC,IAAI,uDAAkD,YAAM;EAC/D,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;EAC9B,IAAAkD,SAAA,GAA0BlD,OAAO,CAAC,0BAA0B,CAAC;IAArDmD,aAAa,GAAAD,SAAA,CAAbC,aAAa;EACrB,IAAMC,UAAU,GAAGpD,OAAO,0BAAqB,CAAC,CAAC+B,OAAO;EACxD,OAAO;IACLsB,UAAU,EAAE,IAAI;IAChBtB,OAAO,EAAE,SAATA,QAAOA,CAAAuB,KAAA;MAAA,IAAK5B,QAAQ,GAAA4B,KAAA,CAAR5B,QAAQ;MAAA,OAAO3B,KAAK,CAACQ,aAAa,CAAC4C,aAAa,EAAE;QAAEf,KAAK,EAAEgB;MAAW,CAAC,EAAE1B,QAAQ,CAAC;IAAA;EAChG,CAAC;AACH,CAAC,EAAE;EAAER,OAAO,EAAE;AAAK,CAAC,CAAC;AAGrBrB,WAAA,GAAKC,IAAI,mDAA8C,YAAM;EAC3D,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;EAC9B,IAAAuD,SAAA,GAAoCvD,OAAO,CAAC,cAAc,CAAC;IAAnDE,IAAI,GAAAqD,SAAA,CAAJrD,IAAI;IAAEsD,iBAAiB,GAAAD,SAAA,CAAjBC,iBAAiB;EAC/B,OAAO;IACLC,sBAAsB,EAAE,SAAxBA,sBAAsBA,CAAAC,KAAA;MAAA,IAAKhC,QAAQ,GAAAgC,KAAA,CAARhC,QAAQ;QAAEiC,MAAM,GAAAD,KAAA,CAANC,MAAM;MAAA,OACzC5D,KAAK,CAACQ,aAAa,CAACL,IAAI,EAAE;QAAEyD,MAAM,EAANA;MAAO,CAAC,EAAEjC,QAAQ,CAAC;IAAA;IACjDkC,uBAAuB,EAAE,SAAzBA,uBAAuBA,CAAGC,KAAK;MAAA,OAAK9D,KAAK,CAACQ,aAAa,CAACiD,iBAAiB,EAAEK,KAAK,CAAC;IAAA;IACjFC,mBAAmB,EAAE,SAArBA,mBAAmBA,CAAAC,KAAA;MAAA,IAAKrC,QAAQ,GAAAqC,KAAA,CAARrC,QAAQ;MAAA,OAAO3B,KAAK,CAACQ,aAAa,CAACL,IAAI,EAAE,IAAI,EAAEwB,QAAQ,CAAC;IAAA;EAClF,CAAC;AACH,CAAC,EAAE;EAAER,OAAO,EAAE;AAAK,CAAC,CAAC;AAGrBrB,WAAA,GAAKC,IAAI,eAAU,YAAM;EACvB,IAAMkE,UAAU,GAAGtD,IAAI,CAACuD,aAAa,aAAQ,CAAC;EAC9C,IAAMlE,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;EAG9B,IAAMkE,cAAc,GAAGxD,IAAI,CAACC,EAAE,CAAC;IAAA,OAAO;MACpCwD,KAAK,EAAEzD,IAAI,CAACC,EAAE,CAAC,UAACyD,GAAG,EAAEC,MAAM,EAAK;QAE9B,IAAID,GAAG,KAAK,aAAa,EAAE,OAAO,MAAM;QACxC,IAAIA,GAAG,KAAK,eAAe,EAAE,OAAO,QAAQ;QAC5C,IAAIA,GAAG,KAAK,gBAAgB,EAAE,OAAO,YAAY;QACjD,IAAIA,GAAG,KAAK,gBAAgB,IAAIC,MAAM,YAANA,MAAM,CAAEC,IAAI,EAAE;UAC5C,OAAO,UAAUD,MAAM,CAACC,IAAI,EAAE;QAChC;QACA,OAAOF,GAAG;MACZ,CAAC,CAAC;MACFG,gBAAgB,EAAE7D,IAAI,CAACC,EAAE,CAAC;QAAA,OAAM6D,OAAO,CAACC,OAAO,CAAC,IAAI,CAAC;MAAA,EAAC;MACtDC,SAAS,EAAEhE,IAAI,CAACC,EAAE,CAAC;QAAA,OAAM6D,OAAO,CAACC,OAAO,CAAC,CAAC;MAAA,EAAC;MAC3CE,gBAAgB,EAAE,CAAC,IAAI;IACzB,CAAC;EAAA,CAAC,CAAC;EAEH,OAAAC,MAAA,CAAAC,MAAA,KACKb,UAAU;IACbc,UAAU,EAAEZ,cAAc;IAC1Ba,eAAe,EAAErE,IAAI,CAACC,EAAE,CAAC;MAAA,OAAM,IAAI;IAAA,EAAC;IACpCwD,KAAK,EAAEzD,IAAI,CAACC,EAAE,CAAC,UAACyD,GAAG,EAAEC,MAAM,EAAK;MAC9B,IAAID,GAAG,KAAK,aAAa,EAAE,OAAO,MAAM;MACxC,IAAIA,GAAG,KAAK,eAAe,EAAE,OAAO,QAAQ;MAC5C,OAAOA,GAAG;IACZ,CAAC;EAAC;AAEN,CAAC,EAAE;EAAElD,OAAO,EAAE;AAAK,CAAC,CAAC;AAGrBrB,WAAA,GAAKC,IAAI,gBAAW,YAAM;EACxB,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;EAC9B,IAAAgF,SAAA,GAAwBhF,OAAO,CAAC,aAAa,CAAC;IAAtCiF,WAAW,GAAAD,SAAA,CAAXC,WAAW;EAEnB,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAS;IACpB,IAAM7C,MAAM,GAAG4C,WAAW,CAAC,UAACE,KAAK;MAAA,IAAAC,SAAA;MAAA,OAAK,EAAAA,SAAA,GAAAD,KAAK,CAAChD,EAAE,qBAARiD,SAAA,CAAU/C,MAAM,KAAI,IAAI;IAAA,EAAC;IAC/D,IAAAgD,SAAA,GAAuBrF,OAAO,aAAQ,CAAC;MAA/B8E,UAAU,GAAAO,SAAA,CAAVP,UAAU;IAClB,IAAMQ,IAAI,GAAGR,UAAU,CAAC,CAAC;IAEzB,IAAMS,CAAC,GAAG,SAAJA,CAACA,CAAInB,GAAG,EAAEC,MAAM;MAAA,OAAKiB,IAAI,CAACnB,KAAK,CAACC,GAAG,EAAEC,MAAM,CAAC;IAAA;IAElD,OAAO;MAAEkB,CAAC,EAADA,CAAC;MAAElD,MAAM,EAANA;IAAO,CAAC;EACtB,CAAC;EAED,OAAO;IACL6C,OAAO,EAAPA;EACF,CAAC;AACH,CAAC,EAAE;EAAEhE,OAAO,EAAE;AAAK,CAAC,CAAC;AAAC,IAAAsE,sBAAA,GAAAxF,OAAA,iDAAA+B,OAAA;AAAA,IAAA0D,kBAAA,GAAAD,sBAAA,CAAAxF,OAAA;AAxKtB,IAAA0F,MAAA,GAAAF,sBAAA,CAAAxF,OAAA;AACA,IAAA2F,YAAA,GAAA3F,OAAA;AACA,IAAA4F,WAAA,GAAA5F,OAAA;AACA,IAAA6F,aAAA,GAAA7F,OAAA;AAwKA,IAAA8F,OAAA,GAAAN,sBAAA,CAAAxF,OAAA;AACA,IAAA+F,SAAA,GAAAP,sBAAA,CAAAxF,OAAA;AACA,IAAAgG,QAAA,GAAAhG,OAAA;AAAkC,IAAAiG,WAAA,GAAAjG,OAAA;AAAA,SAAAH,YAAA;EAAA,IAAAqG,SAAA,GAAAlG,OAAA;IAAAU,IAAA,GAAAwF,SAAA,CAAAxF,IAAA;EAAAb,WAAA,YAAAA,YAAA;IAAA,OAAAa,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAtKlC,IAAIJ,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA;EAAA,OAAS,IAAI;AAAA;AAkBjC,IAAMS,gBAAgB,GAAGL,IAAI,CAACC,EAAE,CAAC,CAAC;AAsJlCwF,QAAQ,CAAC,4CAA4C,EAAE,YAAM;EAC3DC,UAAU,CAAC,YAAM;IACf1F,IAAI,CAAC2F,aAAa,CAAC,CAAC;IACpBtF,gBAAgB,CAACuF,iBAAiB,CAACC,SAAS,CAAC;IAE7CjG,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA;MAAA,OAASP,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE,IAAI,EAAE,cAAc,CAAC;IAAA;EAC1E,CAAC,CAAC;EAEFqG,IAAI,CAAC,2CAA2C,MAAAf,kBAAA,CAAA1D,OAAA,EAAE,aAAY;IAE5D0E,MAAM,CAAC,YAAM;MACX,IAAAC,oBAAM,EAAC,IAAAT,WAAA,CAAAU,GAAA,EAACb,OAAA,CAAA/D,OAAU,IAAE,CAAC,CAAC;IACxB,CAAC,CAAC,CAAC6E,GAAG,CAACC,OAAO,CAAC,CAAC;IAEhB,MAAM,IAAAC,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAAC1F,gBAAgB,CAAC,CAACgG,gBAAgB,CAAC,CAAC;IAC7C,CAAC,EAAE;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;EACvB,CAAC,EAAC;EAEFR,IAAI,CAAC,4EAA4E,MAAAf,kBAAA,CAAA1D,OAAA,EAAE,aAAY;IAG7F,IAAMkF,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;MACtB,IAAAC,QAAA,GAAsB,IAAAhC,iBAAO,EAAC,CAAC;QAAvBK,CAAC,GAAA2B,QAAA,CAAD3B,CAAC;QAAElD,MAAM,GAAA6E,QAAA,CAAN7E,MAAM;MAEjB,OAAOtC,cAAK,CAACQ,aAAa,CACxBR,cAAK,CAAC4B,QAAQ,EACd,IAAI,EACJ5B,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE;QAAEwD,MAAM,EAAE;MAAkB,CAAC,EAAE4B,CAAC,CAAC,aAAa,CAAC,CAAC,EAC1ExF,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE;QAAEwD,MAAM,EAAE;MAAS,CAAC,EAAEtB,MAAM,CACxD,CAAC;IACH,CAAC;IAGD/B,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA;MAAA,OAASP,cAAK,CAACQ,aAAa,CAAC0G,SAAS,CAAC;IAAA;IAEvD,IAAAE,OAAA,GAAwB,IAAAT,oBAAM,EAAC,IAAAT,WAAA,CAAAU,GAAA,EAACb,OAAA,CAAA/D,OAAU,IAAE,CAAC,CAAC;MAAtCqF,WAAW,GAAAD,OAAA,CAAXC,WAAW;IAGnB,MAAM,IAAAN,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAAC1F,gBAAgB,CAAC,CAACgG,gBAAgB,CAAC,CAAC;IAC7C,CAAC,EAAE;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAGrB,MAAM,IAAAF,qBAAO,EAAC,YAAM;MAClB,IAAMO,iBAAiB,GAAGD,WAAW,CAAC,iBAAiB,CAAC;MACxDX,MAAM,CAACY,iBAAiB,CAAC,CAACC,UAAU,CAAC,CAAC;MACtCb,MAAM,CAACY,iBAAiB,CAACxD,KAAK,CAACnC,QAAQ,CAAC,CAAC6F,IAAI,CAAC,MAAM,CAAC;MAGrD,IAAMC,aAAa,GAAGJ,WAAW,CAAC,QAAQ,CAAC;MAC3CX,MAAM,CAACe,aAAa,CAAC,CAACF,UAAU,CAAC,CAAC;MAClCb,MAAM,CAACe,aAAa,CAAC3D,KAAK,CAACnC,QAAQ,CAAC,CAAC6F,IAAI,CAAC,IAAI,CAAC;IACjD,CAAC,EAAE;MAAEP,OAAO,EAAE;IAAK,CAAC,CAAC;EACvB,CAAC,EAAC;EAEFR,IAAI,CAAC,wDAAwD,MAAAf,kBAAA,CAAA1D,OAAA,EAAE,aAAY;IAEzE,IAAMkF,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;MACtB,IAAAQ,SAAA,GAAmB,IAAAvC,iBAAO,EAAC,CAAC;QAApB7C,MAAM,GAAAoF,SAAA,CAANpF,MAAM;MACd,IAAMqF,WAAW,GAAG,IAAAzC,uBAAW,EAAC,UAACE,KAAK;QAAA,IAAAwC,UAAA;QAAA,QAAAA,UAAA,GAAKxC,KAAK,CAAChD,EAAE,qBAARwF,UAAA,CAAUtF,MAAM;MAAA,EAAC;MAE5D,OAAOtC,cAAK,CAACQ,aAAa,CACxBR,cAAK,CAAC4B,QAAQ,EACd,IAAI,EACJ5B,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE;QAAEwD,MAAM,EAAE;MAAc,CAAC,EAAEtB,MAAM,CAAC,EAC5DtC,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE;QAAEwD,MAAM,EAAE;MAAe,CAAC,EAAE+D,WAAW,CACnE,CAAC;IACH,CAAC;IAGDpH,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA;MAAA,OAASP,cAAK,CAACQ,aAAa,CAAC0G,SAAS,CAAC;IAAA;IAEvD,IAAAW,QAAA,GAAwB,IAAAlB,oBAAM,EAAC,IAAAT,WAAA,CAAAU,GAAA,EAACb,OAAA,CAAA/D,OAAU,IAAE,CAAC,CAAC;MAAtCqF,WAAW,GAAAQ,QAAA,CAAXR,WAAW;IAGnB,MAAM,IAAAN,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAAC1F,gBAAgB,CAAC,CAACgG,gBAAgB,CAAC,CAAC;IAC7C,CAAC,EAAE;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAGrB,MAAM,IAAAF,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAACW,WAAW,CAAC,aAAa,CAAC,CAACvD,KAAK,CAACnC,QAAQ,CAAC,CAAC6F,IAAI,CAAC,IAAI,CAAC;MAC5Dd,MAAM,CAACW,WAAW,CAAC,cAAc,CAAC,CAACvD,KAAK,CAACnC,QAAQ,CAAC,CAAC6F,IAAI,CAAC,IAAI,CAAC;IAC/D,CAAC,EAAE;MAAEP,OAAO,EAAE;IAAK,CAAC,CAAC;EACvB,CAAC,EAAC;EAEFR,IAAI,CAAC,0DAA0D,MAAAf,kBAAA,CAAA1D,OAAA,EAAE,aAAY;IAG3E,IAAMkF,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;MACtB,IAAAY,SAAA,GAAsB,IAAA3C,iBAAO,EAAC,CAAC;QAAvBK,CAAC,GAAAsC,SAAA,CAADtC,CAAC;QAAElD,MAAM,GAAAwF,SAAA,CAANxF,MAAM;MAEjB,OAAOtC,cAAK,CAACQ,aAAa,CACxBR,cAAK,CAAC4B,QAAQ,EACd,IAAI,EACJ5B,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE;QAAEwD,MAAM,EAAE;MAAa,CAAC,EAAE4B,CAAC,CAAC,aAAa,CAAC,CAAC,EACrExF,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE;QAAEwD,MAAM,EAAE;MAAiB,CAAC,EAAEtB,MAAM,CAChE,CAAC;IACH,CAAC;IAGD/B,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA;MAAA,OAASP,cAAK,CAACQ,aAAa,CAAC0G,SAAS,CAAC;IAAA;IAEvD,IAAAa,QAAA,GAAwB,IAAApB,oBAAM,EAAC,IAAAT,WAAA,CAAAU,GAAA,EAACb,OAAA,CAAA/D,OAAU,IAAE,CAAC,CAAC;MAAtCqF,WAAW,GAAAU,QAAA,CAAXV,WAAW;IAGnB,MAAM,IAAAN,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAAC1F,gBAAgB,CAAC,CAACgG,gBAAgB,CAAC,CAAC;IAC7C,CAAC,EAAE;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAGrB,MAAM,IAAAF,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAACW,WAAW,CAAC,gBAAgB,CAAC,CAACvD,KAAK,CAACnC,QAAQ,CAAC,CAAC6F,IAAI,CAAC,IAAI,CAAC;MAI/Dd,MAAM,CAACW,WAAW,CAAC,YAAY,CAAC,CAACvD,KAAK,CAACnC,QAAQ,CAAC,CAAC6F,IAAI,CAAC,MAAM,CAAC;IAC/D,CAAC,EAAE;MAAEP,OAAO,EAAE;IAAK,CAAC,CAAC;EACvB,CAAC,EAAC;EAEFR,IAAI,CAAC,4CAA4C,MAAAf,kBAAA,CAAA1D,OAAA,EAAE,aAAY;IAE7DzB,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA;MAAA,OAASP,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE,IAAI,EAAE,cAAc,CAAC;IAAA;IAExE,IAAA4H,QAAA,GAAsB,IAAArB,oBAAM,EAAC,IAAAT,WAAA,CAAAU,GAAA,EAACb,OAAA,CAAA/D,OAAU,IAAE,CAAC,CAAC;MAApCiG,SAAS,GAAAD,QAAA,CAATC,SAAS;IAEjB,MAAM,IAAAlB,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAAC1F,gBAAgB,CAAC,CAACgG,gBAAgB,CAAC,CAAC;IAC7C,CAAC,EAAE;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAErB,MAAM,IAAAF,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAACuB,SAAS,CAAC,cAAc,CAAC,CAAC,CAACV,UAAU,CAAC,CAAC;IAChD,CAAC,EAAE;MAAEN,OAAO,EAAE;IAAK,CAAC,CAAC;EACvB,CAAC,EAAC;EAEFR,IAAI,CAAC,mDAAmD,MAAAf,kBAAA,CAAA1D,OAAA,EAAE,aAAY;IAEpEzB,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA;MAAA,OAASP,cAAK,CAACQ,aAAa,CAC1CR,cAAK,CAAC4B,QAAQ,EACd,IAAI,EACJ5B,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE,IAAI,EAAE,aAAa,CAAC,EAC9CJ,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE,IAAI,EAAE,cAAc,CAAC,EAC/CJ,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE,IAAI,EAAE,aAAa,CAC/C,CAAC;IAAA;IAED,IAAA8H,QAAA,GAAsB,IAAAvB,oBAAM,EAAC,IAAAT,WAAA,CAAAU,GAAA,EAACb,OAAA,CAAA/D,OAAU,IAAE,CAAC,CAAC;MAApCiG,SAAS,GAAAC,QAAA,CAATD,SAAS;IAEjB,MAAM,IAAAlB,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAAC1F,gBAAgB,CAAC,CAACgG,gBAAgB,CAAC,CAAC;IAC7C,CAAC,EAAE;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAErB,MAAM,IAAAF,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAACuB,SAAS,CAAC,aAAa,CAAC,CAAC,CAACV,UAAU,CAAC,CAAC;MAC7Cb,MAAM,CAACuB,SAAS,CAAC,cAAc,CAAC,CAAC,CAACV,UAAU,CAAC,CAAC;MAC9Cb,MAAM,CAACuB,SAAS,CAAC,aAAa,CAAC,CAAC,CAACV,UAAU,CAAC,CAAC;IAC/C,CAAC,EAAE;MAAEN,OAAO,EAAE;IAAK,CAAC,CAAC;EACvB,CAAC,EAAC;EAEFR,IAAI,CAAC,6CAA6C,MAAAf,kBAAA,CAAA1D,OAAA,EAAE,aAAY;IAE9DzB,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA;MAAA,OAAS,IAAI;IAAA;IAE7BmG,MAAM,CAAC,YAAM;MACX,IAAAC,oBAAM,EAAC,IAAAT,WAAA,CAAAU,GAAA,EAACb,OAAA,CAAA/D,OAAU,IAAE,CAAC,CAAC;IACxB,CAAC,CAAC,CAAC6E,GAAG,CAACC,OAAO,CAAC,CAAC;IAEhB,MAAM,IAAAC,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAAC1F,gBAAgB,CAAC,CAACgG,gBAAgB,CAAC,CAAC;IAC7C,CAAC,EAAE;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;EACvB,CAAC,EAAC;EAEFR,IAAI,CAAC,8GAA8G,MAAAf,kBAAA,CAAA1D,OAAA,EAAE,aAAY;IAI/H,IAAMkF,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;MACtB,IAAAiB,SAAA,GAAsB,IAAAhD,iBAAO,EAAC,CAAC;QAAvBK,CAAC,GAAA2C,SAAA,CAAD3C,CAAC;QAAElD,MAAM,GAAA6F,SAAA,CAAN7F,MAAM;MACjB,IAAM8F,SAAS,GAAG,IAAAlD,uBAAW,EAAC,UAACE,KAAK;QAAA,IAAAiD,UAAA;QAAA,QAAAA,UAAA,GAAKjD,KAAK,CAAChD,EAAE,qBAARiG,UAAA,CAAUhG,KAAK;MAAA,EAAC;MAEzD,OAAOrC,cAAK,CAACQ,aAAa,CACxBR,cAAK,CAAC4B,QAAQ,EACd,IAAI,EACJ5B,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE;QAAEwD,MAAM,EAAE;MAAa,CAAC,EAAE4B,CAAC,CAAC,aAAa,CAAC,CAAC,EACrExF,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE;QAAEwD,MAAM,EAAE;MAAS,CAAC,EAAEtB,MAAM,CAAC,EACvDtC,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE;QAAEwD,MAAM,EAAE;MAAQ,CAAC,EAAEwE,SAAS,CAC1D,CAAC;IACH,CAAC;IAGD7H,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA;MAAA,OAASP,cAAK,CAACQ,aAAa,CAAC0G,SAAS,CAAC;IAAA;IAEvD,IAAAoB,QAAA,GAAwB,IAAA3B,oBAAM,EAAC,IAAAT,WAAA,CAAAU,GAAA,EAACb,OAAA,CAAA/D,OAAU,IAAE,CAAC,CAAC;MAAtCqF,WAAW,GAAAiB,QAAA,CAAXjB,WAAW;IAGnB,MAAM,IAAAN,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAAC1F,gBAAgB,CAAC,CAACgG,gBAAgB,CAAC,CAAC;IAC7C,CAAC,EAAE;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAGrB,MAAM,IAAAF,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAACW,WAAW,CAAC,YAAY,CAAC,CAACvD,KAAK,CAACnC,QAAQ,CAAC,CAAC6F,IAAI,CAAC,MAAM,CAAC;MAC7Dd,MAAM,CAACW,WAAW,CAAC,QAAQ,CAAC,CAACvD,KAAK,CAACnC,QAAQ,CAAC,CAAC6F,IAAI,CAAC,IAAI,CAAC;MACvDd,MAAM,CAACW,WAAW,CAAC,OAAO,CAAC,CAACvD,KAAK,CAACnC,QAAQ,CAAC,CAAC6F,IAAI,CAAC,OAAO,CAAC;IAC3D,CAAC,EAAE;MAAEP,OAAO,EAAE;IAAK,CAAC,CAAC;EACvB,CAAC,EAAC;EAEFR,IAAI,CAAC,yDAAyD,MAAAf,kBAAA,CAAA1D,OAAA,EAAE,aAAY;IAE1E,IAAMkF,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;MACtB,IAAAqB,SAAA,GAAc,IAAApD,iBAAO,EAAC,CAAC;QAAfK,CAAC,GAAA+C,SAAA,CAAD/C,CAAC;MAET,OAAOxF,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE;QAAEwD,MAAM,EAAE;MAAW,CAAC,EAAE4B,CAAC,CAAC,kBAAkB,CAAC,CAAC;IACjF,CAAC;IAGDjF,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA;MAAA,OAASP,cAAK,CAACQ,aAAa,CAAC0G,SAAS,CAAC;IAAA;IAEvD,IAAAsB,QAAA,GAAwB,IAAA7B,oBAAM,EAAC,IAAAT,WAAA,CAAAU,GAAA,EAACb,OAAA,CAAA/D,OAAU,IAAE,CAAC,CAAC;MAAtCqF,WAAW,GAAAmB,QAAA,CAAXnB,WAAW;IAGnB,MAAM,IAAAN,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAAC1F,gBAAgB,CAAC,CAACgG,gBAAgB,CAAC,CAAC;IAC7C,CAAC,EAAE;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAGrB,MAAM,IAAAF,qBAAO,EAAC,YAAM;MAClB,IAAM0B,eAAe,GAAGpB,WAAW,CAAC,UAAU,CAAC;MAC/CX,MAAM,CAAC+B,eAAe,CAAC,CAAClB,UAAU,CAAC,CAAC;MAEpCb,MAAM,CAAC+B,eAAe,CAAC3E,KAAK,CAACnC,QAAQ,CAAC,CAAC6F,IAAI,CAAC,kBAAkB,CAAC;IACjE,CAAC,EAAE;MAAEP,OAAO,EAAE;IAAK,CAAC,CAAC;EACvB,CAAC,EAAC;EAEFR,IAAI,CAAC,4CAA4C,MAAAf,kBAAA,CAAA1D,OAAA,EAAE,aAAY;IAE7D,IAAMkF,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;MACtB,IAAAwB,SAAA,GAAc,IAAAvD,iBAAO,EAAC,CAAC;QAAfK,CAAC,GAAAkD,SAAA,CAADlD,CAAC;MAET,OAAOxF,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE;QAAEwD,MAAM,EAAE;MAAe,CAAC,EAAE4B,CAAC,CAAC,gBAAgB,EAAE;QAAEjB,IAAI,EAAE;MAAQ,CAAC,CAAC,CAAC;IACtG,CAAC;IAGDhE,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA;MAAA,OAASP,cAAK,CAACQ,aAAa,CAAC0G,SAAS,CAAC;IAAA;IAEvD,IAAAyB,QAAA,GAAwB,IAAAhC,oBAAM,EAAC,IAAAT,WAAA,CAAAU,GAAA,EAACb,OAAA,CAAA/D,OAAU,IAAE,CAAC,CAAC;MAAtCqF,WAAW,GAAAsB,QAAA,CAAXtB,WAAW;IAGnB,MAAM,IAAAN,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAAC1F,gBAAgB,CAAC,CAACgG,gBAAgB,CAAC,CAAC;IAC7C,CAAC,EAAE;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAGrB,MAAM,IAAAF,qBAAO,EAAC,YAAM;MAClB,IAAM6B,mBAAmB,GAAGvB,WAAW,CAAC,cAAc,CAAC;MACvDX,MAAM,CAACkC,mBAAmB,CAAC,CAACrB,UAAU,CAAC,CAAC;MACxCb,MAAM,CAACkC,mBAAmB,CAAC9E,KAAK,CAACnC,QAAQ,CAAC,CAAC6F,IAAI,CAAC,cAAc,CAAC;IACjE,CAAC,EAAE;MAAEP,OAAO,EAAE;IAAK,CAAC,CAAC;EACvB,CAAC,EAAC;EAEFR,IAAI,CAAC,wDAAwD,MAAAf,kBAAA,CAAA1D,OAAA,EAAE,aAAY;IAGzE,IAAM6G,cAAc,GAAG,IAAIC,KAAK,CAAC,6CAA6C,CAAC;IAC/E9H,gBAAgB,CAAC+H,iBAAiB,CAACF,cAAc,CAAC;IAElDtI,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA;MAAA,OAASP,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE,IAAI,EAAE,cAAc,CAAC;IAAA;IAExE,IAAA4I,QAAA,GAA0C,IAAArC,oBAAM,EAAC,IAAAT,WAAA,CAAAU,GAAA,EAACb,OAAA,CAAA/D,OAAU,IAAE,CAAC,CAAC;MAAxDiH,gBAAgB,GAAAD,QAAA,CAAhBC,gBAAgB;MAAEC,WAAW,GAAAF,QAAA,CAAXE,WAAW;IAErC,MAAM,IAAAnC,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAAC1F,gBAAgB,CAAC,CAACgG,gBAAgB,CAAC,CAAC;IAC7C,CAAC,EAAE;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAGrB,MAAM,IAAAF,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAACtF,eAAM,CAACC,KAAK,CAAC,CAAC8H,oBAAoB,CACvC,iCAAiC,EACjCzC,MAAM,CAAC0C,gBAAgB,CAAC;QACtB/H,KAAK,EAAE,6CAA6C;QACpDgI,KAAK,EAAE3C,MAAM,CAAC4C,GAAG,CAACC,MAAM;MAC1B,CAAC,CACH,CAAC;IACH,CAAC,CAAC;IAIF,IAAMC,iBAAiB,GAAGP,gBAAgB,CAAChJ,OAAO,CAAC,cAAc,CAAC,CAACwD,iBAAiB,CAAC;IACrFiD,MAAM,CAAC8C,iBAAiB,CAAC,CAACjC,UAAU,CAAC,CAAC;IAGtCb,MAAM,CAACwC,WAAW,CAAC,cAAc,CAAC,CAAC,CAACO,QAAQ,CAAC,CAAC;EAChD,CAAC,EAAC;EAEFhD,IAAI,CAAC,oDAAoD,MAAAf,kBAAA,CAAA1D,OAAA,EAAE,aAAY;IAErE,IAAM0H,UAAU,GAAG,IAAIZ,KAAK,CAAC,+BAA+B,CAAC;IAC7DY,UAAU,CAACnF,IAAI,GAAG,qBAAqB;IACvCvD,gBAAgB,CAAC+H,iBAAiB,CAACW,UAAU,CAAC;IAE9CnJ,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA;MAAA,OAASP,cAAK,CAACQ,aAAa,CAACJ,iBAAI,EAAE,IAAI,EAAE,cAAc,CAAC;IAAA;IAExE,IAAAuJ,QAAA,GAA0C,IAAAhD,oBAAM,EAAC,IAAAT,WAAA,CAAAU,GAAA,EAACb,OAAA,CAAA/D,OAAU,IAAE,CAAC,CAAC;MAAxDkH,WAAW,GAAAS,QAAA,CAAXT,WAAW;MAAED,gBAAgB,GAAAU,QAAA,CAAhBV,gBAAgB;IAErC,MAAM,IAAAlC,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAAC1F,gBAAgB,CAAC,CAACgG,gBAAgB,CAAC,CAAC;IAC7C,CAAC,EAAE;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC;IAGrB,MAAM,IAAAF,qBAAO,EAAC,YAAM;MAClBL,MAAM,CAACtF,eAAM,CAACC,KAAK,CAAC,CAAC2F,gBAAgB,CAAC,CAAC;IACzC,CAAC,CAAC;IAGF,IAAMwC,iBAAiB,GAAGP,gBAAgB,CAAChJ,OAAO,CAAC,cAAc,CAAC,CAACwD,iBAAiB,CAAC;IACrFiD,MAAM,CAAC8C,iBAAiB,CAAC,CAACjC,UAAU,CAAC,CAAC;IAGtCb,MAAM,CAACwC,WAAW,CAAC,cAAc,CAAC,CAAC,CAACO,QAAQ,CAAC,CAAC;EAChD,CAAC,EAAC;AACJ,CAAC,CAAC","ignoreList":[]}