{"version":3,"names":["_fs","_interopRequireDefault","require","_path","describe","navigationDir","path","join","__dirname","guardsDir","indexFile","test","expect","fs","existsSync","toBe","stats","statSync","isDirectory","isFile","authGuardFile","roleGuardFile","indexModule","toBeDefined"],"sources":["guard-infrastructure.test.js"],"sourcesContent":["/**\r\n * Guard Infrastructure Folder Structure Tests\r\n * File: guard-infrastructure.test.js\r\n * \r\n * Tests for Step 7.11: Create guard infrastructure folder\r\n * Per testing.mdc: Tests verify folder structure exists\r\n * Per project-structure.mdc: Navigation guards in src/navigation/guards/\r\n * Per coding-conventions.mdc: Barrel exports via index.js\r\n */\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\ndescribe('Step 7.11: Guard Infrastructure Folder Structure', () => {\r\n  const navigationDir = path.join(__dirname, '../../navigation');\r\n  const guardsDir = path.join(navigationDir, 'guards');\r\n  const indexFile = path.join(guardsDir, 'index.js');\r\n\r\n  test('should have guards directory', () => {\r\n    // Per Step 7.11: Create src/navigation/guards/ directory per project-structure.mdc\r\n    expect(fs.existsSync(guardsDir)).toBe(true);\r\n  });\r\n\r\n  test('should have barrel export file', () => {\r\n    // Per Step 7.11: Create src/navigation/guards/index.js barrel export file per coding-conventions.mdc\r\n    expect(fs.existsSync(indexFile)).toBe(true);\r\n  });\r\n\r\n  test('should be located in navigation directory', () => {\r\n    // Verify the directory is in the correct location\r\n    expect(fs.existsSync(navigationDir)).toBe(true);\r\n    expect(fs.existsSync(guardsDir)).toBe(true);\r\n    \r\n    // Verify it's a directory, not a file\r\n    const stats = fs.statSync(guardsDir);\r\n    expect(stats.isDirectory()).toBe(true);\r\n  });\r\n\r\n  test('should have index.js as a file', () => {\r\n    // Verify index.js is a file, not a directory\r\n    const stats = fs.statSync(indexFile);\r\n    expect(stats.isFile()).toBe(true);\r\n  });\r\n\r\n  test('should allow guard files to exist in guards directory', () => {\r\n    // Per Step 7.12: Auth guard should exist in guards/auth.guard.js\r\n    // Per Step 7.13: Role guard should exist in guards/role.guard.js\r\n    const authGuardFile = path.join(guardsDir, 'auth.guard.js');\r\n    const roleGuardFile = path.join(guardsDir, 'role.guard.js');\r\n    \r\n    // These files may or may not exist at Step 7.11, but the directory should allow them\r\n    expect(fs.existsSync(guardsDir)).toBe(true);\r\n    \r\n    // If files exist, verify they are files\r\n    if (fs.existsSync(authGuardFile)) {\r\n      const stats = fs.statSync(authGuardFile);\r\n      expect(stats.isFile()).toBe(true);\r\n    }\r\n    \r\n    if (fs.existsSync(roleGuardFile)) {\r\n      const stats = fs.statSync(roleGuardFile);\r\n      expect(stats.isFile()).toBe(true);\r\n    }\r\n  });\r\n\r\n  test('should export guards from barrel export file', () => {\r\n    // Per coding-conventions.mdc: Barrel exports via index.js\r\n    // Verify that the index.js file exists and can be imported\r\n    const indexModule = require(indexFile);\r\n    \r\n    // The barrel export should export guard hooks (may be undefined if guards not yet implemented)\r\n    // But the file should be importable\r\n    expect(indexModule).toBeDefined();\r\n    expect(typeof indexModule).toBe('object');\r\n  });\r\n});\r\n\r\n"],"mappings":";AASA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAEAE,QAAQ,CAAC,kDAAkD,EAAE,YAAM;EACjE,IAAMC,aAAa,GAAGC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,kBAAkB,CAAC;EAC9D,IAAMC,SAAS,GAAGH,aAAI,CAACC,IAAI,CAACF,aAAa,EAAE,QAAQ,CAAC;EACpD,IAAMK,SAAS,GAAGJ,aAAI,CAACC,IAAI,CAACE,SAAS,EAAE,UAAU,CAAC;EAElDE,IAAI,CAAC,8BAA8B,EAAE,YAAM;IAEzCC,MAAM,CAACC,WAAE,CAACC,UAAU,CAACL,SAAS,CAAC,CAAC,CAACM,IAAI,CAAC,IAAI,CAAC;EAC7C,CAAC,CAAC;EAEFJ,IAAI,CAAC,gCAAgC,EAAE,YAAM;IAE3CC,MAAM,CAACC,WAAE,CAACC,UAAU,CAACJ,SAAS,CAAC,CAAC,CAACK,IAAI,CAAC,IAAI,CAAC;EAC7C,CAAC,CAAC;EAEFJ,IAAI,CAAC,2CAA2C,EAAE,YAAM;IAEtDC,MAAM,CAACC,WAAE,CAACC,UAAU,CAACT,aAAa,CAAC,CAAC,CAACU,IAAI,CAAC,IAAI,CAAC;IAC/CH,MAAM,CAACC,WAAE,CAACC,UAAU,CAACL,SAAS,CAAC,CAAC,CAACM,IAAI,CAAC,IAAI,CAAC;IAG3C,IAAMC,KAAK,GAAGH,WAAE,CAACI,QAAQ,CAACR,SAAS,CAAC;IACpCG,MAAM,CAACI,KAAK,CAACE,WAAW,CAAC,CAAC,CAAC,CAACH,IAAI,CAAC,IAAI,CAAC;EACxC,CAAC,CAAC;EAEFJ,IAAI,CAAC,gCAAgC,EAAE,YAAM;IAE3C,IAAMK,KAAK,GAAGH,WAAE,CAACI,QAAQ,CAACP,SAAS,CAAC;IACpCE,MAAM,CAACI,KAAK,CAACG,MAAM,CAAC,CAAC,CAAC,CAACJ,IAAI,CAAC,IAAI,CAAC;EACnC,CAAC,CAAC;EAEFJ,IAAI,CAAC,uDAAuD,EAAE,YAAM;IAGlE,IAAMS,aAAa,GAAGd,aAAI,CAACC,IAAI,CAACE,SAAS,EAAE,eAAe,CAAC;IAC3D,IAAMY,aAAa,GAAGf,aAAI,CAACC,IAAI,CAACE,SAAS,EAAE,eAAe,CAAC;IAG3DG,MAAM,CAACC,WAAE,CAACC,UAAU,CAACL,SAAS,CAAC,CAAC,CAACM,IAAI,CAAC,IAAI,CAAC;IAG3C,IAAIF,WAAE,CAACC,UAAU,CAACM,aAAa,CAAC,EAAE;MAChC,IAAMJ,KAAK,GAAGH,WAAE,CAACI,QAAQ,CAACG,aAAa,CAAC;MACxCR,MAAM,CAACI,KAAK,CAACG,MAAM,CAAC,CAAC,CAAC,CAACJ,IAAI,CAAC,IAAI,CAAC;IACnC;IAEA,IAAIF,WAAE,CAACC,UAAU,CAACO,aAAa,CAAC,EAAE;MAChC,IAAML,MAAK,GAAGH,WAAE,CAACI,QAAQ,CAACI,aAAa,CAAC;MACxCT,MAAM,CAACI,MAAK,CAACG,MAAM,CAAC,CAAC,CAAC,CAACJ,IAAI,CAAC,IAAI,CAAC;IACnC;EACF,CAAC,CAAC;EAEFJ,IAAI,CAAC,8CAA8C,EAAE,YAAM;IAGzD,IAAMW,WAAW,GAAGpB,OAAO,CAACQ,SAAS,CAAC;IAItCE,MAAM,CAACU,WAAW,CAAC,CAACC,WAAW,CAAC,CAAC;IACjCX,MAAM,CAAC,OAAOU,WAAW,CAAC,CAACP,IAAI,CAAC,QAAQ,CAAC;EAC3C,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}