{"version":3,"names":["_getJestObj","mock","useRouter","jest","fn","usePathname","_jsxRuntime","require","_require4","React","_require","render","_require2","useSettingsScreen","default","_require3","SETTINGS_TABS","SETTINGS_TAB_ORDER","HookWrapper","hookResult","describe","mockPush","beforeEach","clearAllMocks","mockReturnValue","push","it","TestComponent","jsx","expect","toHaveProperty","Array","isArray","tabs","toBe","length","toBeGreaterThan","testID","accessibilityLabel","onTabChange","USER","toHaveBeenCalled","ROLE","toHaveBeenCalledWith","testCases","id","route","PERMISSION","forEach","_ref","mockClear","toBeDefined","pathname","_ref2","_render","unmount","selectedTab"],"sources":["useSettingsScreen.test.js"],"sourcesContent":["/**\r\n * useSettingsScreen Hook Tests\r\n * File: useSettingsScreen.test.js\r\n * \r\n * Per testing.mdc: Test hooks with proper mocking\r\n */\r\nconst React = require('react');\r\nconst { render } = require('@testing-library/react-native');\r\nconst { useRouter, usePathname } = require('expo-router');\r\n\r\njest.mock('expo-router', () => ({\r\n  useRouter: jest.fn(),\r\n  usePathname: jest.fn(),\r\n}));\r\n\r\nconst useSettingsScreen = require('@platform/screens/settings/SettingsScreen/useSettingsScreen').default;\r\nconst { SETTINGS_TABS, SETTINGS_TAB_ORDER } = require('@platform/screens/settings/SettingsScreen/types');\r\n\r\n// Component wrapper for testing the hook\r\nconst HookWrapper = () => {\r\n  const hookResult = useSettingsScreen();\r\n  return null; // We'll capture via side effects\r\n};\r\n\r\ndescribe('useSettingsScreen Hook', () => {\r\n  const mockPush = jest.fn();\r\n\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    useRouter.mockReturnValue({ push: mockPush });\r\n    usePathname.mockReturnValue('/settings/tenants');\r\n  });\r\n\r\n  describe('initialization', () => {\r\n    it('returns hook object with required methods', () => {\r\n      // Create a test component that uses the hook\r\n      let hookResult;\r\n      const TestComponent = () => {\r\n        hookResult = useSettingsScreen();\r\n        return null;\r\n      };\r\n\r\n      render(<TestComponent />);\r\n\r\n      expect(hookResult).toHaveProperty('selectedTab');\r\n      expect(hookResult).toHaveProperty('tabs');\r\n      expect(hookResult).toHaveProperty('onTabChange');\r\n      expect(hookResult).toHaveProperty('testID');\r\n      expect(hookResult).toHaveProperty('accessibilityLabel');\r\n    });\r\n\r\n    it('provides all tab definitions', () => {\r\n      let hookResult;\r\n      const TestComponent = () => {\r\n        hookResult = useSettingsScreen();\r\n        return null;\r\n      };\r\n\r\n      render(<TestComponent />);\r\n\r\n      expect(Array.isArray(hookResult.tabs)).toBe(true);\r\n      expect(hookResult.tabs.length).toBeGreaterThan(0);\r\n      expect(hookResult.tabs[0]).toHaveProperty('id');\r\n      expect(hookResult.tabs[0]).toHaveProperty('label');\r\n      expect(hookResult.tabs[0]).toHaveProperty('testID');\r\n    });\r\n\r\n    it('provides testID and accessibilityLabel', () => {\r\n      let hookResult;\r\n      const TestComponent = () => {\r\n        hookResult = useSettingsScreen();\r\n        return null;\r\n      };\r\n\r\n      render(<TestComponent />);\r\n\r\n      expect(hookResult.testID).toBe('settings-screen');\r\n      expect(hookResult.accessibilityLabel).toBe('settings.screen.label');\r\n    });\r\n  });\r\n\r\n  describe('tab changes', () => {\r\n    it('handles tab changes via onTabChange', () => {\r\n      let hookResult;\r\n      const TestComponent = () => {\r\n        hookResult = useSettingsScreen();\r\n        return null;\r\n      };\r\n\r\n      render(<TestComponent />);\r\n\r\n      hookResult.onTabChange(SETTINGS_TABS.USER);\r\n\r\n      expect(mockPush).toHaveBeenCalled();\r\n    });\r\n\r\n    it('navigates to correct route on tab change', () => {\r\n      let hookResult;\r\n      const TestComponent = () => {\r\n        hookResult = useSettingsScreen();\r\n        return null;\r\n      };\r\n\r\n      render(<TestComponent />);\r\n\r\n      hookResult.onTabChange(SETTINGS_TABS.ROLE);\r\n\r\n      expect(mockPush).toHaveBeenCalledWith('/settings/roles');\r\n    });\r\n\r\n    it('handles multiple tab changes', () => {\r\n      let hookResult;\r\n      const TestComponent = () => {\r\n        hookResult = useSettingsScreen();\r\n        return null;\r\n      };\r\n\r\n      render(<TestComponent />);\r\n\r\n      const testCases = [\r\n        { id: SETTINGS_TABS.USER, route: '/settings/users' },\r\n        { id: SETTINGS_TABS.ROLE, route: '/settings/roles' },\r\n        { id: SETTINGS_TABS.PERMISSION, route: '/settings/permissions' },\r\n      ];\r\n\r\n      testCases.forEach(({ id, route }) => {\r\n        mockPush.mockClear();\r\n        hookResult.onTabChange(id);\r\n        expect(mockPush).toHaveBeenCalledWith(route);\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('pathname detection', () => {\r\n    it('detects current tab from pathname', () => {\r\n      usePathname.mockReturnValue('/settings/users');\r\n      let hookResult;\r\n      const TestComponent = () => {\r\n        hookResult = useSettingsScreen();\r\n        return null;\r\n      };\r\n\r\n      render(<TestComponent />);\r\n\r\n      // The hook detects the tab from pathname\r\n      expect(hookResult).toBeDefined();\r\n    });\r\n\r\n    it('handles various pathname patterns', () => {\r\n      const testCases = [\r\n        { pathname: '/settings/tenants' },\r\n        { pathname: '/settings/roles' },\r\n        { pathname: '/settings/users' },\r\n      ];\r\n\r\n      testCases.forEach(({ pathname }) => {\r\n        usePathname.mockReturnValue(pathname);\r\n        let hookResult;\r\n        const TestComponent = () => {\r\n          hookResult = useSettingsScreen();\r\n          return null;\r\n        };\r\n\r\n        const { unmount } = render(<TestComponent />);\r\n\r\n        expect(hookResult).toBeDefined();\r\n        expect(hookResult.selectedTab).toBeDefined();\r\n        unmount();\r\n      });\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}