{"version":3,"names":["_react","_interopRequireWildcard","require","_expoRouter","_guards","_jsxRuntime","AuthLayout","router","useRouter","_useAuthGuard","useAuthGuard","skipRedirect","authenticated","hasRedirected","useRef","useEffect","current","replace","jsx","Slot","_default","exports","default"],"sources":["_layout.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { Slot, useRouter } from 'expo-router';\r\nimport { useAuthGuard } from '@navigation/guards';\r\n\r\n/**\r\n * Auth Group Layout\r\n * \r\n * Layout wrapper for authentication routes (login, register, etc.).\r\n * \r\n * Per app-router.mdc:\r\n * - Layouts use `_layout.jsx`, default exports, `<Slot />` for child routes\r\n * - Guard placement: guards in layouts, not screens\r\n * \r\n * This layout redirects authenticated users away from auth routes (e.g., login when already logged in).\r\n * Per Step 7.14: Uses useAuthGuard hook with skipRedirect option to get auth state,\r\n * then handles redirect of authenticated users to home route.\r\n */\r\nconst AuthLayout = () => {\r\n  const router = useRouter();\r\n  const { authenticated } = useAuthGuard({ skipRedirect: true });\r\n  \r\n  // Use ref to track if redirect has been performed to prevent multiple redirects\r\n  const hasRedirected = useRef(false);\r\n  \r\n  useEffect(() => {\r\n    // Redirect authenticated users to home route\r\n    if (authenticated && !hasRedirected.current) {\r\n      hasRedirected.current = true;\r\n      router.replace('/home');\r\n    } else if (!authenticated) {\r\n      // Reset redirect flag when unauthenticated\r\n      hasRedirected.current = false;\r\n    }\r\n  }, [authenticated, router]);\r\n  \r\n  return <Slot />;\r\n};\r\n\r\nexport default AuthLayout;\r\n\r\n"],"mappings":";;;;;AAAA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AAAkD,IAAAG,WAAA,GAAAH,OAAA;AAelD,IAAMI,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;EACvB,IAAMC,MAAM,GAAG,IAAAC,qBAAS,EAAC,CAAC;EAC1B,IAAAC,aAAA,GAA0B,IAAAC,oBAAY,EAAC;MAAEC,YAAY,EAAE;IAAK,CAAC,CAAC;IAAtDC,aAAa,GAAAH,aAAA,CAAbG,aAAa;EAGrB,IAAMC,aAAa,GAAG,IAAAC,aAAM,EAAC,KAAK,CAAC;EAEnC,IAAAC,gBAAS,EAAC,YAAM;IAEd,IAAIH,aAAa,IAAI,CAACC,aAAa,CAACG,OAAO,EAAE;MAC3CH,aAAa,CAACG,OAAO,GAAG,IAAI;MAC5BT,MAAM,CAACU,OAAO,CAAC,OAAO,CAAC;IACzB,CAAC,MAAM,IAAI,CAACL,aAAa,EAAE;MAEzBC,aAAa,CAACG,OAAO,GAAG,KAAK;IAC/B;EACF,CAAC,EAAE,CAACJ,aAAa,EAAEL,MAAM,CAAC,CAAC;EAE3B,OAAO,IAAAF,WAAA,CAAAa,GAAA,EAACf,WAAA,CAAAgB,IAAI,IAAE,CAAC;AACjB,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEahB,UAAU","ignoreList":[]}