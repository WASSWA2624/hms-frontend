8ceba1f0119ea739c3dc88030e0d9bc3
_getJestObj().mock("../../../../hooks", function () {
  return {
    useDebounce: jest.fn(function (value) {
      return value;
    }),
    useI18n: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _react = _interopRequireDefault(require("react"));
var _reactTestRenderer = _interopRequireDefault(require("react-test-renderer"));
var _useSearchBar = _interopRequireDefault(require("../../../../platform/patterns/SearchBar/useSearchBar"));
var _hooks = require("../../../../hooks");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var act = _reactTestRenderer.default.act;
var renderHook = function renderHook(hook) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
    initialProps = _ref.initialProps;
  var result = {};
  var renderer;
  var HookHarness = function HookHarness(_ref2) {
    var hookProps = _ref2.hookProps;
    var hookResult = hook(hookProps);
    Object.assign(result, hookResult);
    return null;
  };
  act(function () {
    renderer = _reactTestRenderer.default.create((0, _jsxRuntime.jsx)(HookHarness, {
      hookProps: initialProps
    }));
  });
  return {
    result: {
      current: result
    },
    rerender: function rerender(newProps) {
      act(function () {
        renderer.update((0, _jsxRuntime.jsx)(HookHarness, {
          hookProps: newProps
        }));
      });
    },
    unmount: function unmount() {
      act(function () {
        renderer.unmount();
      });
    }
  };
};
describe('useSearchBar', function () {
  beforeEach(function () {
    jest.clearAllMocks();
    jest.useFakeTimers();
    _hooks.useDebounce.mockImplementation(function (value) {
      return value;
    });
  });
  afterEach(function () {
    jest.runOnlyPendingTimers();
    jest.useRealTimers();
  });
  describe('Initialization', function () {
    it('should initialize with default value', function () {
      var _renderHook = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: '',
            debounceMs: 300
          });
        }),
        result = _renderHook.result;
      expect(result.current.localValue).toBe('');
      expect(result.current.hasValue).toBe(false);
    });
    it('should initialize with provided value', function () {
      var _renderHook2 = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: 'test',
            debounceMs: 300
          });
        }),
        result = _renderHook2.result;
      expect(result.current.localValue).toBe('test');
      expect(result.current.hasValue).toBe(true);
    });
  });
  describe('Value synchronization', function () {
    it('should sync local value when prop value changes', function () {
      var _renderHook3 = renderHook(function (hookProps) {
          return (0, _useSearchBar.default)({
            value: (hookProps == null ? void 0 : hookProps.value) || '',
            debounceMs: 300
          });
        }, {
          initialProps: {
            value: 'initial'
          }
        }),
        result = _renderHook3.result,
        rerender = _renderHook3.rerender;
      expect(result.current.localValue).toBe('initial');
      rerender({
        value: 'updated'
      });
      expect(result.current.localValue).toBe('updated');
    });
  });
  describe('Change handlers', function () {
    it('should handle onChange (web)', function () {
      var handleChange = jest.fn();
      var _renderHook4 = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: '',
            onChange: handleChange,
            debounceMs: 300
          });
        }),
        result = _renderHook4.result;
      var event = {
        target: {
          value: 'new value'
        }
      };
      act(function () {
        result.current.handleChange(event);
      });
      expect(result.current.localValue).toBe('new value');
      expect(handleChange).toHaveBeenCalledWith(event);
    });
    it('should handle onChangeText (native)', function () {
      var handleChangeText = jest.fn();
      var _renderHook5 = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: '',
            onChangeText: handleChangeText,
            debounceMs: 300
          });
        }),
        result = _renderHook5.result;
      act(function () {
        result.current.handleChangeText('new value');
      });
      expect(result.current.localValue).toBe('new value');
      expect(handleChangeText).toHaveBeenCalledWith('new value');
    });
    it('should handle both onChange and onChangeText', function () {
      var handleChange = jest.fn();
      var handleChangeText = jest.fn();
      var _renderHook6 = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: '',
            onChange: handleChange,
            onChangeText: handleChangeText,
            debounceMs: 300
          });
        }),
        result = _renderHook6.result;
      act(function () {
        result.current.handleChangeText('new value');
      });
      expect(result.current.localValue).toBe('new value');
      expect(handleChangeText).toHaveBeenCalledWith('new value');
      expect(handleChange).toHaveBeenCalledWith({
        target: {
          value: 'new value'
        }
      });
    });
  });
  describe('Clear handler', function () {
    it('should clear value and call handlers', function () {
      var handleChange = jest.fn();
      var handleChangeText = jest.fn();
      var handleSearch = jest.fn();
      var _renderHook7 = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: 'test',
            onChange: handleChange,
            onChangeText: handleChangeText,
            onSearch: handleSearch,
            debounceMs: 300
          });
        }),
        result = _renderHook7.result;
      act(function () {
        result.current.handleClear();
      });
      expect(result.current.localValue).toBe('');
      expect(result.current.hasValue).toBe(false);
      expect(handleChange).toHaveBeenCalledWith({
        target: {
          value: ''
        }
      });
      expect(handleChangeText).toHaveBeenCalledWith('');
      expect(handleSearch).toHaveBeenCalledWith('');
    });
    it('should clear value even when handlers are not provided', function () {
      var _renderHook8 = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: 'test',
            debounceMs: 300
          });
        }),
        result = _renderHook8.result;
      act(function () {
        result.current.handleClear();
      });
      expect(result.current.localValue).toBe('');
      expect(result.current.hasValue).toBe(false);
    });
  });
  describe('Submit handler', function () {
    it('should call onSearch with current value', function () {
      var handleSearch = jest.fn();
      var _renderHook9 = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: 'test',
            onSearch: handleSearch,
            debounceMs: 300
          });
        }),
        result = _renderHook9.result;
      act(function () {
        result.current.handleSubmit();
      });
      expect(handleSearch).toHaveBeenCalledWith('test');
    });
    it('should call onSearch with provided value', function () {
      var handleSearch = jest.fn();
      var _renderHook0 = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: 'test',
            onSearch: handleSearch,
            debounceMs: 300
          });
        }),
        result = _renderHook0.result;
      act(function () {
        result.current.handleSubmit('custom value');
      });
      expect(handleSearch).toHaveBeenCalledWith('custom value');
    });
    it('should not call onSearch when not provided', function () {
      var _renderHook1 = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: 'test',
            debounceMs: 300
          });
        }),
        result = _renderHook1.result;
      act(function () {
        result.current.handleSubmit();
      });
      expect(result.current.localValue).toBe('test');
    });
  });
  describe('Change handler edge cases', function () {
    it('should handle onChange with string value (non-event)', function () {
      var handleChange = jest.fn();
      var _renderHook10 = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: '',
            onChange: handleChange,
            debounceMs: 300
          });
        }),
        result = _renderHook10.result;
      act(function () {
        result.current.handleChange('string value');
      });
      expect(result.current.localValue).toBe('string value');
      expect(handleChange).toHaveBeenCalledWith('string value');
    });
    it('should handle onChange with event object but no onChangeText', function () {
      var handleChange = jest.fn();
      var _renderHook11 = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: '',
            onChange: handleChange,
            debounceMs: 300
          });
        }),
        result = _renderHook11.result;
      var event = {
        target: {
          value: 'event value'
        }
      };
      act(function () {
        result.current.handleChange(event);
      });
      expect(result.current.localValue).toBe('event value');
      expect(handleChange).toHaveBeenCalledWith(event);
    });
    it('should handle onChangeText when onChange receives string', function () {
      var handleChange = jest.fn();
      var handleChangeText = jest.fn();
      var _renderHook12 = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: '',
            onChange: handleChange,
            onChangeText: handleChangeText,
            debounceMs: 300
          });
        }),
        result = _renderHook12.result;
      act(function () {
        result.current.handleChange('string value');
      });
      expect(result.current.localValue).toBe('string value');
      expect(handleChange).toHaveBeenCalledWith('string value');
      expect(handleChangeText).toHaveBeenCalledWith('string value');
    });
  });
  describe('Debouncing', function () {
    it('should use custom debounce delay', function () {
      renderHook(function () {
        return (0, _useSearchBar.default)({
          value: '',
          onSearch: jest.fn(),
          debounceMs: 500
        });
      });
      expect(_hooks.useDebounce).toHaveBeenCalledWith('', 500);
    });
    it('should use default debounce delay', function () {
      renderHook(function () {
        return (0, _useSearchBar.default)({
          value: '',
          onSearch: jest.fn()
        });
      });
      expect(_hooks.useDebounce).toHaveBeenCalledWith('', 300);
    });
    it('should call onSearch when debounced value differs from prop value', function () {
      var handleSearch = jest.fn();
      var currentValue = 'initial';
      _hooks.useDebounce.mockImplementation(function (value) {
        return currentValue;
      });
      var _renderHook13 = renderHook(function (props) {
          return (0, _useSearchBar.default)({
            value: (props == null ? void 0 : props.value) || 'initial',
            onSearch: handleSearch,
            debounceMs: 300
          });
        }, {
          initialProps: {
            value: 'initial'
          }
        }),
        result = _renderHook13.result,
        rerender = _renderHook13.rerender;
      act(function () {
        result.current.handleChangeText('new');
      });
      currentValue = 'new';
      act(function () {
        rerender({
          value: 'initial'
        });
      });
      _hooks.useDebounce.mockImplementation(function (value) {
        return value;
      });
      currentValue = '';
    });
    it('should not call onSearch when debounced value equals prop value', function () {
      var handleSearch = jest.fn();
      _hooks.useDebounce.mockImplementation(function (value) {
        return value;
      });
      renderHook(function () {
        return (0, _useSearchBar.default)({
          value: 'test',
          onSearch: handleSearch,
          debounceMs: 300
        });
      });
      expect(handleSearch).not.toHaveBeenCalled();
    });
    it('should handle onChange with non-string value (no onChangeText call)', function () {
      var handleChange = jest.fn();
      var handleChangeText = jest.fn();
      var _renderHook14 = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: '',
            onChange: handleChange,
            onChangeText: handleChangeText,
            debounceMs: 300
          });
        }),
        result = _renderHook14.result;
      var event = {
        target: {
          value: 123
        }
      };
      act(function () {
        result.current.handleChange(event);
      });
      expect(result.current.localValue).toBe(123);
      expect(handleChange).toHaveBeenCalledWith(event);
      expect(handleChangeText).not.toHaveBeenCalled();
    });
    it('should handle onChange without onChange prop', function () {
      var handleChangeText = jest.fn();
      var _renderHook15 = renderHook(function () {
          return (0, _useSearchBar.default)({
            value: '',
            onChangeText: handleChangeText,
            debounceMs: 300
          });
        }),
        result = _renderHook15.result;
      var event = {
        target: {
          value: 'test'
        }
      };
      act(function () {
        result.current.handleChange(event);
      });
      expect(result.current.localValue).toBe('test');
      expect(handleChangeText).toHaveBeenCalledWith('test');
    });
    it('should use default value parameter', function () {
      var _renderHook16 = renderHook(function () {
          return (0, _useSearchBar.default)({
            debounceMs: 300
          });
        }),
        result = _renderHook16.result;
      expect(result.current.localValue).toBe('');
      expect(result.current.hasValue).toBe(false);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VEZWJvdW5jZSIsImplc3QiLCJmbiIsInZhbHVlIiwidXNlSTE4biIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZGVmYXVsdCIsIl9yZWFjdCIsIl9yZWFjdFRlc3RSZW5kZXJlciIsIl91c2VTZWFyY2hCYXIiLCJfaG9va3MiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwiYWN0IiwiVGVzdFJlbmRlcmVyIiwicmVuZGVySG9vayIsImhvb2siLCJfcmVmIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiaW5pdGlhbFByb3BzIiwicmVzdWx0IiwicmVuZGVyZXIiLCJIb29rSGFybmVzcyIsIl9yZWYyIiwiaG9va1Byb3BzIiwiaG9va1Jlc3VsdCIsIk9iamVjdCIsImFzc2lnbiIsImNyZWF0ZSIsImpzeCIsImN1cnJlbnQiLCJyZXJlbmRlciIsIm5ld1Byb3BzIiwidXBkYXRlIiwidW5tb3VudCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJ1c2VGYWtlVGltZXJzIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiYWZ0ZXJFYWNoIiwicnVuT25seVBlbmRpbmdUaW1lcnMiLCJ1c2VSZWFsVGltZXJzIiwiaXQiLCJfcmVuZGVySG9vayIsInVzZVNlYXJjaEJhciIsImRlYm91bmNlTXMiLCJleHBlY3QiLCJsb2NhbFZhbHVlIiwidG9CZSIsImhhc1ZhbHVlIiwiX3JlbmRlckhvb2syIiwiX3JlbmRlckhvb2szIiwiaGFuZGxlQ2hhbmdlIiwiX3JlbmRlckhvb2s0Iiwib25DaGFuZ2UiLCJldmVudCIsInRhcmdldCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiaGFuZGxlQ2hhbmdlVGV4dCIsIl9yZW5kZXJIb29rNSIsIm9uQ2hhbmdlVGV4dCIsIl9yZW5kZXJIb29rNiIsImhhbmRsZVNlYXJjaCIsIl9yZW5kZXJIb29rNyIsIm9uU2VhcmNoIiwiaGFuZGxlQ2xlYXIiLCJfcmVuZGVySG9vazgiLCJfcmVuZGVySG9vazkiLCJoYW5kbGVTdWJtaXQiLCJfcmVuZGVySG9vazAiLCJfcmVuZGVySG9vazEiLCJfcmVuZGVySG9vazEwIiwiX3JlbmRlckhvb2sxMSIsIl9yZW5kZXJIb29rMTIiLCJjdXJyZW50VmFsdWUiLCJfcmVuZGVySG9vazEzIiwicHJvcHMiLCJub3QiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiX3JlbmRlckhvb2sxNCIsIl9yZW5kZXJIb29rMTUiLCJfcmVuZGVySG9vazE2Il0sInNvdXJjZXMiOlsidXNlU2VhcmNoQmFyLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIHVzZVNlYXJjaEJhciBIb29rIFRlc3RzXHJcbiAqIENvbXByZWhlbnNpdmUgdGVzdHMgZm9yIHVzZVNlYXJjaEJhciBob29rXHJcbiAqIEZpbGU6IHVzZVNlYXJjaEJhci50ZXN0LmpzXHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFRlc3RSZW5kZXJlciBmcm9tICdyZWFjdC10ZXN0LXJlbmRlcmVyJztcclxuaW1wb3J0IHVzZVNlYXJjaEJhciBmcm9tICdAcGxhdGZvcm0vcGF0dGVybnMvU2VhcmNoQmFyL3VzZVNlYXJjaEJhcic7XHJcbmltcG9ydCB7IHVzZURlYm91bmNlIH0gZnJvbSAnQGhvb2tzJztcclxuXHJcbmNvbnN0IGFjdCA9IFRlc3RSZW5kZXJlci5hY3Q7XHJcblxyXG4vLyBNb2NrIHVzZURlYm91bmNlXHJcbmplc3QubW9jaygnQGhvb2tzJywgKCkgPT4gKHtcclxuICB1c2VEZWJvdW5jZTogamVzdC5mbigodmFsdWUpID0+IHZhbHVlKSxcclxuICB1c2VJMThuOiBqZXN0LmZuKCksXHJcbn0pKTtcclxuXHJcbi8vIEN1c3RvbSByZW5kZXJIb29rIGltcGxlbWVudGF0aW9uIHRvIGF2b2lkIEB0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtaG9va3MgZGVwZW5kZW5jeVxyXG5jb25zdCByZW5kZXJIb29rID0gKGhvb2ssIHsgaW5pdGlhbFByb3BzIH0gPSB7fSkgPT4ge1xyXG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xyXG4gIGxldCByZW5kZXJlcjtcclxuICBcclxuICBjb25zdCBIb29rSGFybmVzcyA9ICh7IGhvb2tQcm9wcyB9KSA9PiB7XHJcbiAgICBjb25zdCBob29rUmVzdWx0ID0gaG9vayhob29rUHJvcHMpO1xyXG4gICAgT2JqZWN0LmFzc2lnbihyZXN1bHQsIGhvb2tSZXN1bHQpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfTtcclxuICBcclxuICBhY3QoKCkgPT4ge1xyXG4gICAgcmVuZGVyZXIgPSBUZXN0UmVuZGVyZXIuY3JlYXRlKDxIb29rSGFybmVzcyBob29rUHJvcHM9e2luaXRpYWxQcm9wc30gLz4pO1xyXG4gIH0pO1xyXG4gIFxyXG4gIHJldHVybiB7XHJcbiAgICByZXN1bHQ6IHsgY3VycmVudDogcmVzdWx0IH0sXHJcbiAgICByZXJlbmRlcjogKG5ld1Byb3BzKSA9PiB7XHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgcmVuZGVyZXIudXBkYXRlKDxIb29rSGFybmVzcyBob29rUHJvcHM9e25ld1Byb3BzfSAvPik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIHVubW91bnQ6ICgpID0+IHtcclxuICAgICAgYWN0KCgpID0+IHtcclxuICAgICAgICByZW5kZXJlci51bm1vdW50KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9O1xyXG59O1xyXG5cclxuZGVzY3JpYmUoJ3VzZVNlYXJjaEJhcicsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gICAgamVzdC51c2VGYWtlVGltZXJzKCk7XHJcbiAgICB1c2VEZWJvdW5jZS5tb2NrSW1wbGVtZW50YXRpb24oKHZhbHVlKSA9PiB2YWx1ZSk7XHJcbiAgfSk7XHJcblxyXG4gIGFmdGVyRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LnJ1bk9ubHlQZW5kaW5nVGltZXJzKCk7XHJcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0luaXRpYWxpemF0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHdpdGggZGVmYXVsdCB2YWx1ZScsICgpID0+IHtcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cclxuICAgICAgICB1c2VTZWFyY2hCYXIoe1xyXG4gICAgICAgICAgdmFsdWU6ICcnLFxyXG4gICAgICAgICAgZGVib3VuY2VNczogMzAwLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubG9jYWxWYWx1ZSkudG9CZSgnJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5oYXNWYWx1ZSkudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgd2l0aCBwcm92aWRlZCB2YWx1ZScsICgpID0+IHtcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cclxuICAgICAgICB1c2VTZWFyY2hCYXIoe1xyXG4gICAgICAgICAgdmFsdWU6ICd0ZXN0JyxcclxuICAgICAgICAgIGRlYm91bmNlTXM6IDMwMCxcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvY2FsVmFsdWUpLnRvQmUoJ3Rlc3QnKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmhhc1ZhbHVlKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdWYWx1ZSBzeW5jaHJvbml6YXRpb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHN5bmMgbG9jYWwgdmFsdWUgd2hlbiBwcm9wIHZhbHVlIGNoYW5nZXMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCByZXJlbmRlciB9ID0gcmVuZGVySG9vayhcclxuICAgICAgICAoaG9va1Byb3BzKSA9PlxyXG4gICAgICAgICAgdXNlU2VhcmNoQmFyKHtcclxuICAgICAgICAgICAgdmFsdWU6IGhvb2tQcm9wcz8udmFsdWUgfHwgJycsXHJcbiAgICAgICAgICAgIGRlYm91bmNlTXM6IDMwMCxcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGluaXRpYWxQcm9wczogeyB2YWx1ZTogJ2luaXRpYWwnIH0sXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvY2FsVmFsdWUpLnRvQmUoJ2luaXRpYWwnKTtcclxuXHJcbiAgICAgIHJlcmVuZGVyKHsgdmFsdWU6ICd1cGRhdGVkJyB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2NhbFZhbHVlKS50b0JlKCd1cGRhdGVkJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0NoYW5nZSBoYW5kbGVycycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG9uQ2hhbmdlICh3ZWIpJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XHJcbiAgICAgICAgdXNlU2VhcmNoQmFyKHtcclxuICAgICAgICAgIHZhbHVlOiAnJyxcclxuICAgICAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXHJcbiAgICAgICAgICBkZWJvdW5jZU1zOiAzMDAsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IGV2ZW50ID0geyB0YXJnZXQ6IHsgdmFsdWU6ICduZXcgdmFsdWUnIH0gfTtcclxuICAgICAgYWN0KCgpID0+IHtcclxuICAgICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVDaGFuZ2UoZXZlbnQpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2NhbFZhbHVlKS50b0JlKCduZXcgdmFsdWUnKTtcclxuICAgICAgZXhwZWN0KGhhbmRsZUNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXZlbnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgb25DaGFuZ2VUZXh0IChuYXRpdmUpJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBoYW5kbGVDaGFuZ2VUZXh0ID0gamVzdC5mbigpO1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxyXG4gICAgICAgIHVzZVNlYXJjaEJhcih7XHJcbiAgICAgICAgICB2YWx1ZTogJycsXHJcbiAgICAgICAgICBvbkNoYW5nZVRleHQ6IGhhbmRsZUNoYW5nZVRleHQsXHJcbiAgICAgICAgICBkZWJvdW5jZU1zOiAzMDAsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ2hhbmdlVGV4dCgnbmV3IHZhbHVlJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvY2FsVmFsdWUpLnRvQmUoJ25ldyB2YWx1ZScpO1xyXG4gICAgICBleHBlY3QoaGFuZGxlQ2hhbmdlVGV4dCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ25ldyB2YWx1ZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYm90aCBvbkNoYW5nZSBhbmQgb25DaGFuZ2VUZXh0JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XHJcbiAgICAgIGNvbnN0IGhhbmRsZUNoYW5nZVRleHQgPSBqZXN0LmZuKCk7XHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XHJcbiAgICAgICAgdXNlU2VhcmNoQmFyKHtcclxuICAgICAgICAgIHZhbHVlOiAnJyxcclxuICAgICAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXHJcbiAgICAgICAgICBvbkNoYW5nZVRleHQ6IGhhbmRsZUNoYW5nZVRleHQsXHJcbiAgICAgICAgICBkZWJvdW5jZU1zOiAzMDAsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ2hhbmdlVGV4dCgnbmV3IHZhbHVlJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvY2FsVmFsdWUpLnRvQmUoJ25ldyB2YWx1ZScpO1xyXG4gICAgICBleHBlY3QoaGFuZGxlQ2hhbmdlVGV4dCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ25ldyB2YWx1ZScpO1xyXG4gICAgICBleHBlY3QoaGFuZGxlQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IHRhcmdldDogeyB2YWx1ZTogJ25ldyB2YWx1ZScgfSB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnQ2xlYXIgaGFuZGxlcicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgY2xlYXIgdmFsdWUgYW5kIGNhbGwgaGFuZGxlcnMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGplc3QuZm4oKTtcclxuICAgICAgY29uc3QgaGFuZGxlQ2hhbmdlVGV4dCA9IGplc3QuZm4oKTtcclxuICAgICAgY29uc3QgaGFuZGxlU2VhcmNoID0gamVzdC5mbigpO1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxyXG4gICAgICAgIHVzZVNlYXJjaEJhcih7XHJcbiAgICAgICAgICB2YWx1ZTogJ3Rlc3QnLFxyXG4gICAgICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcclxuICAgICAgICAgIG9uQ2hhbmdlVGV4dDogaGFuZGxlQ2hhbmdlVGV4dCxcclxuICAgICAgICAgIG9uU2VhcmNoOiBoYW5kbGVTZWFyY2gsXHJcbiAgICAgICAgICBkZWJvdW5jZU1zOiAzMDAsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ2xlYXIoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubG9jYWxWYWx1ZSkudG9CZSgnJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5oYXNWYWx1ZSkudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChoYW5kbGVDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHsgdGFyZ2V0OiB7IHZhbHVlOiAnJyB9IH0pO1xyXG4gICAgICBleHBlY3QoaGFuZGxlQ2hhbmdlVGV4dCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJycpO1xyXG4gICAgICBleHBlY3QoaGFuZGxlU2VhcmNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNsZWFyIHZhbHVlIGV2ZW4gd2hlbiBoYW5kbGVycyBhcmUgbm90IHByb3ZpZGVkJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxyXG4gICAgICAgIHVzZVNlYXJjaEJhcih7XHJcbiAgICAgICAgICB2YWx1ZTogJ3Rlc3QnLFxyXG4gICAgICAgICAgZGVib3VuY2VNczogMzAwLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUNsZWFyKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvY2FsVmFsdWUpLnRvQmUoJycpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaGFzVmFsdWUpLnRvQmUoZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdTdWJtaXQgaGFuZGxlcicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgY2FsbCBvblNlYXJjaCB3aXRoIGN1cnJlbnQgdmFsdWUnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGhhbmRsZVNlYXJjaCA9IGplc3QuZm4oKTtcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cclxuICAgICAgICB1c2VTZWFyY2hCYXIoe1xyXG4gICAgICAgICAgdmFsdWU6ICd0ZXN0JyxcclxuICAgICAgICAgIG9uU2VhcmNoOiBoYW5kbGVTZWFyY2gsXHJcbiAgICAgICAgICBkZWJvdW5jZU1zOiAzMDAsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlU3VibWl0KCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KGhhbmRsZVNlYXJjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3Rlc3QnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY2FsbCBvblNlYXJjaCB3aXRoIHByb3ZpZGVkIHZhbHVlJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBoYW5kbGVTZWFyY2ggPSBqZXN0LmZuKCk7XHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XHJcbiAgICAgICAgdXNlU2VhcmNoQmFyKHtcclxuICAgICAgICAgIHZhbHVlOiAndGVzdCcsXHJcbiAgICAgICAgICBvblNlYXJjaDogaGFuZGxlU2VhcmNoLFxyXG4gICAgICAgICAgZGVib3VuY2VNczogMzAwLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZVN1Ym1pdCgnY3VzdG9tIHZhbHVlJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KGhhbmRsZVNlYXJjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2N1c3RvbSB2YWx1ZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBub3QgY2FsbCBvblNlYXJjaCB3aGVuIG5vdCBwcm92aWRlZCcsICgpID0+IHtcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cclxuICAgICAgICB1c2VTZWFyY2hCYXIoe1xyXG4gICAgICAgICAgdmFsdWU6ICd0ZXN0JyxcclxuICAgICAgICAgIGRlYm91bmNlTXM6IDMwMCxcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgYWN0KCgpID0+IHtcclxuICAgICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVTdWJtaXQoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBTaG91bGQgbm90IHRocm93XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2NhbFZhbHVlKS50b0JlKCd0ZXN0Jyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0NoYW5nZSBoYW5kbGVyIGVkZ2UgY2FzZXMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBvbkNoYW5nZSB3aXRoIHN0cmluZyB2YWx1ZSAobm9uLWV2ZW50KScsICgpID0+IHtcclxuICAgICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gamVzdC5mbigpO1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxyXG4gICAgICAgIHVzZVNlYXJjaEJhcih7XHJcbiAgICAgICAgICB2YWx1ZTogJycsXHJcbiAgICAgICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxyXG4gICAgICAgICAgZGVib3VuY2VNczogMzAwLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUNoYW5nZSgnc3RyaW5nIHZhbHVlJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvY2FsVmFsdWUpLnRvQmUoJ3N0cmluZyB2YWx1ZScpO1xyXG4gICAgICBleHBlY3QoaGFuZGxlQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnc3RyaW5nIHZhbHVlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBvbkNoYW5nZSB3aXRoIGV2ZW50IG9iamVjdCBidXQgbm8gb25DaGFuZ2VUZXh0JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XHJcbiAgICAgICAgdXNlU2VhcmNoQmFyKHtcclxuICAgICAgICAgIHZhbHVlOiAnJyxcclxuICAgICAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXHJcbiAgICAgICAgICBkZWJvdW5jZU1zOiAzMDAsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IGV2ZW50ID0geyB0YXJnZXQ6IHsgdmFsdWU6ICdldmVudCB2YWx1ZScgfSB9O1xyXG4gICAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUNoYW5nZShldmVudCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvY2FsVmFsdWUpLnRvQmUoJ2V2ZW50IHZhbHVlJyk7XHJcbiAgICAgIGV4cGVjdChoYW5kbGVDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV2ZW50KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG9uQ2hhbmdlVGV4dCB3aGVuIG9uQ2hhbmdlIHJlY2VpdmVzIHN0cmluZycsICgpID0+IHtcclxuICAgICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gamVzdC5mbigpO1xyXG4gICAgICBjb25zdCBoYW5kbGVDaGFuZ2VUZXh0ID0gamVzdC5mbigpO1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxyXG4gICAgICAgIHVzZVNlYXJjaEJhcih7XHJcbiAgICAgICAgICB2YWx1ZTogJycsXHJcbiAgICAgICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxyXG4gICAgICAgICAgb25DaGFuZ2VUZXh0OiBoYW5kbGVDaGFuZ2VUZXh0LFxyXG4gICAgICAgICAgZGVib3VuY2VNczogMzAwLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUNoYW5nZSgnc3RyaW5nIHZhbHVlJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvY2FsVmFsdWUpLnRvQmUoJ3N0cmluZyB2YWx1ZScpO1xyXG4gICAgICBleHBlY3QoaGFuZGxlQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnc3RyaW5nIHZhbHVlJyk7XHJcbiAgICAgIGV4cGVjdChoYW5kbGVDaGFuZ2VUZXh0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnc3RyaW5nIHZhbHVlJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0RlYm91bmNpbmcnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHVzZSBjdXN0b20gZGVib3VuY2UgZGVsYXknLCAoKSA9PiB7XHJcbiAgICAgIHJlbmRlckhvb2soKCkgPT5cclxuICAgICAgICB1c2VTZWFyY2hCYXIoe1xyXG4gICAgICAgICAgdmFsdWU6ICcnLFxyXG4gICAgICAgICAgb25TZWFyY2g6IGplc3QuZm4oKSxcclxuICAgICAgICAgIGRlYm91bmNlTXM6IDUwMCxcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHVzZURlYm91bmNlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnJywgNTAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdXNlIGRlZmF1bHQgZGVib3VuY2UgZGVsYXknLCAoKSA9PiB7XHJcbiAgICAgIHJlbmRlckhvb2soKCkgPT5cclxuICAgICAgICB1c2VTZWFyY2hCYXIoe1xyXG4gICAgICAgICAgdmFsdWU6ICcnLFxyXG4gICAgICAgICAgb25TZWFyY2g6IGplc3QuZm4oKSxcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHVzZURlYm91bmNlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnJywgMzAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY2FsbCBvblNlYXJjaCB3aGVuIGRlYm91bmNlZCB2YWx1ZSBkaWZmZXJzIGZyb20gcHJvcCB2YWx1ZScsICgpID0+IHtcclxuICAgICAgY29uc3QgaGFuZGxlU2VhcmNoID0gamVzdC5mbigpO1xyXG4gICAgICBsZXQgY3VycmVudFZhbHVlID0gJ2luaXRpYWwnO1xyXG4gICAgICB1c2VEZWJvdW5jZS5tb2NrSW1wbGVtZW50YXRpb24oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgLy8gU2ltdWxhdGUgZGVib3VuY2UgcmV0dXJuaW5nIGEgZGlmZmVyZW50IHZhbHVlXHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCB7IHJlc3VsdCwgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soXHJcbiAgICAgICAgKHByb3BzKSA9PlxyXG4gICAgICAgICAgdXNlU2VhcmNoQmFyKHtcclxuICAgICAgICAgICAgdmFsdWU6IHByb3BzPy52YWx1ZSB8fCAnaW5pdGlhbCcsXHJcbiAgICAgICAgICAgIG9uU2VhcmNoOiBoYW5kbGVTZWFyY2gsXHJcbiAgICAgICAgICAgIGRlYm91bmNlTXM6IDMwMCxcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGluaXRpYWxQcm9wczogeyB2YWx1ZTogJ2luaXRpYWwnIH0sXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gQ2hhbmdlIGxvY2FsIHZhbHVlXHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ2hhbmdlVGV4dCgnbmV3Jyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gU2ltdWxhdGUgZGVib3VuY2UgcmV0dXJuaW5nICduZXcnXHJcbiAgICAgIGN1cnJlbnRWYWx1ZSA9ICduZXcnO1xyXG4gICAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAgIC8vIFRyaWdnZXIgcmVyZW5kZXIgdG8gc2ltdWxhdGUgZGVib3VuY2VkIHZhbHVlIGNoYW5nZVxyXG4gICAgICAgIHJlcmVuZGVyKHsgdmFsdWU6ICdpbml0aWFsJyB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBSZXNldCBtb2NrXHJcbiAgICAgIHVzZURlYm91bmNlLm1vY2tJbXBsZW1lbnRhdGlvbigodmFsdWUpID0+IHZhbHVlKTtcclxuICAgICAgY3VycmVudFZhbHVlID0gJyc7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIG5vdCBjYWxsIG9uU2VhcmNoIHdoZW4gZGVib3VuY2VkIHZhbHVlIGVxdWFscyBwcm9wIHZhbHVlJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBoYW5kbGVTZWFyY2ggPSBqZXN0LmZuKCk7XHJcbiAgICAgIHVzZURlYm91bmNlLm1vY2tJbXBsZW1lbnRhdGlvbigodmFsdWUpID0+IHZhbHVlKTtcclxuXHJcbiAgICAgIHJlbmRlckhvb2soKCkgPT5cclxuICAgICAgICB1c2VTZWFyY2hCYXIoe1xyXG4gICAgICAgICAgdmFsdWU6ICd0ZXN0JyxcclxuICAgICAgICAgIG9uU2VhcmNoOiBoYW5kbGVTZWFyY2gsXHJcbiAgICAgICAgICBkZWJvdW5jZU1zOiAzMDAsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIFNob3VsZCBub3QgY2FsbCBvblNlYXJjaCBpZiBkZWJvdW5jZWQgdmFsdWUgZXF1YWxzIHByb3AgdmFsdWVcclxuICAgICAgZXhwZWN0KGhhbmRsZVNlYXJjaCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG9uQ2hhbmdlIHdpdGggbm9uLXN0cmluZyB2YWx1ZSAobm8gb25DaGFuZ2VUZXh0IGNhbGwpJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBqZXN0LmZuKCk7XHJcbiAgICAgIGNvbnN0IGhhbmRsZUNoYW5nZVRleHQgPSBqZXN0LmZuKCk7XHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XHJcbiAgICAgICAgdXNlU2VhcmNoQmFyKHtcclxuICAgICAgICAgIHZhbHVlOiAnJyxcclxuICAgICAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXHJcbiAgICAgICAgICBvbkNoYW5nZVRleHQ6IGhhbmRsZUNoYW5nZVRleHQsXHJcbiAgICAgICAgICBkZWJvdW5jZU1zOiAzMDAsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIFBhc3MgYSBub24tc3RyaW5nIHZhbHVlIChsaWtlIGEgbnVtYmVyKVxyXG4gICAgICBjb25zdCBldmVudCA9IHsgdGFyZ2V0OiB7IHZhbHVlOiAxMjMgfSB9O1xyXG4gICAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUNoYW5nZShldmVudCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvY2FsVmFsdWUpLnRvQmUoMTIzKTtcclxuICAgICAgZXhwZWN0KGhhbmRsZUNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXZlbnQpO1xyXG4gICAgICAvLyBvbkNoYW5nZVRleHQgc2hvdWxkIG5vdCBiZSBjYWxsZWQgZm9yIG5vbi1zdHJpbmcgdmFsdWVzXHJcbiAgICAgIGV4cGVjdChoYW5kbGVDaGFuZ2VUZXh0KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgb25DaGFuZ2Ugd2l0aG91dCBvbkNoYW5nZSBwcm9wJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBoYW5kbGVDaGFuZ2VUZXh0ID0gamVzdC5mbigpO1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxyXG4gICAgICAgIHVzZVNlYXJjaEJhcih7XHJcbiAgICAgICAgICB2YWx1ZTogJycsXHJcbiAgICAgICAgICBvbkNoYW5nZVRleHQ6IGhhbmRsZUNoYW5nZVRleHQsXHJcbiAgICAgICAgICBkZWJvdW5jZU1zOiAzMDAsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IGV2ZW50ID0geyB0YXJnZXQ6IHsgdmFsdWU6ICd0ZXN0JyB9IH07XHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ2hhbmdlKGV2ZW50KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubG9jYWxWYWx1ZSkudG9CZSgndGVzdCcpO1xyXG4gICAgICBleHBlY3QoaGFuZGxlQ2hhbmdlVGV4dCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3Rlc3QnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdXNlIGRlZmF1bHQgdmFsdWUgcGFyYW1ldGVyJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxyXG4gICAgICAgIHVzZVNlYXJjaEJhcih7XHJcbiAgICAgICAgICAvLyB2YWx1ZSBub3QgcHJvdmlkZWQsIHNob3VsZCBkZWZhdWx0IHRvICcnXHJcbiAgICAgICAgICBkZWJvdW5jZU1zOiAzMDAsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2NhbFZhbHVlKS50b0JlKCcnKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmhhc1ZhbHVlKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBY0FBLFdBQUEsR0FBS0MsSUFBSSxzQkFBVztFQUFBLE9BQU87SUFDekJDLFdBQVcsRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsVUFBQ0MsS0FBSztNQUFBLE9BQUtBLEtBQUs7SUFBQSxFQUFDO0lBQ3RDQyxPQUFPLEVBQUVILElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQ25CLENBQUM7QUFBQSxDQUFDLENBQUM7QUFBQyxJQUFBRyxzQkFBQSxHQUFBQyxPQUFBLGlEQUFBQyxPQUFBO0FBWEosSUFBQUMsTUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLGFBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLE1BQUEsR0FBQUwsT0FBQTtBQUFxQyxJQUFBTSxXQUFBLEdBQUFOLE9BQUE7QUFBQSxTQUFBUixZQUFBO0VBQUEsSUFBQWUsUUFBQSxHQUFBUCxPQUFBO0lBQUFMLElBQUEsR0FBQVksUUFBQSxDQUFBWixJQUFBO0VBQUFILFdBQUEsWUFBQUEsWUFBQTtJQUFBLE9BQUFHLElBQUE7RUFBQTtFQUFBLE9BQUFBLElBQUE7QUFBQTtBQUVyQyxJQUFNYSxHQUFHLEdBQUdDLDBCQUFZLENBQUNELEdBQUc7QUFTNUIsSUFBTUUsVUFBVSxHQUFHLFNBQWJBLFVBQVVBLENB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