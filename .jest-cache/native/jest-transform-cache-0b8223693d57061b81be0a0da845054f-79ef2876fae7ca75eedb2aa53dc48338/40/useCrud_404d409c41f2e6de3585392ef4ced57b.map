{"version":3,"names":["_react","require","_useAsyncState","_interopRequireDefault","cov_18kc2ir1fi","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","_coverageSchema","coverage","actualCoverage","useCrud","actions","arguments","length","_ref","useAsyncState","isLoading","errorCode","data","succeed","fail","reset","run","useCallback","_ref2","_asyncToGenerator2","default","action","_len","args","Array","_key","result","apply","error","code","_x","boundActions","useMemo","Object","entries","reduce","acc","_ref3","_ref4","_slicedToArray2","key","_len2","_key2","concat","assign","_default","exports"],"sources":["useCrud.js"],"sourcesContent":["/**\r\n * useCrud Hook\r\n * Standard async CRUD wrapper for feature usecases\r\n * File: useCrud.js\r\n */\r\nimport { useCallback, useMemo } from 'react';\r\nimport useAsyncState from '@hooks/useAsyncState';\r\n\r\nconst useCrud = (actions = {}) => {\r\n  const { isLoading, errorCode, data, start, succeed, fail, reset } = useAsyncState();\r\n\r\n  const run = useCallback(\r\n    async (action, ...args) => {\r\n      start();\r\n      try {\r\n        const result = await action(...args);\r\n        succeed(result);\r\n        return result;\r\n      } catch (error) {\r\n        fail(error?.code);\r\n        throw error;\r\n      }\r\n    },\r\n    [start, succeed, fail]\r\n  );\r\n\r\n  const boundActions = useMemo(() => {\r\n    return Object.entries(actions || {}).reduce((acc, [key, action]) => {\r\n      if (typeof action !== 'function') return acc;\r\n      acc[key] = (...args) => run(action, ...args);\r\n      return acc;\r\n    }, {});\r\n  }, [actions, run]);\r\n\r\n  return {\r\n    isLoading,\r\n    errorCode,\r\n    data,\r\n    reset,\r\n    ...boundActions,\r\n  };\r\n};\r\n\r\nexport default useCrud;\r\n"],"mappings":"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","ignoreList":[]}