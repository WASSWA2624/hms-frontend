{"version":3,"names":["z","idSchema","cov_2pfr5vml3v","s","union","string","min","number","int","nonnegative","payloadSchema","object","passthrough","listParamsSchema","page","positive","optional","limit","sort_by","order","enum","createCrudRules","f","parseId","value","parse","parsePayload","_ref","b","parseListParams","_ref2"],"sources":["crudRules.js"],"sourcesContent":["/**\r\n * CRUD Rules Factory\r\n * Shared validation for CRUD features\r\n * File: crudRules.js\r\n */\r\nimport { z } from 'zod';\r\n\r\nconst idSchema = z.union([z.string().min(1), z.number().int().nonnegative()]);\r\nconst payloadSchema = z.object({}).passthrough();\r\nconst listParamsSchema = z\r\n  .object({\r\n    page: z.number().int().positive().optional(),\r\n    limit: z.number().int().positive().optional(),\r\n    sort_by: z.string().min(1).optional(),\r\n    order: z.enum(['asc', 'desc']).optional(),\r\n  })\r\n  .passthrough();\r\n\r\nconst createCrudRules = () => ({\r\n  parseId: (value) => idSchema.parse(value),\r\n  parsePayload: (value) => payloadSchema.parse(value ?? {}),\r\n  parseListParams: (value) => listParamsSchema.parse(value ?? {}),\r\n});\r\n\r\nexport { createCrudRules };\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,SAASA,CAAC,QAAQ,KAAK;AAEvB,IAAMC,QAAQ,IAAAC,cAAA,GAAAC,CAAA,OAAGH,CAAC,CAACI,KAAK,CAAC,CAACJ,CAAC,CAACK,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC,EAAEN,CAAC,CAACO,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,CAAC;AAC7E,IAAMC,aAAa,IAAAR,cAAA,GAAAC,CAAA,OAAGH,CAAC,CAACW,MAAM,CAAC,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;AAChD,IAAMC,gBAAgB,IAAAX,cAAA,GAAAC,CAAA,OAAGH,CAAC,CACvBW,MAAM,CAAC;EACNG,IAAI,EAAEd,CAAC,CAACO,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAACO,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAC5CC,KAAK,EAAEjB,CAAC,CAACO,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAACO,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAC7CE,OAAO,EAAElB,CAAC,CAACK,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC,CAACU,QAAQ,CAAC,CAAC;EACrCG,KAAK,EAAEnB,CAAC,CAACoB,IAAI,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAACJ,QAAQ,CAAC;AAC1C,CAAC,CAAC,CACDJ,WAAW,CAAC,CAAC;AAACV,cAAA,GAAAC,CAAA;AAEjB,IAAMkB,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAU;EAAAnB,cAAA,GAAAoB,CAAA;EAAApB,cAAA,GAAAC,CAAA;EAAA;IAC7BoB,OAAO,EAAE,SAATA,OAAOA,CAAGC,KAAK,EAAK;MAAAtB,cAAA,GAAAoB,CAAA;MAAApB,cAAA,GAAAC,CAAA;MAAA,OAAAF,QAAQ,CAACwB,KAAK,CAACD,KAAK,CAAC;IAAD,CAAC;IACzCE,YAAY,EAAE,SAAdA,YAAYA,CAAGF,KAAK,EAAK;MAAA,IAAAG,IAAA;MAAAzB,cAAA,GAAAoB,CAAA;MAAApB,cAAA,GAAAC,CAAA;MAAA,OAAAO,aAAa,CAACe,KAAK,EAAAE,IAAA,IAAAzB,cAAA,GAAA0B,CAAA,UAACJ,KAAK,aAAAG,IAAA,IAAAzB,cAAA,GAAA0B,CAAA,UAAI,CAAC,CAAC,EAAC;IAAD,CAAC;IACzDC,eAAe,EAAE,SAAjBA,eAAeA,CAAGL,KAAK,EAAK;MAAA,IAAAM,KAAA;MAAA5B,cAAA,GAAAoB,CAAA;MAAApB,cAAA,GAAAC,CAAA;MAAA,OAAAU,gBAAgB,CAACY,KAAK,EAAAK,KAAA,IAAA5B,cAAA,GAAA0B,CAAA,UAACJ,KAAK,aAAAM,KAAA,IAAA5B,cAAA,GAAA0B,CAAA,UAAI,CAAC,CAAC,EAAC;IAAD;EAChE,CAAC;AAAD,CAAE;AAEF,SAASP,eAAe","ignoreList":[]}