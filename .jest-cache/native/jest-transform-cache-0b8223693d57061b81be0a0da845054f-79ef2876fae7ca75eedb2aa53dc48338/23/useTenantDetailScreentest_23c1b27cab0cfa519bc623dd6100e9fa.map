{"version":3,"names":["_getJestObj","mock","useI18n","jest","fn","t","k","useNetwork","isOffline","useTenant","useRouter","push","mockPush","useLocalSearchParams","id","_interopRequireDefault","require","default","_asyncToGenerator2","_require2","_require","renderHook","act","useTenantDetailScreen","describe","mockGet","mockRemove","mockReset","beforeEach","clearAllMocks","mockReturnValue","get","remove","data","name","isLoading","errorCode","reset","it","_renderHook","result","expect","current","tenant","toEqual","onRetry","toBe","onBack","onDelete","toHaveBeenCalled","toHaveBeenCalledWith","_renderHook2","mockClear","_renderHook3","_renderHook4","hasError","errorMessage","toBeDefined","mockResolvedValue","undefined","_renderHook5","mockRejectedValue","Error","_renderHook6","_renderHook7","toBeNull","_renderHook8"],"sources":["useTenantDetailScreen.test.js"],"sourcesContent":["/**\r\n * useTenantDetailScreen Hook Tests\r\n */\r\nconst { renderHook, act } = require('@testing-library/react-native');\r\nconst useTenantDetailScreen = require('@platform/screens/settings/TenantDetailScreen/useTenantDetailScreen').default;\r\n\r\nconst mockPush = jest.fn();\r\njest.mock('@hooks', () => ({\r\n  useI18n: jest.fn(() => ({ t: (k) => k })),\r\n  useNetwork: jest.fn(() => ({ isOffline: false })),\r\n  useTenant: jest.fn(),\r\n}));\r\n\r\njest.mock('expo-router', () => ({\r\n  useRouter: () => ({ push: mockPush }),\r\n  useLocalSearchParams: () => ({ id: 'tid-1' }),\r\n}));\r\n\r\nconst useTenant = require('@hooks').useTenant;\r\n\r\ndescribe('useTenantDetailScreen', () => {\r\n  const mockGet = jest.fn();\r\n  const mockRemove = jest.fn();\r\n  const mockReset = jest.fn();\r\n\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    useTenant.mockReturnValue({\r\n      get: mockGet,\r\n      remove: mockRemove,\r\n      data: { id: 'tid-1', name: 'Test Tenant' },\r\n      isLoading: false,\r\n      errorCode: null,\r\n      reset: mockReset,\r\n    });\r\n  });\r\n\r\n  it('returns tenant, handlers, and state', () => {\r\n    const { result } = renderHook(() => useTenantDetailScreen());\r\n    expect(result.current.tenant).toEqual({ id: 'tid-1', name: 'Test Tenant' });\r\n    expect(typeof result.current.onRetry).toBe('function');\r\n    expect(typeof result.current.onBack).toBe('function');\r\n    expect(typeof result.current.onDelete).toBe('function');\r\n  });\r\n\r\n  it('calls get on mount with id', () => {\r\n    renderHook(() => useTenantDetailScreen());\r\n    expect(mockReset).toHaveBeenCalled();\r\n    expect(mockGet).toHaveBeenCalledWith('tid-1');\r\n  });\r\n\r\n  it('onRetry calls fetchDetail', () => {\r\n    const { result } = renderHook(() => useTenantDetailScreen());\r\n    mockReset.mockClear();\r\n    mockGet.mockClear();\r\n    result.current.onRetry();\r\n    expect(mockReset).toHaveBeenCalled();\r\n    expect(mockGet).toHaveBeenCalledWith('tid-1');\r\n  });\r\n\r\n  it('onBack pushes route to list', () => {\r\n    mockPush.mockClear();\r\n    const { result } = renderHook(() => useTenantDetailScreen());\r\n    result.current.onBack();\r\n    expect(mockPush).toHaveBeenCalledWith('/settings/tenants');\r\n  });\r\n\r\n  it('exposes errorMessage when errorCode set', () => {\r\n    useTenant.mockReturnValue({\r\n      get: mockGet,\r\n      remove: mockRemove,\r\n      data: null,\r\n      isLoading: false,\r\n      errorCode: 'TENANT_NOT_FOUND',\r\n      reset: mockReset,\r\n    });\r\n    const { result } = renderHook(() => useTenantDetailScreen());\r\n    expect(result.current.hasError).toBe(true);\r\n    expect(result.current.errorMessage).toBeDefined();\r\n  });\r\n\r\n  it('onDelete calls remove then onBack', async () => {\r\n    mockRemove.mockResolvedValue(undefined);\r\n    mockPush.mockClear();\r\n    const { result } = renderHook(() => useTenantDetailScreen());\r\n    await act(async () => {\r\n      await result.current.onDelete();\r\n    });\r\n    expect(mockRemove).toHaveBeenCalledWith('tid-1');\r\n    expect(mockPush).toHaveBeenCalledWith('/settings/tenants');\r\n  });\r\n\r\n  it('onDelete does not throw when remove rejects', async () => {\r\n    mockRemove.mockRejectedValue(new Error('remove failed'));\r\n    const { result } = renderHook(() => useTenantDetailScreen());\r\n    await act(async () => {\r\n      await result.current.onDelete();\r\n    });\r\n    expect(mockRemove).toHaveBeenCalledWith('tid-1');\r\n  });\r\n\r\n  it('handles null tenant when data is null', () => {\r\n    useTenant.mockReturnValue({\r\n      get: mockGet,\r\n      remove: mockRemove,\r\n      data: null,\r\n      isLoading: false,\r\n      errorCode: null,\r\n      reset: mockReset,\r\n    });\r\n    const { result } = renderHook(() => useTenantDetailScreen());\r\n    expect(result.current.tenant).toBeNull();\r\n  });\r\n\r\n  it('handles null tenant when data is array', () => {\r\n    useTenant.mockReturnValue({\r\n      get: mockGet,\r\n      remove: mockRemove,\r\n      data: [],\r\n      isLoading: false,\r\n      errorCode: null,\r\n      reset: mockReset,\r\n    });\r\n    const { result } = renderHook(() => useTenantDetailScreen());\r\n    expect(result.current.tenant).toBeNull();\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}