{"version":3,"names":["_react","require","STORAGE_KEY","DEFAULT_WIDTH","MIN_WIDTH","MAX_WIDTH","clamp","v","min","max","Math","Number","useSettingsSidebarResize","_useState","useState","window","stored","localStorage","getItem","_unused","_useState2","_slicedToArray2","default","width","setWidth","useEffect","setItem","String","_unused2","handleResizeStart","useCallback","e","preventDefault","stopPropagation","startX","clientX","startW","onMove","moveEvent","delta","w","onUp","document","removeEventListener","addEventListener","handleResizeKeyDown","key","sidebarWidth","sidebarMinWidth","sidebarMaxWidth"],"sources":["useSettingsSidebarResize.js"],"sourcesContent":["/**\r\n * useSettingsSidebarResize Hook\r\n * Web: resizable settings sidebar width with localStorage persistence.\r\n * Per component-structure.mdc: logic in hooks\r\n */\r\nimport { useState, useCallback, useEffect } from 'react';\r\n\r\nconst STORAGE_KEY = 'hms-settings-sidebar-width';\r\nconst DEFAULT_WIDTH = 220;\r\nconst MIN_WIDTH = 160;\r\nconst MAX_WIDTH = 320;\r\n\r\nconst clamp = (v, min, max) => Math.min(Math.max(Number(v), min), max);\r\n\r\nexport default function useSettingsSidebarResize() {\r\n  const [width, setWidth] = useState(() => {\r\n    if (typeof window === 'undefined') return DEFAULT_WIDTH;\r\n    try {\r\n      const stored = window.localStorage.getItem(STORAGE_KEY);\r\n      return stored ? clamp(Number(stored), MIN_WIDTH, MAX_WIDTH) : DEFAULT_WIDTH;\r\n    } catch {\r\n      return DEFAULT_WIDTH;\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    try {\r\n      window.localStorage.setItem(STORAGE_KEY, String(width));\r\n    } catch {\r\n      /* ignore */\r\n    }\r\n  }, [width]);\r\n\r\n  const handleResizeStart = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const startX = e.clientX;\r\n    const startW = width;\r\n    const onMove = (moveEvent) => {\r\n      const delta = moveEvent.clientX - startX;\r\n      setWidth((w) => clamp(startW + delta, MIN_WIDTH, MAX_WIDTH));\r\n    };\r\n    const onUp = () => {\r\n      document.removeEventListener('mousemove', onMove);\r\n      document.removeEventListener('mouseup', onUp);\r\n    };\r\n    document.addEventListener('mousemove', onMove);\r\n    document.addEventListener('mouseup', onUp);\r\n  }, [width]);\r\n\r\n  const handleResizeKeyDown = useCallback((e) => {\r\n    if (e.key === 'ArrowLeft') {\r\n      e.preventDefault();\r\n      setWidth((w) => clamp(w - 12, MIN_WIDTH, MAX_WIDTH));\r\n    } else if (e.key === 'ArrowRight') {\r\n      e.preventDefault();\r\n      setWidth((w) => clamp(w + 12, MIN_WIDTH, MAX_WIDTH));\r\n    }\r\n  }, []);\r\n\r\n  return {\r\n    sidebarWidth: width,\r\n    sidebarMinWidth: MIN_WIDTH,\r\n    sidebarMaxWidth: MAX_WIDTH,\r\n    handleResizeStart,\r\n    handleResizeKeyDown,\r\n  };\r\n}\r\n"],"mappings":"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","ignoreList":[]}