{"version":3,"names":["useEffect","FOCUSABLE_SELECTOR","cov_1wsatzfjq1","s","getFocusableElements","container","f","b","Array","from","querySelectorAll","filter","element","hasAttribute","getAttribute","useFocusTrap","containerRef","isActive","options","arguments","length","undefined","_ref","initialFocusRef","document","current","focusInitial","focusTarget","focus","handleKeyDown","event","key","focusableElements","firstElement","lastElement","isShift","shiftKey","activeElement","preventDefault","addEventListener","removeEventListener"],"sources":["useFocusTrap.js"],"sourcesContent":["/**\r\n * useFocusTrap Hook\r\n * Traps keyboard focus within a container while active.\r\n * File: useFocusTrap.js\r\n */\r\nimport { useEffect } from 'react';\r\n\r\nconst FOCUSABLE_SELECTOR =\r\n  'a[href],button:not([disabled]),textarea,input,select,[tabindex]:not([tabindex=\"-1\"])';\r\n\r\nconst getFocusableElements = (container) => {\r\n  if (!container) return [];\r\n  return Array.from(container.querySelectorAll(FOCUSABLE_SELECTOR)).filter((element) => {\r\n    return !element.hasAttribute('disabled') && element.getAttribute('aria-hidden') !== 'true';\r\n  });\r\n};\r\n\r\nconst useFocusTrap = (containerRef, isActive, options = {}) => {\r\n  const { initialFocusRef } = options;\r\n\r\n  useEffect(() => {\r\n    if (!isActive || typeof document === 'undefined') return undefined;\r\n    const container = containerRef?.current;\r\n    if (!container) return undefined;\r\n\r\n    const focusInitial = () => {\r\n      const focusTarget = initialFocusRef?.current || getFocusableElements(container)[0];\r\n      if (focusTarget && typeof focusTarget.focus === 'function') {\r\n        focusTarget.focus();\r\n      }\r\n    };\r\n\r\n    const handleKeyDown = (event) => {\r\n      if (event.key !== 'Tab') return;\r\n      const focusableElements = getFocusableElements(container);\r\n      if (focusableElements.length === 0) return;\r\n\r\n      const firstElement = focusableElements[0];\r\n      const lastElement = focusableElements[focusableElements.length - 1];\r\n      const isShift = event.shiftKey;\r\n      const activeElement = document.activeElement;\r\n\r\n      if (isShift && activeElement === firstElement) {\r\n        event.preventDefault();\r\n        lastElement.focus();\r\n      } else if (!isShift && activeElement === lastElement) {\r\n        event.preventDefault();\r\n        firstElement.focus();\r\n      }\r\n    };\r\n\r\n    focusInitial();\r\n    container.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => {\r\n      container.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [containerRef, initialFocusRef, isActive]);\r\n};\r\n\r\nexport default useFocusTrap;\r\n"],"mappings":"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","ignoreList":[]}