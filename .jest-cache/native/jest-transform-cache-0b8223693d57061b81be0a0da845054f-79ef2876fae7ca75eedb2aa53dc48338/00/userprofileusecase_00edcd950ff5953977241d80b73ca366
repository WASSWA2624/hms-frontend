2132363a85e329e6a829cbb03d5f5c5e
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.updateUserProfile = exports.listUserProfiles = exports.getUserProfile = exports.deleteUserProfile = exports.createUserProfile = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _errors = require("../../errors");
var _userProfile = require("./user-profile.api");
var _userProfile2 = require("./user-profile.model");
var _userProfile3 = require("./user-profile.rules");
var execute = function () {
  var _ref = (0, _asyncToGenerator2.default)(function* (work) {
    try {
      return yield work();
    } catch (error) {
      throw (0, _errors.handleError)(error);
    }
  });
  return function execute(_x) {
    return _ref.apply(this, arguments);
  };
}();
var listUserProfiles = exports.listUserProfiles = function () {
  var _ref2 = (0, _asyncToGenerator2.default)(function* () {
    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    return execute((0, _asyncToGenerator2.default)(function* () {
      var parsed = (0, _userProfile3.parseUserProfileListParams)(params);
      var response = yield _userProfile.userProfileApi.list(parsed);
      return (0, _userProfile2.normalizeUserProfileList)(response.data);
    }));
  });
  return function listUserProfiles() {
    return _ref2.apply(this, arguments);
  };
}();
var getUserProfile = exports.getUserProfile = function () {
  var _ref4 = (0, _asyncToGenerator2.default)(function* (id) {
    return execute((0, _asyncToGenerator2.default)(function* () {
      var parsedId = (0, _userProfile3.parseUserProfileId)(id);
      var response = yield _userProfile.userProfileApi.get(parsedId);
      return (0, _userProfile2.normalizeUserProfile)(response.data);
    }));
  });
  return function getUserProfile(_x2) {
    return _ref4.apply(this, arguments);
  };
}();
var createUserProfile = exports.createUserProfile = function () {
  var _ref6 = (0, _asyncToGenerator2.default)(function* (payload) {
    return execute((0, _asyncToGenerator2.default)(function* () {
      var parsed = (0, _userProfile3.parseUserProfilePayload)(payload);
      var response = yield _userProfile.userProfileApi.create(parsed);
      return (0, _userProfile2.normalizeUserProfile)(response.data);
    }));
  });
  return function createUserProfile(_x3) {
    return _ref6.apply(this, arguments);
  };
}();
var updateUserProfile = exports.updateUserProfile = function () {
  var _ref8 = (0, _asyncToGenerator2.default)(function* (id, payload) {
    return execute((0, _asyncToGenerator2.default)(function* () {
      var parsedId = (0, _userProfile3.parseUserProfileId)(id);
      var parsed = (0, _userProfile3.parseUserProfilePayload)(payload);
      var response = yield _userProfile.userProfileApi.update(parsedId, parsed);
      return (0, _userProfile2.normalizeUserProfile)(response.data);
    }));
  });
  return function updateUserProfile(_x4, _x5) {
    return _ref8.apply(this, arguments);
  };
}();
var deleteUserProfile = exports.deleteUserProfile = function () {
  var _ref0 = (0, _asyncToGenerator2.default)(function* (id) {
    return execute((0, _asyncToGenerator2.default)(function* () {
      var parsedId = (0, _userProfile3.parseUserProfileId)(id);
      var response = yield _userProfile.userProfileApi.remove(parsedId);
      return (0, _userProfile2.normalizeUserProfile)(response.data);
    }));
  });
  return function deleteUserProfile(_x6) {
    return _ref0.apply(this, arguments);
  };
}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXJyb3JzIiwicmVxdWlyZSIsIl91c2VyUHJvZmlsZSIsIl91c2VyUHJvZmlsZTIiLCJfdXNlclByb2ZpbGUzIiwiZXhlY3V0ZSIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJkZWZhdWx0Iiwid29yayIsImVycm9yIiwiaGFuZGxlRXJyb3IiLCJfeCIsImFwcGx5IiwiYXJndW1lbnRzIiwibGlzdFVzZXJQcm9maWxlcyIsImV4cG9ydHMiLCJfcmVmMiIsInBhcmFtcyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInBhcnNlZCIsInBhcnNlVXNlclByb2ZpbGVMaXN0UGFyYW1zIiwicmVzcG9uc2UiLCJ1c2VyUHJvZmlsZUFwaSIsImxpc3QiLCJub3JtYWxpemVVc2VyUHJvZmlsZUxpc3QiLCJkYXRhIiwiZ2V0VXNlclByb2ZpbGUiLCJfcmVmNCIsImlkIiwicGFyc2VkSWQiLCJwYXJzZVVzZXJQcm9maWxlSWQiLCJnZXQiLCJub3JtYWxpemVVc2VyUHJvZmlsZSIsIl94MiIsImNyZWF0ZVVzZXJQcm9maWxlIiwiX3JlZjYiLCJwYXlsb2FkIiwicGFyc2VVc2VyUHJvZmlsZVBheWxvYWQiLCJjcmVhdGUiLCJfeDMiLCJ1cGRhdGVVc2VyUHJvZmlsZSIsIl9yZWY4IiwidXBkYXRlIiwiX3g0IiwiX3g1IiwiZGVsZXRlVXNlclByb2ZpbGUiLCJfcmVmMCIsInJlbW92ZSIsIl94NiJdLCJzb3VyY2VzIjpbInVzZXItcHJvZmlsZS51c2VjYXNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBVc2VyIFByb2ZpbGUgVXNlIENhc2VzXHJcbiAqIEZpbGU6IHVzZXItcHJvZmlsZS51c2VjYXNlLmpzXHJcbiAqL1xyXG5pbXBvcnQgeyBoYW5kbGVFcnJvciB9IGZyb20gJ0BlcnJvcnMnO1xyXG5pbXBvcnQgeyB1c2VyUHJvZmlsZUFwaSB9IGZyb20gJy4vdXNlci1wcm9maWxlLmFwaSc7XHJcbmltcG9ydCB7IG5vcm1hbGl6ZVVzZXJQcm9maWxlLCBub3JtYWxpemVVc2VyUHJvZmlsZUxpc3QgfSBmcm9tICcuL3VzZXItcHJvZmlsZS5tb2RlbCc7XHJcbmltcG9ydCB7XHJcbiAgcGFyc2VVc2VyUHJvZmlsZUlkLFxyXG4gIHBhcnNlVXNlclByb2ZpbGVMaXN0UGFyYW1zLFxyXG4gIHBhcnNlVXNlclByb2ZpbGVQYXlsb2FkLFxyXG59IGZyb20gJy4vdXNlci1wcm9maWxlLnJ1bGVzJztcclxuXHJcbmNvbnN0IGV4ZWN1dGUgPSBhc3luYyAod29yaykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgd29yaygpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBoYW5kbGVFcnJvcihlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgbGlzdFVzZXJQcm9maWxlcyA9IGFzeW5jIChwYXJhbXMgPSB7fSkgPT5cclxuICBleGVjdXRlKGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlVXNlclByb2ZpbGVMaXN0UGFyYW1zKHBhcmFtcyk7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHVzZXJQcm9maWxlQXBpLmxpc3QocGFyc2VkKTtcclxuICAgIHJldHVybiBub3JtYWxpemVVc2VyUHJvZmlsZUxpc3QocmVzcG9uc2UuZGF0YSk7XHJcbiAgfSk7XHJcblxyXG5jb25zdCBnZXRVc2VyUHJvZmlsZSA9IGFzeW5jIChpZCkgPT5cclxuICBleGVjdXRlKGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHBhcnNlZElkID0gcGFyc2VVc2VyUHJvZmlsZUlkKGlkKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdXNlclByb2ZpbGVBcGkuZ2V0KHBhcnNlZElkKTtcclxuICAgIHJldHVybiBub3JtYWxpemVVc2VyUHJvZmlsZShyZXNwb25zZS5kYXRhKTtcclxuICB9KTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVzZXJQcm9maWxlID0gYXN5bmMgKHBheWxvYWQpID0+XHJcbiAgZXhlY3V0ZShhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZVVzZXJQcm9maWxlUGF5bG9hZChwYXlsb2FkKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdXNlclByb2ZpbGVBcGkuY3JlYXRlKHBhcnNlZCk7XHJcbiAgICByZXR1cm4gbm9ybWFsaXplVXNlclByb2ZpbGUocmVzcG9uc2UuZGF0YSk7XHJcbiAgfSk7XHJcblxyXG5jb25zdCB1cGRhdGVVc2VyUHJvZmlsZSA9IGFzeW5jIChpZCwgcGF5bG9hZCkgPT5cclxuICBleGVjdXRlKGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHBhcnNlZElkID0gcGFyc2VVc2VyUHJvZmlsZUlkKGlkKTtcclxuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlVXNlclByb2ZpbGVQYXlsb2FkKHBheWxvYWQpO1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB1c2VyUHJvZmlsZUFwaS51cGRhdGUocGFyc2VkSWQsIHBhcnNlZCk7XHJcbiAgICByZXR1cm4gbm9ybWFsaXplVXNlclByb2ZpbGUocmVzcG9uc2UuZGF0YSk7XHJcbiAgfSk7XHJcblxyXG5jb25zdCBkZWxldGVVc2VyUHJvZmlsZSA9IGFzeW5jIChpZCkgPT5cclxuICBleGVjdXRlKGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHBhcnNlZElkID0gcGFyc2VVc2VyUHJvZmlsZUlkKGlkKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdXNlclByb2ZpbGVBcGkucmVtb3ZlKHBhcnNlZElkKTtcclxuICAgIHJldHVybiBub3JtYWxpemVVc2VyUHJvZmlsZShyZXNwb25zZS5kYXRhKTtcclxuICB9KTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgbGlzdFVzZXJQcm9maWxlcyxcclxuICBnZXRVc2VyUHJvZmlsZSxcclxuICBjcmVhdGVVc2VyUHJvZmlsZSxcclxuICB1cGRhdGVVc2VyUHJvZmlsZSxcclxuICBkZWxldGVVc2VyUHJvZmlsZSxcclxufTtcclxu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