{"version":3,"names":["_auth","require","describe","it","expect","parseCredentials","email","password","tenant_id","toEqual","facility_id","phone","parseAuthPayload","token","toThrow"],"sources":["auth.rules.test.js"],"sourcesContent":["/**\r\n * Auth Rules Tests\r\n * File: auth.rules.test.js\r\n */\r\nimport { parseAuthPayload, parseCredentials } from '@features/auth';\r\n\r\ndescribe('auth.rules', () => {\r\n  it('parses credentials and payloads', () => {\r\n    expect(parseCredentials({ email: 'user@example.com', password: 'pass', tenant_id: '550e8400-e29b-41d4-a716-446655440000' })).toEqual({\r\n      email: 'user@example.com',\r\n      password: 'pass',\r\n      tenant_id: '550e8400-e29b-41d4-a716-446655440000',\r\n    });\r\n    expect(parseCredentials({\r\n      email: 'user@example.com',\r\n      password: 'pass',\r\n      tenant_id: '550e8400-e29b-41d4-a716-446655440000',\r\n      facility_id: '550e8400-e29b-41d4-a716-446655440001'\r\n    })).toEqual({\r\n      email: 'user@example.com',\r\n      password: 'pass',\r\n      tenant_id: '550e8400-e29b-41d4-a716-446655440000',\r\n      facility_id: '550e8400-e29b-41d4-a716-446655440001'\r\n    });\r\n    expect(parseCredentials({ phone: '256701234567', password: 'pass', tenant_id: '550e8400-e29b-41d4-a716-446655440000' })).toEqual({\r\n      phone: '256701234567',\r\n      password: 'pass',\r\n      tenant_id: '550e8400-e29b-41d4-a716-446655440000',\r\n    });\r\n    expect(parseAuthPayload({ token: 'abc' })).toEqual({ token: 'abc' });\r\n  });\r\n\r\n  it('rejects credentials without identifier', () => {\r\n    expect(() => parseCredentials({ password: 'pass', tenant_id: '550e8400-e29b-41d4-a716-446655440000' })).toThrow('identifier_required');\r\n  });\r\n\r\n  it('rejects phone numbers with plus sign', () => {\r\n    expect(() => parseCredentials({ phone: '+256701234567', password: 'pass', tenant_id: '550e8400-e29b-41d4-a716-446655440000' })).toThrow();\r\n  });\r\n});\r\n"],"mappings":"AAIA,IAAAA,KAAA,GAAAC,OAAA;AAEAC,QAAQ,CAAC,YAAY,EAAE,YAAM;EAC3BC,EAAE,CAAC,iCAAiC,EAAE,YAAM;IAC1CC,MAAM,CAAC,IAAAC,sBAAgB,EAAC;MAAEC,KAAK,EAAE,kBAAkB;MAAEC,QAAQ,EAAE,MAAM;MAAEC,SAAS,EAAE;IAAuC,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC;MACnIH,KAAK,EAAE,kBAAkB;MACzBC,QAAQ,EAAE,MAAM;MAChBC,SAAS,EAAE;IACb,CAAC,CAAC;IACFJ,MAAM,CAAC,IAAAC,sBAAgB,EAAC;MACtBC,KAAK,EAAE,kBAAkB;MACzBC,QAAQ,EAAE,MAAM;MAChBC,SAAS,EAAE,sCAAsC;MACjDE,WAAW,EAAE;IACf,CAAC,CAAC,CAAC,CAACD,OAAO,CAAC;MACVH,KAAK,EAAE,kBAAkB;MACzBC,QAAQ,EAAE,MAAM;MAChBC,SAAS,EAAE,sCAAsC;MACjDE,WAAW,EAAE;IACf,CAAC,CAAC;IACFN,MAAM,CAAC,IAAAC,sBAAgB,EAAC;MAAEM,KAAK,EAAE,cAAc;MAAEJ,QAAQ,EAAE,MAAM;MAAEC,SAAS,EAAE;IAAuC,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC;MAC/HE,KAAK,EAAE,cAAc;MACrBJ,QAAQ,EAAE,MAAM;MAChBC,SAAS,EAAE;IACb,CAAC,CAAC;IACFJ,MAAM,CAAC,IAAAQ,sBAAgB,EAAC;MAAEC,KAAK,EAAE;IAAM,CAAC,CAAC,CAAC,CAACJ,OAAO,CAAC;MAAEI,KAAK,EAAE;IAAM,CAAC,CAAC;EACtE,CAAC,CAAC;EAEFV,EAAE,CAAC,wCAAwC,EAAE,YAAM;IACjDC,MAAM,CAAC;MAAA,OAAM,IAAAC,sBAAgB,EAAC;QAAEE,QAAQ,EAAE,MAAM;QAAEC,SAAS,EAAE;MAAuC,CAAC,CAAC;IAAA,EAAC,CAACM,OAAO,CAAC,qBAAqB,CAAC;EACxI,CAAC,CAAC;EAEFX,EAAE,CAAC,sCAAsC,EAAE,YAAM;IAC/CC,MAAM,CAAC;MAAA,OAAM,IAAAC,sBAAgB,EAAC;QAAEM,KAAK,EAAE,eAAe;QAAEJ,QAAQ,EAAE,MAAM;QAAEC,SAAS,EAAE;MAAuC,CAAC,CAAC;IAAA,EAAC,CAACM,OAAO,CAAC,CAAC;EAC3I,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}