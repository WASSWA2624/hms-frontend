{"version":3,"names":["_react","require","_expoRouter","_hooks","_sideMenu","_guards","_types","_components","_jsxRuntime","usePatientRouteLayout","useAuthGuard","_useI18n","useI18n","t","router","useRouter","_useAuth","useAuth","isAuthenticated","logout","_useUiState","useUiState","isLoading","_useNavigationVisibil","useNavigationVisibility","isItemVisible","patientItems","PATIENT_MENU_ITEMS","headerActions","useMemo","id","label","accessibilityLabel","onPress","variant","ACTION_VARIANTS","GHOST","push","PRIMARY","overlaySlot","jsx","LoadingOverlay","visible","testID","_default","exports","default"],"sources":["usePatientRouteLayout.js"],"sourcesContent":["/**\r\n * usePatientRouteLayout Hook\r\n * Shared logic for PatientRouteLayout (header actions, overlay, nav items)\r\n * File: usePatientRouteLayout.js\r\n */\r\n\r\nimport { useMemo } from 'react';\r\nimport { useRouter } from 'expo-router';\r\nimport { useAuth, useI18n, useNavigationVisibility, useUiState } from '@hooks';\r\nimport { PATIENT_MENU_ITEMS } from '@config/sideMenu';\r\nimport { useAuthGuard } from '@navigation/guards';\r\nimport { ACTION_VARIANTS } from '@platform/components/navigation/GlobalHeader/types';\r\nimport { LoadingOverlay } from '@platform/components';\r\n\r\n/**\r\n * Shared hook for PatientRouteLayout (all platforms)\r\n * @returns {Object} headerActions, overlaySlot, patientItems, isItemVisible\r\n */\r\nconst usePatientRouteLayout = () => {\r\n  useAuthGuard();\r\n  const { t } = useI18n();\r\n  const router = useRouter();\r\n  const { isAuthenticated, logout } = useAuth();\r\n  const { isLoading } = useUiState();\r\n  const { isItemVisible } = useNavigationVisibility();\r\n  const patientItems = PATIENT_MENU_ITEMS;\r\n\r\n  const headerActions = useMemo(\r\n    () =>\r\n      isAuthenticated\r\n        ? [\r\n            {\r\n              id: 'logout',\r\n              label: t('navigation.header.logout'),\r\n              accessibilityLabel: t('navigation.header.logout'),\r\n              onPress: logout,\r\n              variant: ACTION_VARIANTS.GHOST,\r\n            },\r\n          ]\r\n        : [\r\n            {\r\n              id: 'login',\r\n              label: t('auth.login.button'),\r\n              accessibilityLabel: t('auth.login.button'),\r\n              onPress: () => router.push('/login'),\r\n              variant: ACTION_VARIANTS.PRIMARY,\r\n            },\r\n            {\r\n              id: 'register',\r\n              label: t('auth.register.button'),\r\n              accessibilityLabel: t('auth.register.button'),\r\n              onPress: () => router.push('/register'),\r\n              variant: ACTION_VARIANTS.GHOST,\r\n            },\r\n          ],\r\n    [isAuthenticated, logout, router, t]\r\n  );\r\n\r\n  const overlaySlot = useMemo(\r\n    () =>\r\n      isLoading ? (\r\n        <LoadingOverlay visible testID=\"patient-loading-overlay\" />\r\n      ) : null,\r\n    [isLoading]\r\n  );\r\n\r\n  return { headerActions, overlaySlot, patientItems, isItemVisible };\r\n};\r\n\r\nexport default usePatientRouteLayout;\r\n"],"mappings":";;;;AAMA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,MAAA,GAAAF,OAAA;AACA,IAAAG,SAAA,GAAAH,OAAA;AACA,IAAAI,OAAA,GAAAJ,OAAA;AACA,IAAAK,MAAA,GAAAL,OAAA;AACA,IAAAM,WAAA,GAAAN,OAAA;AAAsD,IAAAO,WAAA,GAAAP,OAAA;AAMtD,IAAMQ,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAA,EAAS;EAClC,IAAAC,oBAAY,EAAC,CAAC;EACd,IAAAC,QAAA,GAAc,IAAAC,cAAO,EAAC,CAAC;IAAfC,CAAC,GAAAF,QAAA,CAADE,CAAC;EACT,IAAMC,MAAM,GAAG,IAAAC,qBAAS,EAAC,CAAC;EAC1B,IAAAC,QAAA,GAAoC,IAAAC,cAAO,EAAC,CAAC;IAArCC,eAAe,GAAAF,QAAA,CAAfE,eAAe;IAAEC,MAAM,GAAAH,QAAA,CAANG,MAAM;EAC/B,IAAAC,WAAA,GAAsB,IAAAC,iBAAU,EAAC,CAAC;IAA1BC,SAAS,GAAAF,WAAA,CAATE,SAAS;EACjB,IAAAC,qBAAA,GAA0B,IAAAC,8BAAuB,EAAC,CAAC;IAA3CC,aAAa,GAAAF,qBAAA,CAAbE,aAAa;EACrB,IAAMC,YAAY,GAAGC,4BAAkB;EAEvC,IAAMC,aAAa,GAAG,IAAAC,cAAO,EAC3B;IAAA,OACEX,eAAe,GACX,CACE;MACEY,EAAE,EAAE,QAAQ;MACZC,KAAK,EAAElB,CAAC,CAAC,0BAA0B,CAAC;MACpCmB,kBAAkB,EAAEnB,CAAC,CAAC,0BAA0B,CAAC;MACjDoB,OAAO,EAAEd,MAAM;MACfe,OAAO,EAAEC,sBAAe,CAACC;IAC3B,CAAC,CACF,GACD,CACE;MACEN,EAAE,EAAE,OAAO;MACXC,KAAK,EAAElB,CAAC,CAAC,mBAAmB,CAAC;MAC7BmB,kBAAkB,EAAEnB,CAAC,CAAC,mBAAmB,CAAC;MAC1CoB,OAAO,EAAE,SAATA,OAAOA,CAAA;QAAA,OAAQnB,MAAM,CAACuB,IAAI,CAAC,QAAQ,CAAC;MAAA;MACpCH,OAAO,EAAEC,sBAAe,CAACG;IAC3B,CAAC,EACD;MACER,EAAE,EAAE,UAAU;MACdC,KAAK,EAAElB,CAAC,CAAC,sBAAsB,CAAC;MAChCmB,kBAAkB,EAAEnB,CAAC,CAAC,sBAAsB,CAAC;MAC7CoB,OAAO,EAAE,SAATA,OAAOA,CAAA;QAAA,OAAQnB,MAAM,CAACuB,IAAI,CAAC,WAAW,CAAC;MAAA;MACvCH,OAAO,EAAEC,sBAAe,CAACC;IAC3B,CAAC,CACF;EAAA,GACP,CAAClB,eAAe,EAAEC,MAAM,EAAEL,MAAM,EAAED,CAAC,CACrC,CAAC;EAED,IAAM0B,WAAW,GAAG,IAAAV,cAAO,EACzB;IAAA,OACEP,SAAS,GACP,IAAAd,WAAA,CAAAgC,GAAA,EAACjC,WAAA,CAAAkC,cAAc;MAACC,OAAO;MAACC,MAAM,EAAC;IAAyB,CAAE,CAAC,GACzD,IAAI;EAAA,GACV,CAACrB,SAAS,CACZ,CAAC;EAED,OAAO;IAAEM,aAAa,EAAbA,aAAa;IAAEW,WAAW,EAAXA,WAAW;IAAEb,YAAY,EAAZA,YAAY;IAAED,aAAa,EAAbA;EAAc,CAAC;AACpE,CAAC;AAAC,IAAAmB,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEarC,qBAAqB","ignoreList":[]}