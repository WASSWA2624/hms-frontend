{"version":3,"names":["_react","_interopRequireWildcard","require","_hooks","_useLanguageControls2","_interopRequireDefault","_types","_LanguageControlsWeb","_jsxRuntime","LanguageControlsWeb","_ref","testID","className","accessibilityLabel","accessibilityHint","_useI18n","useI18n","t","_useLanguageControls","useLanguageControls","locale","options","setLocale","_useState","useState","_useState2","_slicedToArray2","default","open","setOpen","wrapperRef","useRef","resolvedLabel","resolvedHint","currentFlag","LOCALE_FLAGS","close","useCallback","useEffect","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","jsxs","StyledLanguageControls","ref","children","jsx","StyledFlagTrigger","type","onClick","o","title","undefined","StyledLanguageMenu","role","map","opt","StyledLanguageItem","value","StyledLanguageItemFlag","label","_default","exports"],"sources":["LanguageControls.web.jsx"],"sourcesContent":["/**\r\n * LanguageControls Component - Web\r\n * Flag button that opens language list with flags\r\n * File: LanguageControls.web.jsx\r\n */\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { useI18n } from '@hooks';\r\nimport useLanguageControls from './useLanguageControls';\r\nimport { LOCALE_FLAGS } from './types';\r\nimport {\r\n  StyledLanguageControls,\r\n  StyledFlagTrigger,\r\n  StyledLanguageMenu,\r\n  StyledLanguageItem,\r\n  StyledLanguageItemFlag,\r\n} from './LanguageControls.web.styles';\r\n\r\n/**\r\n * LanguageControls component for Web\r\n */\r\nconst LanguageControlsWeb = ({ testID, className, accessibilityLabel, accessibilityHint }) => {\r\n  const { t } = useI18n();\r\n  const { locale, options, setLocale } = useLanguageControls();\r\n  const [open, setOpen] = useState(false);\r\n  const wrapperRef = useRef(null);\r\n\r\n  const resolvedLabel = accessibilityLabel || t('settings.language.accessibilityLabel');\r\n  const resolvedHint = accessibilityHint || t('settings.language.hint');\r\n  const currentFlag = LOCALE_FLAGS[locale] || 'üåê';\r\n\r\n  const close = useCallback(() => setOpen(false), []);\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const handleClickOutside = (e) => {\r\n      if (wrapperRef.current && !wrapperRef.current.contains(e.target)) close();\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, [open, close]);\r\n\r\n  return (\r\n    <StyledLanguageControls ref={wrapperRef} data-testid={testID} className={className}>\r\n      <StyledFlagTrigger\r\n        type=\"button\"\r\n        onClick={() => setOpen((o) => !o)}\r\n        aria-haspopup=\"listbox\"\r\n        aria-expanded={open}\r\n        aria-label={resolvedLabel}\r\n        title={resolvedHint}\r\n        data-testid={testID ? `${testID}-trigger` : undefined}\r\n      >\r\n        {currentFlag}\r\n      </StyledFlagTrigger>\r\n      {open && (\r\n        <StyledLanguageMenu role=\"listbox\" aria-label={resolvedLabel} data-testid={testID ? `${testID}-menu` : undefined}>\r\n          {options.map((opt) => (\r\n            <StyledLanguageItem\r\n              key={opt.value}\r\n              type=\"button\"\r\n              role=\"option\"\r\n              aria-selected={opt.value === locale}\r\n              onClick={() => {\r\n                setLocale(opt.value);\r\n                close();\r\n              }}\r\n              data-testid={testID ? `${testID}-option-${opt.value}` : undefined}\r\n            >\r\n              <StyledLanguageItemFlag>{LOCALE_FLAGS[opt.value] || 'üåê'}</StyledLanguageItemFlag>\r\n              <span>{opt.label}</span>\r\n            </StyledLanguageItem>\r\n          ))}\r\n        </StyledLanguageMenu>\r\n      )}\r\n    </StyledLanguageControls>\r\n  );\r\n};\r\n\r\nexport default LanguageControlsWeb;\r\n"],"mappings":"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","ignoreList":[]}