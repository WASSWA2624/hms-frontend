{"version":3,"names":["_react","_interopRequireWildcard","require","_expoRouter","_guards","_","_components","_GlobalFooter","_hooks","_useMainLayoutMemo","_useMainRouteLayoutWeb","_interopRequireDefault","_Brand","_HamburgerIcon","_HeaderUtility","_MobileSidebar","_MainRouteLayoutWeb","_types","_jsxRuntime","MainRouteLayoutWeb","useAuthGuard","layout","useMainRouteLayoutWeb","banners","useShellBanners","bannerSlot","length","jsx","ShellBanners","testID","t","mainItems","isItemVisible","overlaySlot","resolvedSidebarWidth","isSidebarCollapsed","isMobile","isHeaderHidden","isMobileSidebarOpen","authHeaderActions","handleToggleSidebar","handleShowHeader","handleResizeStart","handleResizeKeyDown","handleMobileOverlayKeyDown","closeButtonRef","mobileSidebarRef","footerVisible","hamburgerIcon","useMemo","default","headerActions","useHeaderActions","brandTitle","appName","appShortName","headerSlot","GlobalHeader","title","accessibilityLabel","actions","utilitySlot","jsxs","Fragment","children","LanguageControls","ThemeControls","Object","assign","sidebarSlot","StyledSidebarWrapper","Sidebar","items","collapsed","footerSlot","StyledSidebarResizeHandle","role","SIDEBAR_MIN_WIDTH","SIDEBAR_MAX_WIDTH","tabIndex","onMouseDown","onKeyDown","AppFrame","sidebar","header","footer","variant","FOOTER_VARIANTS","MAIN","banner","overlay","notices","NoticeSurface","sidebarCollapsed","sidebarWidth","collapsedWidth","SIDEBAR_COLLAPSED_WIDTH","Slot","StyledHeaderRevealButton","size","onPress","Icon","glyph","decorative","isOpen","onClose","handleCloseMobileSidebar","sidebarLabel","closeLabel","panelRef","_default","exports"],"sources":["MainRouteLayout.web.jsx"],"sourcesContent":["/**\r\n * MainRouteLayout Component - Web\r\n * Reusable route layout for authenticated/main app routes on Web\r\n * File: MainRouteLayout.web.jsx\r\n *\r\n * Per component-structure.mdc: Reusable layout components belong in platform/layouts/\r\n * Per app-router.mdc: Route layouts handle authentication guards\r\n * Per project-structure.mdc: One file = one responsibility; composition over inheritance\r\n */\r\n\r\nimport React, { useMemo } from 'react';\r\nimport { Slot } from 'expo-router';\r\nimport { useAuthGuard } from '@navigation/guards';\r\nimport { AppFrame } from '@platform/layouts';\r\nimport {\r\n  GlobalHeader,\r\n  Icon,\r\n  LanguageControls,\r\n  NoticeSurface,\r\n  ShellBanners,\r\n  Sidebar,\r\n  ThemeControls,\r\n} from '@platform/components';\r\nimport GlobalFooter, { FOOTER_VARIANTS } from '@platform/components/navigation/GlobalFooter';\r\nimport { useShellBanners } from '@hooks';\r\nimport { useHeaderActions } from './useMainLayoutMemo';\r\nimport useMainRouteLayoutWeb from './useMainRouteLayoutWeb';\r\nimport Brand from './Brand';\r\nimport HamburgerIcon from './HamburgerIcon';\r\nimport HeaderUtility from './HeaderUtility';\r\nimport MobileSidebar from './MobileSidebar';\r\nimport {\r\n  StyledHeaderRevealButton,\r\n  StyledSidebarResizeHandle,\r\n  StyledSidebarWrapper,\r\n} from './MainRouteLayout.web.styles';\r\nimport { SIDEBAR_COLLAPSED_WIDTH, SIDEBAR_MIN_WIDTH, SIDEBAR_MAX_WIDTH } from './types';\r\n\r\nconst MainRouteLayoutWeb = () => {\r\n  useAuthGuard();\r\n  const layout = useMainRouteLayoutWeb();\r\n  const banners = useShellBanners();\r\n  const bannerSlot = banners.length ? (\r\n    <ShellBanners banners={banners} testID=\"main-shell-banners\" />\r\n  ) : null;\r\n  const {\r\n    t,\r\n    mainItems,\r\n    isItemVisible,\r\n    overlaySlot,\r\n    resolvedSidebarWidth,\r\n    isSidebarCollapsed,\r\n    isMobile,\r\n    isHeaderHidden,\r\n    isMobileSidebarOpen,\r\n    authHeaderActions,\r\n    handleToggleSidebar,\r\n    handleShowHeader,\r\n    handleResizeStart,\r\n    handleResizeKeyDown,\r\n    handleMobileOverlayKeyDown,\r\n    closeButtonRef,\r\n    mobileSidebarRef,\r\n    footerVisible,\r\n  } = layout;\r\n\r\n  const hamburgerIcon = useMemo(() => <HamburgerIcon />, []);\r\n  const headerActions = useHeaderActions(\r\n    authHeaderActions,\r\n    hamburgerIcon,\r\n    handleToggleSidebar,\r\n    t\r\n  );\r\n  const brandTitle = useMemo(\r\n    () => (\r\n      <Brand\r\n        appName={t('app.name')}\r\n        appShortName={t('app.shortName')}\r\n      />\r\n    ),\r\n    [t]\r\n  );\r\n\r\n  const headerSlot = isHeaderHidden ? null : (\r\n    <GlobalHeader\r\n      title={brandTitle}\r\n      accessibilityLabel={t('navigation.header.title')}\r\n      testID=\"main-header\"\r\n      actions={headerActions}\r\n      utilitySlot={(\r\n        <>\r\n          <LanguageControls testID=\"main-language-controls\" />\r\n          <ThemeControls testID=\"main-theme-controls\" />\r\n          <HeaderUtility {...layout} />\r\n        </>\r\n      )}\r\n    />\r\n  );\r\n\r\n  const sidebarSlot = (\r\n    <StyledSidebarWrapper>\r\n      <Sidebar\r\n        accessibilityLabel={t('navigation.sidebar.title')}\r\n        items={mainItems}\r\n        isItemVisible={isItemVisible}\r\n        collapsed={isSidebarCollapsed}\r\n        footerSlot={null}\r\n        testID=\"main-sidebar\"\r\n      />\r\n      {!isMobile && !isSidebarCollapsed ? (\r\n        <StyledSidebarResizeHandle\r\n          role=\"slider\"\r\n          aria-orientation=\"vertical\"\r\n          aria-label={t('navigation.sidebar.resize')}\r\n          aria-valuemin={SIDEBAR_MIN_WIDTH}\r\n          aria-valuemax={SIDEBAR_MAX_WIDTH}\r\n          aria-valuenow={resolvedSidebarWidth}\r\n          tabIndex={0}\r\n          onMouseDown={handleResizeStart}\r\n          onKeyDown={handleResizeKeyDown}\r\n        />\r\n      ) : null}\r\n    </StyledSidebarWrapper>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <AppFrame\r\n        sidebar={sidebarSlot}\r\n        header={headerSlot}\r\n        footer={\r\n          !isMobile && footerVisible ? (\r\n            <GlobalFooter\r\n              variant={FOOTER_VARIANTS.MAIN}\r\n              accessibilityLabel={t('navigation.footer.title')}\r\n              testID=\"main-footer\"\r\n            />\r\n          ) : null\r\n        }\r\n        banner={bannerSlot}\r\n        overlay={overlaySlot}\r\n        notices={<NoticeSurface testID=\"main-notice-surface\" />}\r\n        sidebarCollapsed={isSidebarCollapsed}\r\n        sidebarWidth={resolvedSidebarWidth}\r\n        collapsedWidth={SIDEBAR_COLLAPSED_WIDTH}\r\n        accessibilityLabel={t('navigation.mainNavigation')}\r\n        testID=\"main-route-layout\"\r\n      >\r\n        <Slot />\r\n      </AppFrame>\r\n      {isHeaderHidden ? (\r\n        <StyledHeaderRevealButton\r\n          variant=\"outline\"\r\n          size=\"small\"\r\n          onPress={handleShowHeader}\r\n          accessibilityLabel={t('navigation.header.showHeader')}\r\n          testID=\"main-header-reveal\"\r\n        >\r\n          <Icon glyph=\"Ë…\" decorative accessibilityLabel={t('navigation.header.showHeader')} />\r\n        </StyledHeaderRevealButton>\r\n      ) : null}\r\n      {isMobile ? (\r\n        <MobileSidebar\r\n          isOpen={isMobileSidebarOpen}\r\n          onClose={layout.handleCloseMobileSidebar}\r\n          onKeyDown={handleMobileOverlayKeyDown}\r\n          sidebarLabel={t('navigation.sidebar.title')}\r\n          closeLabel={t('common.close')}\r\n          mainItems={mainItems}\r\n          isItemVisible={isItemVisible}\r\n          closeButtonRef={closeButtonRef}\r\n          panelRef={mobileSidebarRef}\r\n        />\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MainRouteLayoutWeb;\r\n"],"mappings":";;;;;;AAUA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AACA,IAAAG,CAAA,GAAAH,OAAA;AACA,IAAAI,WAAA,GAAAJ,OAAA;AASA,IAAAK,aAAA,GAAAN,uBAAA,CAAAC,OAAA;AACA,IAAAM,MAAA,GAAAN,OAAA;AACA,IAAAO,kBAAA,GAAAP,OAAA;AACA,IAAAQ,sBAAA,GAAAC,sBAAA,CAAAT,OAAA;AACA,IAAAU,MAAA,GAAAD,sBAAA,CAAAT,OAAA;AACA,IAAAW,cAAA,GAAAF,sBAAA,CAAAT,OAAA;AACA,IAAAY,cAAA,GAAAH,sBAAA,CAAAT,OAAA;AACA,IAAAa,cAAA,GAAAJ,sBAAA,CAAAT,OAAA;AACA,IAAAc,mBAAA,GAAAd,OAAA;AAKA,IAAAe,MAAA,GAAAf,OAAA;AAAwF,IAAAgB,WAAA,GAAAhB,OAAA;AAExF,IAAMiB,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAA,EAAS;EAC/B,IAAAC,oBAAY,EAAC,CAAC;EACd,IAAMC,MAAM,GAAG,IAAAC,8BAAqB,EAAC,CAAC;EACtC,IAAMC,OAAO,GAAG,IAAAC,sBAAe,EAAC,CAAC;EACjC,IAAMC,UAAU,GAAGF,OAAO,CAACG,MAAM,GAC/B,IAAAR,WAAA,CAAAS,GAAA,EAACrB,WAAA,CAAAsB,YAAY;IAACL,OAAO,EAAEA,OAAQ;IAACM,MAAM,EAAC;EAAoB,CAAE,CAAC,GAC5D,IAAI;EACR,IACEC,CAAC,GAkBCT,MAAM,CAlBRS,CAAC;IACDC,SAAS,GAiBPV,MAAM,CAjBRU,SAAS;IACTC,aAAa,GAgBXX,MAAM,CAhBRW,aAAa;IACbC,WAAW,GAeTZ,MAAM,CAfRY,WAAW;IACXC,oBAAoB,GAclBb,MAAM,CAdRa,oBAAoB;IACpBC,kBAAkB,GAahBd,MAAM,CAbRc,kBAAkB;IAClBC,QAAQ,GAYNf,MAAM,CAZRe,QAAQ;IACRC,cAAc,GAWZhB,MAAM,CAXRgB,cAAc;IACdC,mBAAmB,GAUjBjB,MAAM,CAVRiB,mBAAmB;IACnBC,iBAAiB,GASflB,MAAM,CATRkB,iBAAiB;IACjBC,mBAAmB,GAQjBnB,MAAM,CARRmB,mBAAmB;IACnBC,gBAAgB,GAOdpB,MAAM,CAPRoB,gBAAgB;IAChBC,iBAAiB,GAMfrB,MAAM,CANRqB,iBAAiB;IACjBC,mBAAmB,GAKjBtB,MAAM,CALRsB,mBAAmB;IACnBC,0BAA0B,GAIxBvB,MAAM,CAJRuB,0BAA0B;IAC1BC,cAAc,GAGZxB,MAAM,CAHRwB,cAAc;IACdC,gBAAgB,GAEdzB,MAAM,CAFRyB,gBAAgB;IAChBC,aAAa,GACX1B,MAAM,CADR0B,aAAa;EAGf,IAAMC,aAAa,GAAG,IAAAC,cAAO,EAAC;IAAA,OAAM,IAAA/B,WAAA,CAAAS,GAAA,EAACd,cAAA,CAAAqC,OAAa,IAAE,CAAC;EAAA,GAAE,EAAE,CAAC;EAC1D,IAAMC,aAAa,GAAG,IAAAC,mCAAgB,EACpCb,iBAAiB,EACjBS,aAAa,EACbR,mBAAmB,EACnBV,CACF,CAAC;EACD,IAAMuB,UAAU,GAAG,IAAAJ,cAAO,EACxB;IAAA,OACE,IAAA/B,WAAA,CAAAS,GAAA,EAACf,MAAA,CAAAsC,OAAK;MACJI,OAAO,EAAExB,CAAC,CAAC,UAAU,CAAE;MACvByB,YAAY,EAAEzB,CAAC,CAAC,eAAe;IAAE,CAClC,CAAC;EAAA,CACH,EACD,CAACA,CAAC,CACJ,CAAC;EAED,IAAM0B,UAAU,GAAGnB,cAAc,GAAG,IAAI,GACtC,IAAAnB,WAAA,CAAAS,GAAA,EAACrB,WAAA,CAAAmD,YAAY;IACXC,KAAK,EAAEL,UAAW;IAClBM,kBAAkB,EAAE7B,CAAC,CAAC,yBAAyB,CAAE;IACjDD,MAAM,EAAC,aAAa;IACpB+B,OAAO,EAAET,aAAc;IACvBU,WAAW,EACT,IAAA3C,WAAA,CAAA4C,IAAA,EAAA5C,WAAA,CAAA6C,QAAA;MAAAC,QAAA,GACE,IAAA9C,WAAA,CAAAS,GAAA,EAACrB,WAAA,CAAA2D,gBAAgB;QAACpC,MAAM,EAAC;MAAwB,CAAE,CAAC,EACpD,IAAAX,WAAA,CAAAS,GAAA,EAACrB,WAAA,CAAA4D,aAAa;QAACrC,MAAM,EAAC;MAAqB,CAAE,CAAC,EAC9C,IAAAX,WAAA,CAAAS,GAAA,EAACb,cAAA,CAAAoC,OAAa,EAAAiB,MAAA,CAAAC,MAAA,KAAK/C,MAAM,CAAG,CAAC;IAAA,CAC7B;EACF,CACH,CACF;EAED,IAAMgD,WAAW,GACf,IAAAnD,WAAA,CAAA4C,IAAA,EAAC9C,mBAAA,CAAAsD,oBAAoB;IAAAN,QAAA,GACnB,IAAA9C,WAAA,CAAAS,GAAA,EAACrB,WAAA,CAAAiE,OAAO;MACNZ,kBAAkB,EAAE7B,CAAC,CAAC,0BAA0B,CAAE;MAClD0C,KAAK,EAAEzC,SAAU;MACjBC,aAAa,EAAEA,aAAc;MAC7ByC,SAAS,EAAEtC,kBAAmB;MAC9BuC,UAAU,EAAE,IAAK;MACjB7C,MAAM,EAAC;IAAc,CACtB,CAAC,EACD,CAACO,QAAQ,IAAI,CAACD,kBAAkB,GAC/B,IAAAjB,WAAA,CAAAS,GAAA,EAACX,mBAAA,CAAA2D,yBAAyB;MACxBC,IAAI,EAAC,QAAQ;MACb,oBAAiB,UAAU;MAC3B,cAAY9C,CAAC,CAAC,2BAA2B,CAAE;MAC3C,iBAAe+C,wBAAkB;MACjC,iBAAeC,wBAAkB;MACjC,iBAAe5C,oBAAqB;MACpC6C,QAAQ,EAAE,CAAE;MACZC,WAAW,EAAEtC,iBAAkB;MAC/BuC,SAAS,EAAEtC;IAAoB,CAChC,CAAC,GACA,IAAI;EAAA,CACY,CACvB;EAED,OACE,IAAAzB,WAAA,CAAA4C,IAAA,EAAA5C,WAAA,CAAA6C,QAAA;IAAAC,QAAA,GACE,IAAA9C,WAAA,CAAAS,GAAA,EAACtB,CAAA,CAAA6E,QAAQ;MACPC,OAAO,EAAEd,WAAY;MACrBe,MAAM,EAAE5B,UAAW;MACnB6B,MAAM,EACJ,CAACjD,QAAQ,IAAIW,aAAa,GACxB,IAAA7B,WAAA,CAAAS,GAAA,EAACpB,aAAA,CAAA2C,OAAY;QACXoC,OAAO,EAAEC,6BAAe,CAACC,IAAK;QAC9B7B,kBAAkB,EAAE7B,CAAC,CAAC,yBAAyB,CAAE;QACjDD,MAAM,EAAC;MAAa,CACrB,CAAC,GACA,IACL;MACD4D,MAAM,EAAEhE,UAAW;MACnBiE,OAAO,EAAEzD,WAAY;MACrB0D,OAAO,EAAE,IAAAzE,WAAA,CAAAS,GAAA,EAACrB,WAAA,CAAAsF,aAAa;QAAC/D,MAAM,EAAC;MAAqB,CAAE,CAAE;MACxDgE,gBAAgB,EAAE1D,kBAAmB;MACrC2D,YAAY,EAAE5D,oBAAqB;MACnC6D,cAAc,EAAEC,8BAAwB;MACxCrC,kBAAkB,EAAE7B,CAAC,CAAC,2BAA2B,CAAE;MACnDD,MAAM,EAAC,mBAAmB;MAAAmC,QAAA,EAE1B,IAAA9C,WAAA,CAAAS,GAAA,EAACxB,WAAA,CAAA8F,IAAI,IAAE;IAAC,CACA,CAAC,EACV5D,cAAc,GACb,IAAAnB,WAAA,CAAAS,GAAA,EAACX,mBAAA,CAAAkF,wBAAwB;MACvBZ,OAAO,EAAC,SAAS;MACjBa,IAAI,EAAC,OAAO;MACZC,OAAO,EAAE3D,gBAAiB;MAC1BkB,kBAAkB,EAAE7B,CAAC,CAAC,8BAA8B,CAAE;MACtDD,MAAM,EAAC,oBAAoB;MAAAmC,QAAA,EAE3B,IAAA9C,WAAA,CAAAS,GAAA,EAACrB,WAAA,CAAA+F,IAAI;QAACC,KAAK,EAAC,QAAG;QAACC,UAAU;QAAC5C,kBAAkB,EAAE7B,CAAC,CAAC,8BAA8B;MAAE,CAAE;IAAC,CAC5D,CAAC,GACzB,IAAI,EACPM,QAAQ,GACP,IAAAlB,WAAA,CAAAS,GAAA,EAACZ,cAAA,CAAAmC,OAAa;MACZsD,MAAM,EAAElE,mBAAoB;MAC5BmE,OAAO,EAAEpF,MAAM,CAACqF,wBAAyB;MACzCzB,SAAS,EAAErC,0BAA2B;MACtC+D,YAAY,EAAE7E,CAAC,CAAC,0BAA0B,CAAE;MAC5C8E,UAAU,EAAE9E,CAAC,CAAC,cAAc,CAAE;MAC9BC,SAAS,EAAEA,SAAU;MACrBC,aAAa,EAAEA,aAAc;MAC7Ba,cAAc,EAAEA,cAAe;MAC/BgE,QAAQ,EAAE/D;IAAiB,CAC5B,CAAC,GACA,IAAI;EAAA,CACR,CAAC;AAEP,CAAC;AAAC,IAAAgE,QAAA,GAAAC,OAAA,CAAA7D,OAAA,GAEa/B,kBAAkB","ignoreList":[]}