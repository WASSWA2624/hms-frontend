{"version":3,"names":["_fs","_interopRequireDefault","require","_path","_guards","describe","guardsDir","path","join","__dirname","barrelFile","it","expect","fs","existsSync","toBe","statSync","isDirectory","isFile","useAuthGuard","useRoleGuard","ROLE_GUARD_ERRORS","toBeDefined","NO_USER","NO_ROLE","INSUFFICIENT_ROLE"],"sources":["index.test.js"],"sourcesContent":["/**\r\n * Guard Infrastructure Tests (Step 7.11)\r\n * \r\n * Verifies:\r\n * - Folder structure exists (src/navigation/guards/)\r\n * - Barrel export file exists (src/navigation/guards/index.js)\r\n * - Barrel export correctly exports all guards\r\n * \r\n * Rule References:\r\n * - project-structure.mdc (navigation guards in src/navigation/guards/)\r\n * - coding-conventions.mdc (barrel exports via index.js)\r\n */\r\n\r\nimport fs from 'fs';\r\nimport path from 'path';\r\nimport {\r\n  useAuthGuard,\r\n  useRoleGuard,\r\n  ROLE_GUARD_ERRORS,\r\n} from '@navigation/guards';\r\n\r\ndescribe('Step 7.11: Guard Infrastructure', () => {\r\n  const guardsDir = path.join(__dirname, '../../../navigation/guards');\r\n  const barrelFile = path.join(guardsDir, 'index.js');\r\n\r\n  describe('Folder Structure', () => {\r\n    it('should have guards directory at src/navigation/guards/', () => {\r\n      expect(fs.existsSync(guardsDir)).toBe(true);\r\n      expect(fs.statSync(guardsDir).isDirectory()).toBe(true);\r\n    });\r\n\r\n    it('should have barrel export file at src/navigation/guards/index.js', () => {\r\n      expect(fs.existsSync(barrelFile)).toBe(true);\r\n      expect(fs.statSync(barrelFile).isFile()).toBe(true);\r\n    });\r\n  });\r\n\r\n  describe('Barrel Export', () => {\r\n    it('should export useAuthGuard hook', () => {\r\n      expect(typeof useAuthGuard).toBe('function');\r\n    });\r\n\r\n    it('should export useRoleGuard hook', () => {\r\n      expect(typeof useRoleGuard).toBe('function');\r\n    });\r\n\r\n    it('should export ROLE_GUARD_ERRORS constants', () => {\r\n      expect(ROLE_GUARD_ERRORS).toBeDefined();\r\n      expect(typeof ROLE_GUARD_ERRORS).toBe('object');\r\n      expect(ROLE_GUARD_ERRORS.NO_USER).toBe('NO_USER');\r\n      expect(ROLE_GUARD_ERRORS.NO_ROLE).toBe('NO_ROLE');\r\n      expect(ROLE_GUARD_ERRORS.INSUFFICIENT_ROLE).toBe('INSUFFICIENT_ROLE');\r\n    });\r\n\r\n    it('should allow importing from @navigation/guards alias', () => {\r\n      // Verify that the alias resolves correctly\r\n      // This test verifies the imports at the top of the file work correctly\r\n      // The imports are already tested above, this confirms alias resolution\r\n      expect(useAuthGuard).toBeDefined();\r\n      expect(useRoleGuard).toBeDefined();\r\n      expect(ROLE_GUARD_ERRORS).toBeDefined();\r\n    });\r\n  });\r\n});\r\n\r\n"],"mappings":";AAaA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AAMAG,QAAQ,CAAC,iCAAiC,EAAE,YAAM;EAChD,IAAMC,SAAS,GAAGC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,4BAA4B,CAAC;EACpE,IAAMC,UAAU,GAAGH,aAAI,CAACC,IAAI,CAACF,SAAS,EAAE,UAAU,CAAC;EAEnDD,QAAQ,CAAC,kBAAkB,EAAE,YAAM;IACjCM,EAAE,CAAC,wDAAwD,EAAE,YAAM;MACjEC,MAAM,CAACC,WAAE,CAACC,UAAU,CAACR,SAAS,CAAC,CAAC,CAACS,IAAI,CAAC,IAAI,CAAC;MAC3CH,MAAM,CAACC,WAAE,CAACG,QAAQ,CAACV,SAAS,CAAC,CAACW,WAAW,CAAC,CAAC,CAAC,CAACF,IAAI,CAAC,IAAI,CAAC;IACzD,CAAC,CAAC;IAEFJ,EAAE,CAAC,kEAAkE,EAAE,YAAM;MAC3EC,MAAM,CAACC,WAAE,CAACC,UAAU,CAACJ,UAAU,CAAC,CAAC,CAACK,IAAI,CAAC,IAAI,CAAC;MAC5CH,MAAM,CAACC,WAAE,CAACG,QAAQ,CAACN,UAAU,CAAC,CAACQ,MAAM,CAAC,CAAC,CAAC,CAACH,IAAI,CAAC,IAAI,CAAC;IACrD,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFV,QAAQ,CAAC,eAAe,EAAE,YAAM;IAC9BM,EAAE,CAAC,iCAAiC,EAAE,YAAM;MAC1CC,MAAM,CAAC,OAAOO,oBAAY,CAAC,CAACJ,IAAI,CAAC,UAAU,CAAC;IAC9C,CAAC,CAAC;IAEFJ,EAAE,CAAC,iCAAiC,EAAE,YAAM;MAC1CC,MAAM,CAAC,OAAOQ,oBAAY,CAAC,CAACL,IAAI,CAAC,UAAU,CAAC;IAC9C,CAAC,CAAC;IAEFJ,EAAE,CAAC,2CAA2C,EAAE,YAAM;MACpDC,MAAM,CAACS,yBAAiB,CAAC,CAACC,WAAW,CAAC,CAAC;MACvCV,MAAM,CAAC,OAAOS,yBAAiB,CAAC,CAACN,IAAI,CAAC,QAAQ,CAAC;MAC/CH,MAAM,CAACS,yBAAiB,CAACE,OAAO,CAAC,CAACR,IAAI,CAAC,SAAS,CAAC;MACjDH,MAAM,CAACS,yBAAiB,CAACG,OAAO,CAAC,CAACT,IAAI,CAAC,SAAS,CAAC;MACjDH,MAAM,CAACS,yBAAiB,CAACI,iBAAiB,CAAC,CAACV,IAAI,CAAC,mBAAmB,CAAC;IACvE,CAAC,CAAC;IAEFJ,EAAE,CAAC,sDAAsD,EAAE,YAAM;MAI/DC,MAAM,CAACO,oBAAY,CAAC,CAACG,WAAW,CAAC,CAAC;MAClCV,MAAM,CAACQ,oBAAY,CAAC,CAACE,WAAW,CAAC,CAAC;MAClCV,MAAM,CAACS,yBAAiB,CAAC,CAACC,WAAW,CAAC,CAAC;IACzC,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}