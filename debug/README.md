# Debug Logs

Debug scripts write generated logs to this folder. All `*.log` files here are gitignored.

## Log Files

- `expo-debug.log`: Expo/Metro stdout and stderr. Generated by `npm run debug:expo`.
- `android-debug.log`: Android `adb logcat` output. Generated by `npm run debug:android`.
- `ios-debug.log`: iOS simulator log stream. Generated by `npm run debug:ios` (macOS only).
- `web-debug.log`: Browser console forwarding output. Generated by running `npm run debug:web` with the web app in dev mode.

## Commands

- `npm run debug:expo` - Start Expo and mirror output to `debug/expo-debug.log`.
- `npm run debug:android` - Capture Android logcat to `debug/android-debug.log`.
- `npm run debug:ios` - Capture iOS simulator logs to `debug/ios-debug.log` (macOS only).
- `npm run debug:web` - Start local HTTP receiver on `127.0.0.1:9966` (or `DEBUG_LOG_PORT`).
- `npm run debug:all` - Run Expo + Android loggers, and iOS logger on macOS.

## Web Logging Notes

- Import `@debug/web-console-logger` once from `src/app/_layout.jsx`.
- Web console forwarding is dev-web only and is a no-op in production/native.
- Set `EXPO_PUBLIC_DEBUG_LOG_URL` to override the web receiver URL.
- Sensitive fields (for example tokens/passwords) are redacted before writing logs.

## Android Quick Debug Flow

1. Ensure a device/emulator is available (`adb devices`).
2. Start log capture: `npm run debug:android`.
3. Reproduce the issue in the app.
4. Inspect `debug/android-debug.log`:
   - `ReactNativeJS` for JavaScript errors.
   - `AndroidRuntime` for native crashes.
   - `Expo` and `ExpoModulesCore` for Expo runtime logs.

## References

- `.cursor/rules/debug.mdc`
