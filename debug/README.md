# Debug Log Files

Generated log files are written here by the scripts in `scripts/debug/`. All `*.log` files are gitignored.

## Log Files

- `expo-debug.log`: Captures Expo/Metro stdout and stderr. Generated by running `npm run debug:expo` (uses port 8082 to avoid prompts when 8081 is in use).
- `android-debug.log`: Captures adb logcat output. Generated by running `npm run debug:android`.
- `ios-debug.log`: Captures iOS simulator log stream. Generated by running `npm run debug:ios`. (macOS only)
- `web-debug.log`: Captures browser console logs via HTTP POST, using `npm run debug:web` together with the web-console-logger.

## Commands

- `npm run debug:expo` — Start Expo with output teed to `expo-debug.log`
- `npm run debug:android` — Capture adb logcat to `android-debug.log`
- `npm run debug:ios` — Capture iOS simulator logs to `ios-debug.log` (macOS only)
- `npm run debug:web` — Start HTTP server for browser console capture
- `npm run debug:all` — Run expo + android + ios loggers in parallel

## Debugging Android when the app breaks

1. **Connect device or start emulator** and ensure `adb devices` shows the device.
2. **Start Android log capture** in a terminal:  
   `npm run debug:android`  
   This clears logcat, then streams only React Native / Expo / AndroidRuntime (and ExpoModulesCore) to the terminal and to `debug/android-debug.log`.
3. **Reproduce the break**: launch the app (e.g. from another terminal run `npx expo start --port 8082`, then open the app on the device/emulator) and trigger the crash or bad behavior.
4. **Inspect** `debug/android-debug.log` (or the terminal):
   - **ReactNativeJS** — JavaScript errors and console output (look for redbox stack traces).
   - **AndroidRuntime** — native crashes (FATAL EXCEPTION, stack traces).
   - **Expo / ExpoModulesCore** — Expo runtime and module messages.
5. **Optional**: run `npm run debug:all` to capture Expo + Android (and iOS on macOS) logs together while you reproduce the issue.

See `.cursor/rules/debug.mdc` for full details.
